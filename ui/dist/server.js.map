{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@hapi/address/lib/domain.js","webpack:///./node_modules/@hapi/address/lib/email.js","webpack:///./node_modules/@hapi/address/lib/errors.js","webpack:///./node_modules/@hapi/address/lib/ip.js","webpack:///./node_modules/@hapi/address/lib/tlds.js","webpack:///./node_modules/@hapi/address/lib/uri.js","webpack:///./node_modules/@hapi/formula/lib/index.js","webpack:///./node_modules/@hapi/hoek/lib/applyToDefaults.js","webpack:///./node_modules/@hapi/hoek/lib/assert.js","webpack:///./node_modules/@hapi/hoek/lib/clone.js","webpack:///./node_modules/@hapi/hoek/lib/deepEqual.js","webpack:///./node_modules/@hapi/hoek/lib/error.js","webpack:///./node_modules/@hapi/hoek/lib/escapeHtml.js","webpack:///./node_modules/@hapi/hoek/lib/escapeRegex.js","webpack:///./node_modules/@hapi/hoek/lib/ignore.js","webpack:///./node_modules/@hapi/hoek/lib/merge.js","webpack:///./node_modules/@hapi/hoek/lib/reach.js","webpack:///./node_modules/@hapi/hoek/lib/stringify.js","webpack:///./node_modules/@hapi/hoek/lib/types.js","webpack:///./node_modules/@hapi/hoek/lib/utils.js","webpack:///./node_modules/@hapi/joi/lib/annotate.js","webpack:///./node_modules/@hapi/joi/lib/base.js","webpack:///./node_modules/@hapi/joi/lib/cache.js","webpack:///./node_modules/@hapi/joi/lib/common.js","webpack:///./node_modules/@hapi/joi/lib/compile.js","webpack:///./node_modules/@hapi/joi/lib/errors.js","webpack:///./node_modules/@hapi/joi/lib/extend.js","webpack:///./node_modules/@hapi/joi/lib/index.js","webpack:///./node_modules/@hapi/joi/lib/manifest.js","webpack:///./node_modules/@hapi/joi/lib/messages.js","webpack:///./node_modules/@hapi/joi/lib/modify.js","webpack:///./node_modules/@hapi/joi/lib/ref.js","webpack:///./node_modules/@hapi/joi/lib/schemas.js","webpack:///./node_modules/@hapi/joi/lib/state.js","webpack:///./node_modules/@hapi/joi/lib/template.js","webpack:///./node_modules/@hapi/joi/lib/trace.js","webpack:///./node_modules/@hapi/joi/lib/types/alternatives.js","webpack:///./node_modules/@hapi/joi/lib/types/any.js","webpack:///./node_modules/@hapi/joi/lib/types/array.js","webpack:///./node_modules/@hapi/joi/lib/types/binary.js","webpack:///./node_modules/@hapi/joi/lib/types/boolean.js","webpack:///./node_modules/@hapi/joi/lib/types/date.js","webpack:///./node_modules/@hapi/joi/lib/types/function.js","webpack:///./node_modules/@hapi/joi/lib/types/keys.js","webpack:///./node_modules/@hapi/joi/lib/types/link.js","webpack:///./node_modules/@hapi/joi/lib/types/number.js","webpack:///./node_modules/@hapi/joi/lib/types/object.js","webpack:///./node_modules/@hapi/joi/lib/types/string.js","webpack:///./node_modules/@hapi/joi/lib/types/symbol.js","webpack:///./node_modules/@hapi/joi/lib/validator.js","webpack:///./node_modules/@hapi/joi/lib/values.js","webpack:///./node_modules/@hapi/pinpoint/lib/index.js","webpack:///./node_modules/@hapi/topo/lib/index.js","webpack:///(webpack)/hot/log-apply-result.js","webpack:///(webpack)/hot/log.js","webpack:///(webpack)/hot/poll.js","webpack:///./server/render.jsx","webpack:///./server/template.js","webpack:///./server/uiserver.js","webpack:///./src/About.jsx","webpack:///./src/AddPhoto.jsx","webpack:///./src/BlogPost.jsx","webpack:///./src/Contents.jsx","webpack:///./src/DateInput.jsx","webpack:///./src/Form.jsx","webpack:///./src/Input.jsx","webpack:///./src/LocationCard.jsx","webpack:///./src/LocationDetailStrapi.jsx","webpack:///./src/Login.jsx","webpack:///./src/NotFound.jsx","webpack:///./src/Page.jsx","webpack:///./src/PhotoAddStrapi.jsx","webpack:///./src/PhotoAddToLocation.jsx","webpack:///./src/PhotoCarousel.jsx","webpack:///./src/PhotoDetail.jsx","webpack:///./src/PhotoDetailStrapi.jsx","webpack:///./src/PhotoEdit.jsx","webpack:///./src/PhotoFilter.jsx","webpack:///./src/PhotoListStrapi.jsx","webpack:///./src/PhotoReport.jsx","webpack:///./src/Register.jsx","webpack:///./src/TextInput.jsx","webpack:///./src/graphQLFetch.js","webpack:///./src/images/locationMarker.svg","webpack:///./src/images/markerShadow.png","webpack:///./src/images/userMarker.svg","webpack:///./src/routes.js","webpack:///./src/services/httpService.js","webpack:///./src/store.js","webpack:///./webpack.config.js","webpack:///external \"autoprefixer\"","webpack:///external \"axios\"","webpack:///external \"dotenv\"","webpack:///external \"exif-js\"","webpack:///external \"exifr\"","webpack:///external \"express\"","webpack:///external \"http-proxy-middleware\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"leaflet\"","webpack:///external \"leaflet/dist/images/marker-shadow.png\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-icons/ai\"","webpack:///external \"react-icons/fa\"","webpack:///external \"react-icons/fi\"","webpack:///external \"react-leaflet-universal\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-select\"","webpack:///external \"react-select/animated\"","webpack:///external \"react-select/creatable\"","webpack:///external \"react-toastify\"","webpack:///external \"serialize-javascript\"","webpack:///external \"slugify\"","webpack:///external \"source-map-support\"","webpack:///external \"tailwindcss\"","webpack:///external \"url\"","webpack:///external \"url-search-params\"","webpack:///external \"util\"","webpack:///external \"webpack\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///external \"webpack-node-externals\""],"names":["Url","require","Errors","internals","minDomainSegments","nonAsciiRx","domainControlRx","tldSegmentRx","domainSegmentRx","URL","exports","analyze","domain","options","Error","code","length","ascii","test","allowUnicode","normalize","punycode","segments","split","tlds","tld","toLowerCase","deny","has","allow","i","segment","isValid","host","err","Util","Domain","encoder","TextEncoder","email","parts","local","ignoreLength","encode","atextRx","char","binary","atomRx","Array","from","map","v","String","fromCharCode","join","RegExp","codes","EMPTY_STRING","FORBIDDEN_UNICODE","MULTIPLE_AT_CHAR","MISSING_AT_CHAR","EMPTY_LOCAL","ADDRESS_TOO_LONG","LOCAL_TOO_LONG","EMPTY_LOCAL_SEGMENT","INVALID_LOCAL_CHARS","DOMAIN_NON_EMPTY_STRING","DOMAIN_TOO_LONG","DOMAIN_INVALID_UNICODE_CHARS","DOMAIN_INVALID_CHARS","DOMAIN_INVALID_TLDS_CHARS","DOMAIN_SEGMENTS_COUNT","DOMAIN_FORBIDDEN_TLDS","DOMAIN_EMPTY_SEGMENT","DOMAIN_LONG_SEGMENT","error","Assert","Uri","regex","cidr","undefined","includes","version","isArray","versions","Set","ip","cidrpart","v4Cidr","v6Cidr","raw","module","EscapeRegex","generate","rfc3986","hexDigit","hexDigitOnly","unreserved","subDelims","pctEncoded","pchar","pcharOnly","decOctect","ipv4address","h16","ls32","IPv6SixHex","IPv6FiveHex","IPv6FourHex","IPv6ThreeHex","IPv6TwoHex","IPv6OneHex","IPv6NoneHex","IPv6NoneHex2","IPv6NoneHex3","ipv4Cidr","ipv6Cidr","ipv6address","ipvFuture","scheme","schemeRegex","userinfo","IPLiteral","regName","port","authority","authorityCapture","segmentNz","segmentNzNc","pathEmpty","pathAbEmpty","pathAbsolute","pathRootless","pathNoScheme","pathAbNoAuthority","hierPart","hierPartCapture","relativeRef","relativeRefCapture","query","queryWithSquareBrackets","fragment","ipv4","ipv6","ipvfuture","createRegex","rfc","allowQuerySquareBrackets","suffix","relative","relativeOnly","wrap","customScheme","schemes","concat","selections","push","source","toString","absolute","prefix","allowRelative","uriRegex","operators","operatorCharacters","operatorsOrder","operatorsPrefix","literals","numberRx","tokenRx","symbol","Symbol","settings","Parser","constructor","string","constants","constant","value","Object","assign","functions","single","_parts","_parse","current","parenthesis","literal","flush","inner","last","type","_subFormula","sub","match","parseFloat","c","part","operator","reference","name","method","args","arg","context","innerValues","evaluate","call","slice","splice","forEach","set","left","right","result","calculate","prototype","negative","exists","Math","pow","Clone","Merge","Reach","defaults","shallow","applyToDefaultsWithShallow","copy","nullOverride","mergeArrays","keys","seen","Map","merge","key","ref","add","reachCopy","dst","src","path","AssertError","condition","Types","Utils","needsProtoHack","weakSet","weakMap","clone","obj","_seen","cloneWithShallow","lookup","get","baseProto","getInternalProto","buffer","Buffer","date","Date","getTime","newObj","base","array","descriptor","getOwnPropertyDescriptor","defineProperty","enumerable","writable","configurable","proto","getPrototypeOf","isImmutable","setPrototypeOf","create","mismatched","isDeepEqual","deepFunction","instanceType","getSharedType","equals","promise","isSame","SeenEntry","isDeepEqualObj","pop","checkPrototype","valueOf","objValueOf","hasOwnEnumerableProperty","propertyIsEnumerable","isSetSimpleEqual","entry","getOwnPropertySymbols","objValue","refValue","size","ref2","objEntry","delete","found","refEntry","message","valueOfObj","valueOfRef","objKeys","skip","skipped","symbols","objSymbols","refSymbols","Stringify","msgs","filter","captureStackTrace","assert","input","escaped","charCode","charCodeAt","isSafe","escapeHtmlChar","namedEscape","namedHtml","hexValue","padStart","safeCharCodes","safe","replace","target","isBuffer","chain","separator","isChainArray","iterables","number","Number","isInteger","strict","default","JSON","stringify","apply","generic","Promise","WeakMap","WeakSet","typeMap","objName","Reflect","ownKeys","getOwnPropertyNames","Common","annotations","stripColorCodes","_original","details","redFgEscape","redBgEscape","endColor","pos","node","j","seg","isSchema","refAnnotations","errors","missing","cacheKey","replacers","arrayIndex","specials","safeStringify","$0","$1","$2","spaces","serializer","stack","cycleReplacer","indexOf","thisPos","annotated","sort","errorKey","missingKey","Infinity","isNaN","DeepEqual","Cache","Compile","Extend","Manifest","Messages","Modify","Ref","Trace","Validator","Values","Base","$_root","_definition","_ids","Ids","_preferences","_refs","Manager","_cache","_valids","_invalids","_flags","_rules","_singleRules","$_terms","$_temp","ruleset","whens","describe","values","verifyFlat","_values","alter","targets","_inRuleset","alterations","adjuster","cast","to","$_setFlag","_default","description","desc","empty","schema","$_compile","override","example","assertOptions","_inner","external","failover","forbidden","presence","id","invalid","label","meta","note","notes","only","mode","optional","prefs","externals","warnings","debug","checkPreferences","preferences","enabled","required","convert","strip","tag","tags","unit","valid","when","conditions","is","switch","item","then","otherwise","$_mutateRebuild","cache","provider","provision","_assign","tmpObj","register","toSibling","keep","rules","multi","flags","terms","_tracer","_combine","extend","extract","reach","fork","paths","rule","def","modifiers","start","original","$","tailor","$_modify","each","tracer","location","validate","validateAsync","entryAsync","$_addRule","_resolve","definition","argsByName","resolver","isResolvable","$_mutateRegister","validateArg","_ruleRemove","priority","unshift","$_createError","state","messages","Report","$_getFlag","$_getRule","$_mapLabels","labels","$_match","overrides","abortEarly","_externals","snapshot","restore","reset","family","rebuild","$_property","properties","$_reach","$_rootReferences","roots","flag","$_validate","$_super","_super","bind","_generate","ids","resolve","tests","before","baseId","nest","localState","localize","ancestors","schemas","generated","break","mainstay","active","filtered","other","remove","any","compile","root","disallow","equal","exist","not","max","supported","isFinite","_max","_map","_list","List","first","_compact","tail","head","next","prev","_remove","Pkg","Schemas","isoDate","allowUnknown","dateFormat","escapeHtml","language","render","nonEnumerables","noDefaults","skipFunctions","stripUnknown","for","arraySingle","deepDefault","template","unknownKeys","k","compare","a","b","defaultValue","isIsoDate","isNumber","legacy","isValues","limit","isSafeInteger","merged","tryWithPath","fn","append","Joi","config","appendPath","simple","custom","alternatives","try","object","isRef","compiler","walk","Annotate","Template","hasOwnProperty","_setTemplate","localized","_template","trim","isTemplate","lang","normalized","process","ValidationError","stackTraceLimit","validationError","isError","isJoi","annotate","parent","term","init","prepare","coerce","alias","aliases","modifier","manifest","build","child","helpers","coerced","own","prepared","types","boolean","function","link","alt","bool","func","_types","methods","x","expression","setup","attempt","joi","extensions","extension","expanded","expandExtension","isExpression","in","display","extended","decompile","ruleDef","items","entries","mapped","special","toISOString","builder","Builder","parse","setter","built","end","lastIndexOf","exp","compact","_byId","_byKey","_schemaChain","_collect","shift","adjusted","behind","_get","forward","existing","nodes","replacement","scan","existingUnique","_path","_key","adjust","ancestor","depth","updateDisplay","resolved","shadow","lead","fill","globalp","global","startsWith","toParent","refs","min","arrays","objects","or","nameRx","pattern","conditional","maxArity","arity","minArity","integer","entity","unknown","warn","State","reason","Shadow","_snapshot","parents","EscapeHtml","Formula","opens","closes","toDateString","iso","time","toTimeString","utc","toUTCString","rendered","_settings","encoded","processed","ender","decode","variable","dynamic","_ref","rest","isDynamic","_part","formula","ends","content","pairs","sym","partial","true","false","null","second","minute","hour","day","if","msg","Pinpoint","pass","full","trace","Tracer","untrace","_schemas","_register","store","Store","filename","line","_tracerLocation","sources","report","file","coverage","log","_sources","status","severity","_combos","_scan","_record","by","subId","event","Any","matches","hits","matched","reports","_endedSwitch","failures","valids","complex","unmatched","failure","examples","metas","shared","warning","sparse","ordered","_exclusions","_inclusions","_requireds","patternLabel","requireds","ordereds","inclusions","wasArray","il","errored","exclusion","res","fastSplice","requiredChecks","jl","inclusion","previousCheck","fillMissedErrors","fillOrderedErrors","validateSingle","_arrayItems","order","sorted","unique","comparator","ignoreUndefined","records","done","dupePos","dupeValue","knownMisses","unknownMisses","requiredOrdereds","arr","aFirst","bFirst","encoding","ignoreErr","isEncoding","isBool","sensitive","falsy","truthy","isDate","format","now","greater","less","timestamp","Keys","typeof","n","class","ApplyToDefaults","Topo","renameDefaults","multiple","dependencies","patterns","renames","rename","unprocessed","_hasPatternMatch","early","dep","failed","rel","and","peers","dependency","subject","about","instance","nand","oxor","isRegExp","fallthrough","with","without","xor","topo","Sorter","after","group","peer","Dependency","present","count","presentWithLabels","keysToLabels","missingWithLabels","main","mainWithLabel","peersWithLabels","peerWithLabel","renamed","exec","hasMatches","stpm","forbidUnknown","unprocessedKey","schemaChain","linked","links","perspective","precisionRx","unsafe","constructed","normalizeExponent","normalizeDecimal","precision","round","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","trunc","sign","positive","places","decimals","parseInt","str","endsWith","Email","Ip","Tlds","base64Regex","dataUriRegex","hexRegex","ipRegex","isoDurationRegex","guidBrackets","guidVersions","uuidv1","uuidv2","uuidv3","uuidv4","uuidv5","cidrPresences","normalizationForms","insensitive","truncate","replacements","form","casing","direction","toLocaleUpperCase","toLocaleLowerCase","hex","byteAligned","alphanum","base64","urlSafe","paddingRequired","case","creditCard","sum","mul","charAt","dataUri","base64regex","address","addressOptions","emails","invalids","guid","versionNumbers","versionNumber","results","hostname","isoDuration","byteLength","lowercase","errorCode","invert","patternMatch","token","uppercase","uri","iterable","iterator","Ignore","outcome","output","cleanup","ignore","createError","finalize","ret","defaulted","caster","casted","isDefaultOptions","_lowercase","lowercases","_override","orig","prepareStackTrace","capture","getFileName","getLineNumber","_items","seq","_sort","others","mergeSort","graph","graphAfters","groups","expandedGroups","graphNodeItem","children","visited","shouldSeeCount","seenCount","seqIndex","sortedItem","updatedModules","renewedModules","unacceptedModules","moduleId","groupCollapsed","groupEnd","numberIds","every","logLevel","dummy","shouldLog","level","logGroup","logFn","console","setLogLevel","formatError","hotPollInterval","__resourceQuery","substr","checkForUpdate","fromUpdate","hot","check","catch","setInterval","req","activeRoute","routes","find","route","matchPath","initialData","component","fetchData","index","url","search","element","body","ReactDOMServer","renderToString","redirect","send","data","serialize","app","express","SourceMapSupport","install","dotenv","enableHMR","env","ENABLE_HMR","webpack","devMiddleware","hotMiddleware","plugins","HotModuleReplacementPlugin","use","static","apiProxyTarget","API_PROXY_TARGET","proxy","UI_API_ENDPOINT","UI_SERVER_API_ENDPOINT","UI_API_IMAGE_ENDPOINT","UI_SERVER_API_IMAGE_ENDPOINT","UI_SERVER_PORT","listen","accept","About","React","Component","graphQLFetch","props","apiAbout","componentDidMount","setState","AddPhoto","currentStep","shutterspeed","aperture","camera","focalLength","title","photo","photoLoading","tempFile","showInputClass","onDragOver","invalidFields","blob","fileInput","onFileChange","handleOnDrop","handleOnDragOver","handleOnDragLeave","removeImage","onChange","BlogPost","showError","params","slug","articleBySlug","componentDidUpdate","prevProps","loadData","Contents","attrs","displayFormat","editFormat","unformat","val","DateInput","focused","onFocus","onBlur","e","oldValid","onValidityChange","dateValue","origValue","className","displayValue","Form","currentTarget","errorMessage","validateProperty","preventDefault","doSubmit","renderButton","renderInput","placeholder","classes","handleChange","Input","LocationCard","onClick","prevState","activeLocation","onClickHandler","photos","LocationDetailStrapi","locationBySlug","zoom","userLocationKnown","userMarker","userLocation","longitude","latitude","prevId","L","Icon","iconUrl","userIcon","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","shadowAnchor","iconSize","Point","Default","_getIconUrl","mergeOptions","locationIcon","enableHighAccuracy","timeout","maximumAge","success","crd","coords","accuracy","fetch","json","navigator","geolocation","getCurrentPosition","position","calculatedUserLocation","likes","photoItem","LocationPhotoItem","itemPhoto","selectedLocation","LoginForm","password","login","jwt","user","username","localStorage","setItem","history","loginUser","handleSubmit","staticContext","NavBar","isOpen","menuClassName","closeMenu","toggleOpen","Page","animatedComponents","makeAnimated","PhotoAddStrapi","setNewLocation","resetSelectedLocation","newLocation","option","slugify","lower","createLocationCategory","locationCategory","oldCategories","locationCategoryValues","newCategory","selectedValues","location_categories","categoryIds","newValue","createLocation","property","checked","stateFields","locationKnown","files","photoValidation","reader","FileReader","onload","createObjectURL","readAsDataURL","exifrGps","exifr","gps","EXIF","getData","exifData","pretty","getTag","splittedDate","year","month","dateVal","shutterVal","numerator","denominator","shutterspeedVal","ISOVal","apertureVal","focalLengthVal","cameraVal","previousSuffix","checkForAvailableSlug","photoBySlug","previousSlug","createdSuffix","adjustedSlug","reactedSlug","createSlug","locationCategories","monthValues","months","lat","lng","distance","radius","rad2deg","angle","deg2rad","maxlat","minlat","maxlng","cos","minlng","distanceFromLocation","lat1","lon1","lat2","lon2","theta","dist","sin","acos","miles","locations","locDistance","keyA","keyB","onDrop","uploadPercentage","createRef","previousButton","_prev","nextButton","disabled","btnClass","_next","changeMarkers","persist","createdLocation","createdSlug","createPhoto","pathname","formData","FormData","uploadedFile","request","XMLHttpRequest","open","addEventListener","handleInputChange","findNearbyLocations","onLocationSelect","updateNewLocationCoords","handleSelect","onCategoryCreate","fetchCategories","onNewLocationClick","width","Step2","nearbyLocations","loadingNearbyLocations","marker","refmarker","leafletElement","getLatLng","getZoom","displayLocations","draggable","updatePosition","PhotoAddToLocation","fetchLocation","PhotoView","withRouter","deletePhoto","place","category","PhotoCarousel","photoViews","PhotoDetail","images","imageWatermark","PhotoDetailStrapi","PhotoEdit","created","changes","photoUpdate","toast","naturalValue","textValue","propsId","validationMessage","ISO","PhotoFilter","URLSearchParams","onChangeStatus","applyFilter","prevSearch","showOriginalFilter","PhotoList","vars","photoList","photoDelete","newList","PhotoReport","RegisterForm","firstname","lastname","createUser","text","TextInput","createElement","dateRegex","jsonDateReviver","variables","isBlog","returnError","apiEndpoint","__isBrowser__","window","response","headers","exception","exact","PhotoListStrapi","NotFound","axios","interceptors","expextedError","post","put","nodeExternals","browserConfig","__dirname","publicPath","loader","ident","exclude","presets","ie","edge","safari","firefox","chrome","optimization","splitChunks","chunks","DefinePlugin","devtool","serverConfig","server"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA,6BAA6B;QAC7B,6BAA6B;QAC7B;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA,kBAAkB,8BAA8B;QAChD;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,oBAAoB,2BAA2B;QAC/C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,OAAO;QACP;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,mBAAmB,cAAc;QACjC;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,gBAAgB,KAAK;QACrB;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA,gBAAgB,YAAY;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA,cAAc,4BAA4B;QAC1C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;;QAEJ;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,sBAAsB;QACvC;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA,UAAU;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,cAAc,wCAAwC;QACtD;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA,SAAS;QACT;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QAC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Aa,EAAE;AADQ,GAAzB,CADO,CAvCU;AA4CnB8B,SAAO,EAAE;AA5CU,CAArB;AA+CAl1C,MAAM,CAACjF,OAAP,GAAiB,CAACm5C,aAAD,EAAgBiB,YAAhB,CAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;AChIA,yC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,+C;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,mD","file":"server.js","sourcesContent":[" \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar chunk = require(\"./\" + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\");\n \t\thotAddUpdateChunk(chunk.id, chunk.modules);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest() {\n \t\ttry {\n \t\t\tvar update = require(\"./\" + \"\" + hotCurrentHash + \".hot-update.json\");\n \t\t} catch (e) {\n \t\t\treturn Promise.resolve();\n \t\t}\n \t\treturn Promise.resolve(update);\n \t}\n\n \t//eslint-disable-next-line no-unused-vars\n \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"ed38d289a927cd2d44de\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_selfInvalidated: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n \t\t\tinvalidate: function() {\n \t\t\t\tthis._selfInvalidated = true;\n \t\t\t\tswitch (hotStatus) {\n \t\t\t\t\tcase \"idle\":\n \t\t\t\t\t\thotUpdate = {};\n \t\t\t\t\t\thotUpdate[moduleId] = modules[moduleId];\n \t\t\t\t\t\thotSetStatus(\"ready\");\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"ready\":\n \t\t\t\t\t\thotApplyInvalidatedModule(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"prepare\":\n \t\t\t\t\tcase \"check\":\n \t\t\t\t\tcase \"dispose\":\n \t\t\t\t\tcase \"apply\":\n \t\t\t\t\t\t(hotQueuedInvalidatedModules =\n \t\t\t\t\t\t\thotQueuedInvalidatedModules || []).push(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\t// ignore requests in error states\n \t\t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash, hotQueuedInvalidatedModules;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(hotApplyInvalidatedModules() ? \"ready\" : \"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tvar chunkId = \"server\";\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n \t\treturn hotApplyInternal(options);\n \t}\n\n \tfunction hotApplyInternal(options) {\n \t\thotApplyInvalidatedModules();\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (\n \t\t\t\t\t!module ||\n \t\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n \t\t\t\t)\n \t\t\t\t\tcontinue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted &&\n \t\t\t\t// removed self-accepted modules should not be required\n \t\t\t\tappliedUpdate[moduleId] !== warnUnexpectedRequire &&\n \t\t\t\t// when called invalidate self-accepting is not possible\n \t\t\t\t!installedModules[moduleId].hot._selfInvalidated\n \t\t\t) {\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\tparents: installedModules[moduleId].parents.slice(),\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\tif (hotUpdateNewHash !== undefined) {\n \t\t\thotCurrentHash = hotUpdateNewHash;\n \t\t\thotUpdateNewHash = undefined;\n \t\t}\n \t\thotUpdate = undefined;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = item.parents;\n \t\t\thotCurrentChildModule = moduleId;\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\treturn hotApplyInternal(options).then(function(list) {\n \t\t\t\toutdatedModules.forEach(function(moduleId) {\n \t\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n \t\t\t\t});\n \t\t\t\treturn list;\n \t\t\t});\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \tfunction hotApplyInvalidatedModules() {\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\tif (!hotUpdate) hotUpdate = {};\n \t\t\thotQueuedInvalidatedModules.forEach(hotApplyInvalidatedModule);\n \t\t\thotQueuedInvalidatedModules = undefined;\n \t\t\treturn true;\n \t\t}\n \t}\n\n \tfunction hotApplyInvalidatedModule(moduleId) {\n \t\tif (!Object.prototype.hasOwnProperty.call(hotUpdate, moduleId))\n \t\t\thotUpdate[moduleId] = modules[moduleId];\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(__webpack_require__.s = 0);\n","'use strict';\n\nconst Url = require('url');\n\nconst Errors = require('./errors');\n\n\nconst internals = {\n    minDomainSegments: 2,\n    nonAsciiRx: /[^\\x00-\\x7f]/,\n    domainControlRx: /[\\x00-\\x20@\\:\\/]/,                                                // Control + space + separators\n    tldSegmentRx: /^[a-zA-Z](?:[a-zA-Z0-9\\-]*[a-zA-Z0-9])?$/,\n    domainSegmentRx: /^[a-zA-Z0-9](?:[a-zA-Z0-9\\-]*[a-zA-Z0-9])?$/,\n    URL: Url.URL || URL                                                                 // $lab:coverage:ignore$\n};\n\n\nexports.analyze = function (domain, options = {}) {\n\n    if (typeof domain !== 'string') {\n        throw new Error('Invalid input: domain must be a string');\n    }\n\n    if (!domain) {\n        return Errors.code('DOMAIN_NON_EMPTY_STRING');\n    }\n\n    if (domain.length > 256) {\n        return Errors.code('DOMAIN_TOO_LONG');\n    }\n\n    const ascii = !internals.nonAsciiRx.test(domain);\n    if (!ascii) {\n        if (options.allowUnicode === false) {                                           // Defaults to true\n            return Errors.code('DOMAIN_INVALID_UNICODE_CHARS');\n        }\n\n        domain = domain.normalize('NFC');\n    }\n\n    if (internals.domainControlRx.test(domain)) {\n        return Errors.code('DOMAIN_INVALID_CHARS');\n    }\n\n    domain = internals.punycode(domain);\n\n    // https://tools.ietf.org/html/rfc1035 section 2.3.1\n\n    const minDomainSegments = options.minDomainSegments || internals.minDomainSegments;\n\n    const segments = domain.split('.');\n    if (segments.length < minDomainSegments) {\n        return Errors.code('DOMAIN_SEGMENTS_COUNT');\n    }\n\n    const tlds = options.tlds;\n    if (tlds) {\n        const tld = segments[segments.length - 1].toLowerCase();\n        if (tlds.deny && tlds.deny.has(tld) ||\n            tlds.allow && !tlds.allow.has(tld)) {\n\n            return Errors.code('DOMAIN_FORBIDDEN_TLDS');\n        }\n    }\n\n    for (let i = 0; i < segments.length; ++i) {\n        const segment = segments[i];\n\n        if (!segment.length) {\n            return Errors.code('DOMAIN_EMPTY_SEGMENT');\n        }\n\n        if (segment.length > 63) {\n            return Errors.code('DOMAIN_LONG_SEGMENT');\n        }\n\n        if (i < segments.length - 1) {\n            if (!internals.domainSegmentRx.test(segment)) {\n                return Errors.code('DOMAIN_INVALID_CHARS');\n            }\n        }\n        else {\n            if (!internals.tldSegmentRx.test(segment)) {\n                return Errors.code('DOMAIN_INVALID_TLDS_CHARS');\n            }\n        }\n    }\n\n    return null;\n};\n\n\nexports.isValid = function (domain, options) {\n\n    return !exports.analyze(domain, options);\n};\n\n\ninternals.punycode = function (domain) {\n\n    try {\n        return new internals.URL(`http://${domain}`).host;\n    }\n    catch (err) {\n        return domain;\n    }\n};\n","'use strict';\n\nconst Util = require('util');\n\nconst Domain = require('./domain');\nconst Errors = require('./errors');\n\n\nconst internals = {\n    nonAsciiRx: /[^\\x00-\\x7f]/,\n    encoder: new (Util.TextEncoder || TextEncoder)()                                            // $lab:coverage:ignore$\n};\n\n\nexports.analyze = function (email, options) {\n\n    return internals.email(email, options);\n};\n\n\nexports.isValid = function (email, options) {\n\n    return !internals.email(email, options);\n};\n\n\ninternals.email = function (email, options = {}) {\n\n    if (typeof email !== 'string') {\n        throw new Error('Invalid input: email must be a string');\n    }\n\n    if (!email) {\n        return Errors.code('EMPTY_STRING');\n    }\n\n    // Unicode\n\n    const ascii = !internals.nonAsciiRx.test(email);\n    if (!ascii) {\n        if (options.allowUnicode === false) {                                                   // Defaults to true\n            return Errors.code('FORBIDDEN_UNICODE');\n        }\n\n        email = email.normalize('NFC');\n    }\n\n    // Basic structure\n\n    const parts = email.split('@');\n    if (parts.length !== 2) {\n        return parts.length > 2 ? Errors.code('MULTIPLE_AT_CHAR') : Errors.code('MISSING_AT_CHAR');\n    }\n\n    const [local, domain] = parts;\n\n    if (!local) {\n        return Errors.code('EMPTY_LOCAL');\n    }\n\n    if (!options.ignoreLength) {\n        if (email.length > 254) {                                           // http://tools.ietf.org/html/rfc5321#section-4.5.3.1.3\n            return Errors.code('ADDRESS_TOO_LONG');\n        }\n\n        if (internals.encoder.encode(local).length > 64) {                  // http://tools.ietf.org/html/rfc5321#section-4.5.3.1.1\n            return Errors.code('LOCAL_TOO_LONG');\n        }\n    }\n\n    // Validate parts\n\n    return internals.local(local, ascii) || Domain.analyze(domain, options);\n};\n\n\ninternals.local = function (local, ascii) {\n\n    const segments = local.split('.');\n    for (const segment of segments) {\n        if (!segment.length) {\n            return Errors.code('EMPTY_LOCAL_SEGMENT');\n        }\n\n        if (ascii) {\n            if (!internals.atextRx.test(segment)) {\n                return Errors.code('INVALID_LOCAL_CHARS');\n            }\n\n            continue;\n        }\n\n        for (const char of segment) {\n            if (internals.atextRx.test(char)) {\n                continue;\n            }\n\n            const binary = internals.binary(char);\n            if (!internals.atomRx.test(binary)) {\n                return Errors.code('INVALID_LOCAL_CHARS');\n            }\n        }\n    }\n};\n\n\ninternals.binary = function (char) {\n\n    return Array.from(internals.encoder.encode(char)).map((v) => String.fromCharCode(v)).join('');\n};\n\n\n/*\n    From RFC 5321:\n\n        Mailbox         =   Local-part \"@\" ( Domain / address-literal )\n\n        Local-part      =   Dot-string / Quoted-string\n        Dot-string      =   Atom *(\".\"  Atom)\n        Atom            =   1*atext\n        atext           =   ALPHA / DIGIT / \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\" / \"+\" / \"-\" / \"/\" / \"=\" / \"?\" / \"^\" / \"_\" / \"`\" / \"{\" / \"|\" / \"}\" / \"~\"\n\n        Domain          =   sub-domain *(\".\" sub-domain)\n        sub-domain      =   Let-dig [Ldh-str]\n        Let-dig         =   ALPHA / DIGIT\n        Ldh-str         =   *( ALPHA / DIGIT / \"-\" ) Let-dig\n\n        ALPHA           =   %x41-5A / %x61-7A        ; a-z, A-Z\n        DIGIT           =   %x30-39                  ; 0-9\n\n    From RFC 6531:\n\n        sub-domain      =/  U-label\n        atext           =/  UTF8-non-ascii\n\n        UTF8-non-ascii  =   UTF8-2 / UTF8-3 / UTF8-4\n\n        UTF8-2          =   %xC2-DF UTF8-tail\n        UTF8-3          =   %xE0 %xA0-BF UTF8-tail /\n                            %xE1-EC 2( UTF8-tail ) /\n                            %xED %x80-9F UTF8-tail /\n                            %xEE-EF 2( UTF8-tail )\n        UTF8-4          =   %xF0 %x90-BF 2( UTF8-tail ) /\n                            %xF1-F3 3( UTF8-tail ) /\n                            %xF4 %x80-8F 2( UTF8-tail )\n\n        UTF8-tail       =   %x80-BF\n\n    Note: The following are not supported:\n\n        RFC 5321: address-literal, Quoted-string\n        RFC 5322: obs-*, CFWS\n*/\n\n\ninternals.atextRx = /^[\\w!#\\$%&'\\*\\+\\-/=\\?\\^`\\{\\|\\}~]+$/;               // _ included in \\w\n\n\ninternals.atomRx = new RegExp([\n\n    //  %xC2-DF UTF8-tail\n    '(?:[\\\\xc2-\\\\xdf][\\\\x80-\\\\xbf])',\n\n    //  %xE0 %xA0-BF UTF8-tail              %xE1-EC 2( UTF8-tail )            %xED %x80-9F UTF8-tail              %xEE-EF 2( UTF8-tail )\n    '(?:\\\\xe0[\\\\xa0-\\\\xbf][\\\\x80-\\\\xbf])|(?:[\\\\xe1-\\\\xec][\\\\x80-\\\\xbf]{2})|(?:\\\\xed[\\\\x80-\\\\x9f][\\\\x80-\\\\xbf])|(?:[\\\\xee-\\\\xef][\\\\x80-\\\\xbf]{2})',\n\n    //  %xF0 %x90-BF 2( UTF8-tail )            %xF1-F3 3( UTF8-tail )            %xF4 %x80-8F 2( UTF8-tail )\n    '(?:\\\\xf0[\\\\x90-\\\\xbf][\\\\x80-\\\\xbf]{2})|(?:[\\\\xf1-\\\\xf3][\\\\x80-\\\\xbf]{3})|(?:\\\\xf4[\\\\x80-\\\\x8f][\\\\x80-\\\\xbf]{2})'\n\n].join('|'));\n","'use strict';\n\nexports.codes = {\n    EMPTY_STRING: 'Address must be a non-empty string',\n    FORBIDDEN_UNICODE: 'Address contains forbidden Unicode characters',\n    MULTIPLE_AT_CHAR: 'Address cannot contain more than one @ character',\n    MISSING_AT_CHAR: 'Address must contain one @ character',\n    EMPTY_LOCAL: 'Address local part cannot be empty',\n    ADDRESS_TOO_LONG: 'Address too long',\n    LOCAL_TOO_LONG: 'Address local part too long',\n    EMPTY_LOCAL_SEGMENT: 'Address local part contains empty dot-separated segment',\n    INVALID_LOCAL_CHARS: 'Address local part contains invalid character',\n    DOMAIN_NON_EMPTY_STRING: 'Domain must be a non-empty string',\n    DOMAIN_TOO_LONG: 'Domain too long',\n    DOMAIN_INVALID_UNICODE_CHARS: 'Domain contains forbidden Unicode characters',\n    DOMAIN_INVALID_CHARS: 'Domain contains invalid character',\n    DOMAIN_INVALID_TLDS_CHARS: 'Domain contains invalid tld character',\n    DOMAIN_SEGMENTS_COUNT: 'Domain lacks the minimum required number of segments',\n    DOMAIN_FORBIDDEN_TLDS: 'Domain uses forbidden TLD',\n    DOMAIN_EMPTY_SEGMENT: 'Domain contains empty dot-separated segment',\n    DOMAIN_LONG_SEGMENT: 'Domain contains dot-separated segment that is too long'\n};\n\n\nexports.code = function (code) {\n\n    return { code, error: exports.codes[code] };\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Uri = require('./uri');\n\n\nconst internals = {};\n\n\nexports.regex = function (options = {}) {\n\n    // CIDR\n\n    Assert(options.cidr === undefined || typeof options.cidr === 'string', 'options.cidr must be a string');\n    const cidr = options.cidr ? options.cidr.toLowerCase() : 'optional';\n    Assert(['required', 'optional', 'forbidden'].includes(cidr), 'options.cidr must be one of required, optional, forbidden');\n\n    // Versions\n\n    Assert(options.version === undefined || typeof options.version === 'string' || Array.isArray(options.version), 'options.version must be a string or an array of string');\n    let versions = options.version || ['ipv4', 'ipv6', 'ipvfuture'];\n    if (!Array.isArray(versions)) {\n        versions = [versions];\n    }\n\n    Assert(versions.length >= 1, 'options.version must have at least 1 version specified');\n\n    for (let i = 0; i < versions.length; ++i) {\n        Assert(typeof versions[i] === 'string', 'options.version must only contain strings');\n        versions[i] = versions[i].toLowerCase();\n        Assert(['ipv4', 'ipv6', 'ipvfuture'].includes(versions[i]), 'options.version contains unknown version ' + versions[i] + ' - must be one of ipv4, ipv6, ipvfuture');\n    }\n\n    versions = Array.from(new Set(versions));\n\n    // Regex\n\n    const parts = versions.map((version) => {\n\n        // Forbidden\n\n        if (cidr === 'forbidden') {\n            return Uri.ip[version];\n        }\n\n        // Required\n\n        const cidrpart = `\\\\/${version === 'ipv4' ? Uri.ip.v4Cidr : Uri.ip.v6Cidr}`;\n\n        if (cidr === 'required') {\n            return `${Uri.ip[version]}${cidrpart}`;\n        }\n\n        // Optional\n\n        return `${Uri.ip[version]}(?:${cidrpart})?`;\n    });\n\n    const raw = `(?:${parts.join('|')})`;\n    const regex = new RegExp(`^${raw}$`);\n    return { cidr, versions, regex, raw };\n};\n","'use strict';\n\nconst internals = {};\n\n\n// http://data.iana.org/TLD/tlds-alpha-by-domain.txt\n// # Version 2019091902, Last Updated Fri Sep 20 07: 07: 02 2019 UTC\n\n\ninternals.tlds = [\n    'AAA',\n    'AARP',\n    'ABARTH',\n    'ABB',\n    'ABBOTT',\n    'ABBVIE',\n    'ABC',\n    'ABLE',\n    'ABOGADO',\n    'ABUDHABI',\n    'AC',\n    'ACADEMY',\n    'ACCENTURE',\n    'ACCOUNTANT',\n    'ACCOUNTANTS',\n    'ACO',\n    'ACTOR',\n    'AD',\n    'ADAC',\n    'ADS',\n    'ADULT',\n    'AE',\n    'AEG',\n    'AERO',\n    'AETNA',\n    'AF',\n    'AFAMILYCOMPANY',\n    'AFL',\n    'AFRICA',\n    'AG',\n    'AGAKHAN',\n    'AGENCY',\n    'AI',\n    'AIG',\n    'AIGO',\n    'AIRBUS',\n    'AIRFORCE',\n    'AIRTEL',\n    'AKDN',\n    'AL',\n    'ALFAROMEO',\n    'ALIBABA',\n    'ALIPAY',\n    'ALLFINANZ',\n    'ALLSTATE',\n    'ALLY',\n    'ALSACE',\n    'ALSTOM',\n    'AM',\n    'AMERICANEXPRESS',\n    'AMERICANFAMILY',\n    'AMEX',\n    'AMFAM',\n    'AMICA',\n    'AMSTERDAM',\n    'ANALYTICS',\n    'ANDROID',\n    'ANQUAN',\n    'ANZ',\n    'AO',\n    'AOL',\n    'APARTMENTS',\n    'APP',\n    'APPLE',\n    'AQ',\n    'AQUARELLE',\n    'AR',\n    'ARAB',\n    'ARAMCO',\n    'ARCHI',\n    'ARMY',\n    'ARPA',\n    'ART',\n    'ARTE',\n    'AS',\n    'ASDA',\n    'ASIA',\n    'ASSOCIATES',\n    'AT',\n    'ATHLETA',\n    'ATTORNEY',\n    'AU',\n    'AUCTION',\n    'AUDI',\n    'AUDIBLE',\n    'AUDIO',\n    'AUSPOST',\n    'AUTHOR',\n    'AUTO',\n    'AUTOS',\n    'AVIANCA',\n    'AW',\n    'AWS',\n    'AX',\n    'AXA',\n    'AZ',\n    'AZURE',\n    'BA',\n    'BABY',\n    'BAIDU',\n    'BANAMEX',\n    'BANANAREPUBLIC',\n    'BAND',\n    'BANK',\n    'BAR',\n    'BARCELONA',\n    'BARCLAYCARD',\n    'BARCLAYS',\n    'BAREFOOT',\n    'BARGAINS',\n    'BASEBALL',\n    'BASKETBALL',\n    'BAUHAUS',\n    'BAYERN',\n    'BB',\n    'BBC',\n    'BBT',\n    'BBVA',\n    'BCG',\n    'BCN',\n    'BD',\n    'BE',\n    'BEATS',\n    'BEAUTY',\n    'BEER',\n    'BENTLEY',\n    'BERLIN',\n    'BEST',\n    'BESTBUY',\n    'BET',\n    'BF',\n    'BG',\n    'BH',\n    'BHARTI',\n    'BI',\n    'BIBLE',\n    'BID',\n    'BIKE',\n    'BING',\n    'BINGO',\n    'BIO',\n    'BIZ',\n    'BJ',\n    'BLACK',\n    'BLACKFRIDAY',\n    'BLOCKBUSTER',\n    'BLOG',\n    'BLOOMBERG',\n    'BLUE',\n    'BM',\n    'BMS',\n    'BMW',\n    'BN',\n    'BNPPARIBAS',\n    'BO',\n    'BOATS',\n    'BOEHRINGER',\n    'BOFA',\n    'BOM',\n    'BOND',\n    'BOO',\n    'BOOK',\n    'BOOKING',\n    'BOSCH',\n    'BOSTIK',\n    'BOSTON',\n    'BOT',\n    'BOUTIQUE',\n    'BOX',\n    'BR',\n    'BRADESCO',\n    'BRIDGESTONE',\n    'BROADWAY',\n    'BROKER',\n    'BROTHER',\n    'BRUSSELS',\n    'BS',\n    'BT',\n    'BUDAPEST',\n    'BUGATTI',\n    'BUILD',\n    'BUILDERS',\n    'BUSINESS',\n    'BUY',\n    'BUZZ',\n    'BV',\n    'BW',\n    'BY',\n    'BZ',\n    'BZH',\n    'CA',\n    'CAB',\n    'CAFE',\n    'CAL',\n    'CALL',\n    'CALVINKLEIN',\n    'CAM',\n    'CAMERA',\n    'CAMP',\n    'CANCERRESEARCH',\n    'CANON',\n    'CAPETOWN',\n    'CAPITAL',\n    'CAPITALONE',\n    'CAR',\n    'CARAVAN',\n    'CARDS',\n    'CARE',\n    'CAREER',\n    'CAREERS',\n    'CARS',\n    'CARTIER',\n    'CASA',\n    'CASE',\n    'CASEIH',\n    'CASH',\n    'CASINO',\n    'CAT',\n    'CATERING',\n    'CATHOLIC',\n    'CBA',\n    'CBN',\n    'CBRE',\n    'CBS',\n    'CC',\n    'CD',\n    'CEB',\n    'CENTER',\n    'CEO',\n    'CERN',\n    'CF',\n    'CFA',\n    'CFD',\n    'CG',\n    'CH',\n    'CHANEL',\n    'CHANNEL',\n    'CHARITY',\n    'CHASE',\n    'CHAT',\n    'CHEAP',\n    'CHINTAI',\n    'CHRISTMAS',\n    'CHROME',\n    'CHRYSLER',\n    'CHURCH',\n    'CI',\n    'CIPRIANI',\n    'CIRCLE',\n    'CISCO',\n    'CITADEL',\n    'CITI',\n    'CITIC',\n    'CITY',\n    'CITYEATS',\n    'CK',\n    'CL',\n    'CLAIMS',\n    'CLEANING',\n    'CLICK',\n    'CLINIC',\n    'CLINIQUE',\n    'CLOTHING',\n    'CLOUD',\n    'CLUB',\n    'CLUBMED',\n    'CM',\n    'CN',\n    'CO',\n    'COACH',\n    'CODES',\n    'COFFEE',\n    'COLLEGE',\n    'COLOGNE',\n    'COM',\n    'COMCAST',\n    'COMMBANK',\n    'COMMUNITY',\n    'COMPANY',\n    'COMPARE',\n    'COMPUTER',\n    'COMSEC',\n    'CONDOS',\n    'CONSTRUCTION',\n    'CONSULTING',\n    'CONTACT',\n    'CONTRACTORS',\n    'COOKING',\n    'COOKINGCHANNEL',\n    'COOL',\n    'COOP',\n    'CORSICA',\n    'COUNTRY',\n    'COUPON',\n    'COUPONS',\n    'COURSES',\n    'CR',\n    'CREDIT',\n    'CREDITCARD',\n    'CREDITUNION',\n    'CRICKET',\n    'CROWN',\n    'CRS',\n    'CRUISE',\n    'CRUISES',\n    'CSC',\n    'CU',\n    'CUISINELLA',\n    'CV',\n    'CW',\n    'CX',\n    'CY',\n    'CYMRU',\n    'CYOU',\n    'CZ',\n    'DABUR',\n    'DAD',\n    'DANCE',\n    'DATA',\n    'DATE',\n    'DATING',\n    'DATSUN',\n    'DAY',\n    'DCLK',\n    'DDS',\n    'DE',\n    'DEAL',\n    'DEALER',\n    'DEALS',\n    'DEGREE',\n    'DELIVERY',\n    'DELL',\n    'DELOITTE',\n    'DELTA',\n    'DEMOCRAT',\n    'DENTAL',\n    'DENTIST',\n    'DESI',\n    'DESIGN',\n    'DEV',\n    'DHL',\n    'DIAMONDS',\n    'DIET',\n    'DIGITAL',\n    'DIRECT',\n    'DIRECTORY',\n    'DISCOUNT',\n    'DISCOVER',\n    'DISH',\n    'DIY',\n    'DJ',\n    'DK',\n    'DM',\n    'DNP',\n    'DO',\n    'DOCS',\n    'DOCTOR',\n    'DODGE',\n    'DOG',\n    'DOMAINS',\n    'DOT',\n    'DOWNLOAD',\n    'DRIVE',\n    'DTV',\n    'DUBAI',\n    'DUCK',\n    'DUNLOP',\n    'DUPONT',\n    'DURBAN',\n    'DVAG',\n    'DVR',\n    'DZ',\n    'EARTH',\n    'EAT',\n    'EC',\n    'ECO',\n    'EDEKA',\n    'EDU',\n    'EDUCATION',\n    'EE',\n    'EG',\n    'EMAIL',\n    'EMERCK',\n    'ENERGY',\n    'ENGINEER',\n    'ENGINEERING',\n    'ENTERPRISES',\n    'EPSON',\n    'EQUIPMENT',\n    'ER',\n    'ERICSSON',\n    'ERNI',\n    'ES',\n    'ESQ',\n    'ESTATE',\n    'ESURANCE',\n    'ET',\n    'ETISALAT',\n    'EU',\n    'EUROVISION',\n    'EUS',\n    'EVENTS',\n    'EVERBANK',\n    'EXCHANGE',\n    'EXPERT',\n    'EXPOSED',\n    'EXPRESS',\n    'EXTRASPACE',\n    'FAGE',\n    'FAIL',\n    'FAIRWINDS',\n    'FAITH',\n    'FAMILY',\n    'FAN',\n    'FANS',\n    'FARM',\n    'FARMERS',\n    'FASHION',\n    'FAST',\n    'FEDEX',\n    'FEEDBACK',\n    'FERRARI',\n    'FERRERO',\n    'FI',\n    'FIAT',\n    'FIDELITY',\n    'FIDO',\n    'FILM',\n    'FINAL',\n    'FINANCE',\n    'FINANCIAL',\n    'FIRE',\n    'FIRESTONE',\n    'FIRMDALE',\n    'FISH',\n    'FISHING',\n    'FIT',\n    'FITNESS',\n    'FJ',\n    'FK',\n    'FLICKR',\n    'FLIGHTS',\n    'FLIR',\n    'FLORIST',\n    'FLOWERS',\n    'FLY',\n    'FM',\n    'FO',\n    'FOO',\n    'FOOD',\n    'FOODNETWORK',\n    'FOOTBALL',\n    'FORD',\n    'FOREX',\n    'FORSALE',\n    'FORUM',\n    'FOUNDATION',\n    'FOX',\n    'FR',\n    'FREE',\n    'FRESENIUS',\n    'FRL',\n    'FROGANS',\n    'FRONTDOOR',\n    'FRONTIER',\n    'FTR',\n    'FUJITSU',\n    'FUJIXEROX',\n    'FUN',\n    'FUND',\n    'FURNITURE',\n    'FUTBOL',\n    'FYI',\n    'GA',\n    'GAL',\n    'GALLERY',\n    'GALLO',\n    'GALLUP',\n    'GAME',\n    'GAMES',\n    'GAP',\n    'GARDEN',\n    'GAY',\n    'GB',\n    'GBIZ',\n    'GD',\n    'GDN',\n    'GE',\n    'GEA',\n    'GENT',\n    'GENTING',\n    'GEORGE',\n    'GF',\n    'GG',\n    'GGEE',\n    'GH',\n    'GI',\n    'GIFT',\n    'GIFTS',\n    'GIVES',\n    'GIVING',\n    'GL',\n    'GLADE',\n    'GLASS',\n    'GLE',\n    'GLOBAL',\n    'GLOBO',\n    'GM',\n    'GMAIL',\n    'GMBH',\n    'GMO',\n    'GMX',\n    'GN',\n    'GODADDY',\n    'GOLD',\n    'GOLDPOINT',\n    'GOLF',\n    'GOO',\n    'GOODYEAR',\n    'GOOG',\n    'GOOGLE',\n    'GOP',\n    'GOT',\n    'GOV',\n    'GP',\n    'GQ',\n    'GR',\n    'GRAINGER',\n    'GRAPHICS',\n    'GRATIS',\n    'GREEN',\n    'GRIPE',\n    'GROCERY',\n    'GROUP',\n    'GS',\n    'GT',\n    'GU',\n    'GUARDIAN',\n    'GUCCI',\n    'GUGE',\n    'GUIDE',\n    'GUITARS',\n    'GURU',\n    'GW',\n    'GY',\n    'HAIR',\n    'HAMBURG',\n    'HANGOUT',\n    'HAUS',\n    'HBO',\n    'HDFC',\n    'HDFCBANK',\n    'HEALTH',\n    'HEALTHCARE',\n    'HELP',\n    'HELSINKI',\n    'HERE',\n    'HERMES',\n    'HGTV',\n    'HIPHOP',\n    'HISAMITSU',\n    'HITACHI',\n    'HIV',\n    'HK',\n    'HKT',\n    'HM',\n    'HN',\n    'HOCKEY',\n    'HOLDINGS',\n    'HOLIDAY',\n    'HOMEDEPOT',\n    'HOMEGOODS',\n    'HOMES',\n    'HOMESENSE',\n    'HONDA',\n    'HORSE',\n    'HOSPITAL',\n    'HOST',\n    'HOSTING',\n    'HOT',\n    'HOTELES',\n    'HOTELS',\n    'HOTMAIL',\n    'HOUSE',\n    'HOW',\n    'HR',\n    'HSBC',\n    'HT',\n    'HU',\n    'HUGHES',\n    'HYATT',\n    'HYUNDAI',\n    'IBM',\n    'ICBC',\n    'ICE',\n    'ICU',\n    'ID',\n    'IE',\n    'IEEE',\n    'IFM',\n    'IKANO',\n    'IL',\n    'IM',\n    'IMAMAT',\n    'IMDB',\n    'IMMO',\n    'IMMOBILIEN',\n    'IN',\n    'INC',\n    'INDUSTRIES',\n    'INFINITI',\n    'INFO',\n    'ING',\n    'INK',\n    'INSTITUTE',\n    'INSURANCE',\n    'INSURE',\n    'INT',\n    'INTEL',\n    'INTERNATIONAL',\n    'INTUIT',\n    'INVESTMENTS',\n    'IO',\n    'IPIRANGA',\n    'IQ',\n    'IR',\n    'IRISH',\n    'IS',\n    'ISMAILI',\n    'IST',\n    'ISTANBUL',\n    'IT',\n    'ITAU',\n    'ITV',\n    'IVECO',\n    'JAGUAR',\n    'JAVA',\n    'JCB',\n    'JCP',\n    'JE',\n    'JEEP',\n    'JETZT',\n    'JEWELRY',\n    'JIO',\n    'JLL',\n    'JM',\n    'JMP',\n    'JNJ',\n    'JO',\n    'JOBS',\n    'JOBURG',\n    'JOT',\n    'JOY',\n    'JP',\n    'JPMORGAN',\n    'JPRS',\n    'JUEGOS',\n    'JUNIPER',\n    'KAUFEN',\n    'KDDI',\n    'KE',\n    'KERRYHOTELS',\n    'KERRYLOGISTICS',\n    'KERRYPROPERTIES',\n    'KFH',\n    'KG',\n    'KH',\n    'KI',\n    'KIA',\n    'KIM',\n    'KINDER',\n    'KINDLE',\n    'KITCHEN',\n    'KIWI',\n    'KM',\n    'KN',\n    'KOELN',\n    'KOMATSU',\n    'KOSHER',\n    'KP',\n    'KPMG',\n    'KPN',\n    'KR',\n    'KRD',\n    'KRED',\n    'KUOKGROUP',\n    'KW',\n    'KY',\n    'KYOTO',\n    'KZ',\n    'LA',\n    'LACAIXA',\n    'LADBROKES',\n    'LAMBORGHINI',\n    'LAMER',\n    'LANCASTER',\n    'LANCIA',\n    'LANCOME',\n    'LAND',\n    'LANDROVER',\n    'LANXESS',\n    'LASALLE',\n    'LAT',\n    'LATINO',\n    'LATROBE',\n    'LAW',\n    'LAWYER',\n    'LB',\n    'LC',\n    'LDS',\n    'LEASE',\n    'LECLERC',\n    'LEFRAK',\n    'LEGAL',\n    'LEGO',\n    'LEXUS',\n    'LGBT',\n    'LI',\n    'LIAISON',\n    'LIDL',\n    'LIFE',\n    'LIFEINSURANCE',\n    'LIFESTYLE',\n    'LIGHTING',\n    'LIKE',\n    'LILLY',\n    'LIMITED',\n    'LIMO',\n    'LINCOLN',\n    'LINDE',\n    'LINK',\n    'LIPSY',\n    'LIVE',\n    'LIVING',\n    'LIXIL',\n    'LK',\n    'LLC',\n    'LOAN',\n    'LOANS',\n    'LOCKER',\n    'LOCUS',\n    'LOFT',\n    'LOL',\n    'LONDON',\n    'LOTTE',\n    'LOTTO',\n    'LOVE',\n    'LPL',\n    'LPLFINANCIAL',\n    'LR',\n    'LS',\n    'LT',\n    'LTD',\n    'LTDA',\n    'LU',\n    'LUNDBECK',\n    'LUPIN',\n    'LUXE',\n    'LUXURY',\n    'LV',\n    'LY',\n    'MA',\n    'MACYS',\n    'MADRID',\n    'MAIF',\n    'MAISON',\n    'MAKEUP',\n    'MAN',\n    'MANAGEMENT',\n    'MANGO',\n    'MAP',\n    'MARKET',\n    'MARKETING',\n    'MARKETS',\n    'MARRIOTT',\n    'MARSHALLS',\n    'MASERATI',\n    'MATTEL',\n    'MBA',\n    'MC',\n    'MCKINSEY',\n    'MD',\n    'ME',\n    'MED',\n    'MEDIA',\n    'MEET',\n    'MELBOURNE',\n    'MEME',\n    'MEMORIAL',\n    'MEN',\n    'MENU',\n    'MERCKMSD',\n    'METLIFE',\n    'MG',\n    'MH',\n    'MIAMI',\n    'MICROSOFT',\n    'MIL',\n    'MINI',\n    'MINT',\n    'MIT',\n    'MITSUBISHI',\n    'MK',\n    'ML',\n    'MLB',\n    'MLS',\n    'MM',\n    'MMA',\n    'MN',\n    'MO',\n    'MOBI',\n    'MOBILE',\n    'MODA',\n    'MOE',\n    'MOI',\n    'MOM',\n    'MONASH',\n    'MONEY',\n    'MONSTER',\n    'MOPAR',\n    'MORMON',\n    'MORTGAGE',\n    'MOSCOW',\n    'MOTO',\n    'MOTORCYCLES',\n    'MOV',\n    'MOVIE',\n    'MOVISTAR',\n    'MP',\n    'MQ',\n    'MR',\n    'MS',\n    'MSD',\n    'MT',\n    'MTN',\n    'MTR',\n    'MU',\n    'MUSEUM',\n    'MUTUAL',\n    'MV',\n    'MW',\n    'MX',\n    'MY',\n    'MZ',\n    'NA',\n    'NAB',\n    'NADEX',\n    'NAGOYA',\n    'NAME',\n    'NATIONWIDE',\n    'NATURA',\n    'NAVY',\n    'NBA',\n    'NC',\n    'NE',\n    'NEC',\n    'NET',\n    'NETBANK',\n    'NETFLIX',\n    'NETWORK',\n    'NEUSTAR',\n    'NEW',\n    'NEWHOLLAND',\n    'NEWS',\n    'NEXT',\n    'NEXTDIRECT',\n    'NEXUS',\n    'NF',\n    'NFL',\n    'NG',\n    'NGO',\n    'NHK',\n    'NI',\n    'NICO',\n    'NIKE',\n    'NIKON',\n    'NINJA',\n    'NISSAN',\n    'NISSAY',\n    'NL',\n    'NO',\n    'NOKIA',\n    'NORTHWESTERNMUTUAL',\n    'NORTON',\n    'NOW',\n    'NOWRUZ',\n    'NOWTV',\n    'NP',\n    'NR',\n    'NRA',\n    'NRW',\n    'NTT',\n    'NU',\n    'NYC',\n    'NZ',\n    'OBI',\n    'OBSERVER',\n    'OFF',\n    'OFFICE',\n    'OKINAWA',\n    'OLAYAN',\n    'OLAYANGROUP',\n    'OLDNAVY',\n    'OLLO',\n    'OM',\n    'OMEGA',\n    'ONE',\n    'ONG',\n    'ONL',\n    'ONLINE',\n    'ONYOURSIDE',\n    'OOO',\n    'OPEN',\n    'ORACLE',\n    'ORANGE',\n    'ORG',\n    'ORGANIC',\n    'ORIGINS',\n    'OSAKA',\n    'OTSUKA',\n    'OTT',\n    'OVH',\n    'PA',\n    'PAGE',\n    'PANASONIC',\n    'PARIS',\n    'PARS',\n    'PARTNERS',\n    'PARTS',\n    'PARTY',\n    'PASSAGENS',\n    'PAY',\n    'PCCW',\n    'PE',\n    'PET',\n    'PF',\n    'PFIZER',\n    'PG',\n    'PH',\n    'PHARMACY',\n    'PHD',\n    'PHILIPS',\n    'PHONE',\n    'PHOTO',\n    'PHOTOGRAPHY',\n    'PHOTOS',\n    'PHYSIO',\n    'PIAGET',\n    'PICS',\n    'PICTET',\n    'PICTURES',\n    'PID',\n    'PIN',\n    'PING',\n    'PINK',\n    'PIONEER',\n    'PIZZA',\n    'PK',\n    'PL',\n    'PLACE',\n    'PLAY',\n    'PLAYSTATION',\n    'PLUMBING',\n    'PLUS',\n    'PM',\n    'PN',\n    'PNC',\n    'POHL',\n    'POKER',\n    'POLITIE',\n    'PORN',\n    'POST',\n    'PR',\n    'PRAMERICA',\n    'PRAXI',\n    'PRESS',\n    'PRIME',\n    'PRO',\n    'PROD',\n    'PRODUCTIONS',\n    'PROF',\n    'PROGRESSIVE',\n    'PROMO',\n    'PROPERTIES',\n    'PROPERTY',\n    'PROTECTION',\n    'PRU',\n    'PRUDENTIAL',\n    'PS',\n    'PT',\n    'PUB',\n    'PW',\n    'PWC',\n    'PY',\n    'QA',\n    'QPON',\n    'QUEBEC',\n    'QUEST',\n    'QVC',\n    'RACING',\n    'RADIO',\n    'RAID',\n    'RE',\n    'READ',\n    'REALESTATE',\n    'REALTOR',\n    'REALTY',\n    'RECIPES',\n    'RED',\n    'REDSTONE',\n    'REDUMBRELLA',\n    'REHAB',\n    'REISE',\n    'REISEN',\n    'REIT',\n    'RELIANCE',\n    'REN',\n    'RENT',\n    'RENTALS',\n    'REPAIR',\n    'REPORT',\n    'REPUBLICAN',\n    'REST',\n    'RESTAURANT',\n    'REVIEW',\n    'REVIEWS',\n    'REXROTH',\n    'RICH',\n    'RICHARDLI',\n    'RICOH',\n    'RIGHTATHOME',\n    'RIL',\n    'RIO',\n    'RIP',\n    'RMIT',\n    'RO',\n    'ROCHER',\n    'ROCKS',\n    'RODEO',\n    'ROGERS',\n    'ROOM',\n    'RS',\n    'RSVP',\n    'RU',\n    'RUGBY',\n    'RUHR',\n    'RUN',\n    'RW',\n    'RWE',\n    'RYUKYU',\n    'SA',\n    'SAARLAND',\n    'SAFE',\n    'SAFETY',\n    'SAKURA',\n    'SALE',\n    'SALON',\n    'SAMSCLUB',\n    'SAMSUNG',\n    'SANDVIK',\n    'SANDVIKCOROMANT',\n    'SANOFI',\n    'SAP',\n    'SARL',\n    'SAS',\n    'SAVE',\n    'SAXO',\n    'SB',\n    'SBI',\n    'SBS',\n    'SC',\n    'SCA',\n    'SCB',\n    'SCHAEFFLER',\n    'SCHMIDT',\n    'SCHOLARSHIPS',\n    'SCHOOL',\n    'SCHULE',\n    'SCHWARZ',\n    'SCIENCE',\n    'SCJOHNSON',\n    'SCOR',\n    'SCOT',\n    'SD',\n    'SE',\n    'SEARCH',\n    'SEAT',\n    'SECURE',\n    'SECURITY',\n    'SEEK',\n    'SELECT',\n    'SENER',\n    'SERVICES',\n    'SES',\n    'SEVEN',\n    'SEW',\n    'SEX',\n    'SEXY',\n    'SFR',\n    'SG',\n    'SH',\n    'SHANGRILA',\n    'SHARP',\n    'SHAW',\n    'SHELL',\n    'SHIA',\n    'SHIKSHA',\n    'SHOES',\n    'SHOP',\n    'SHOPPING',\n    'SHOUJI',\n    'SHOW',\n    'SHOWTIME',\n    'SHRIRAM',\n    'SI',\n    'SILK',\n    'SINA',\n    'SINGLES',\n    'SITE',\n    'SJ',\n    'SK',\n    'SKI',\n    'SKIN',\n    'SKY',\n    'SKYPE',\n    'SL',\n    'SLING',\n    'SM',\n    'SMART',\n    'SMILE',\n    'SN',\n    'SNCF',\n    'SO',\n    'SOCCER',\n    'SOCIAL',\n    'SOFTBANK',\n    'SOFTWARE',\n    'SOHU',\n    'SOLAR',\n    'SOLUTIONS',\n    'SONG',\n    'SONY',\n    'SOY',\n    'SPACE',\n    'SPORT',\n    'SPOT',\n    'SPREADBETTING',\n    'SR',\n    'SRL',\n    'SRT',\n    'SS',\n    'ST',\n    'STADA',\n    'STAPLES',\n    'STAR',\n    'STATEBANK',\n    'STATEFARM',\n    'STC',\n    'STCGROUP',\n    'STOCKHOLM',\n    'STORAGE',\n    'STORE',\n    'STREAM',\n    'STUDIO',\n    'STUDY',\n    'STYLE',\n    'SU',\n    'SUCKS',\n    'SUPPLIES',\n    'SUPPLY',\n    'SUPPORT',\n    'SURF',\n    'SURGERY',\n    'SUZUKI',\n    'SV',\n    'SWATCH',\n    'SWIFTCOVER',\n    'SWISS',\n    'SX',\n    'SY',\n    'SYDNEY',\n    'SYMANTEC',\n    'SYSTEMS',\n    'SZ',\n    'TAB',\n    'TAIPEI',\n    'TALK',\n    'TAOBAO',\n    'TARGET',\n    'TATAMOTORS',\n    'TATAR',\n    'TATTOO',\n    'TAX',\n    'TAXI',\n    'TC',\n    'TCI',\n    'TD',\n    'TDK',\n    'TEAM',\n    'TECH',\n    'TECHNOLOGY',\n    'TEL',\n    'TELEFONICA',\n    'TEMASEK',\n    'TENNIS',\n    'TEVA',\n    'TF',\n    'TG',\n    'TH',\n    'THD',\n    'THEATER',\n    'THEATRE',\n    'TIAA',\n    'TICKETS',\n    'TIENDA',\n    'TIFFANY',\n    'TIPS',\n    'TIRES',\n    'TIROL',\n    'TJ',\n    'TJMAXX',\n    'TJX',\n    'TK',\n    'TKMAXX',\n    'TL',\n    'TM',\n    'TMALL',\n    'TN',\n    'TO',\n    'TODAY',\n    'TOKYO',\n    'TOOLS',\n    'TOP',\n    'TORAY',\n    'TOSHIBA',\n    'TOTAL',\n    'TOURS',\n    'TOWN',\n    'TOYOTA',\n    'TOYS',\n    'TR',\n    'TRADE',\n    'TRADING',\n    'TRAINING',\n    'TRAVEL',\n    'TRAVELCHANNEL',\n    'TRAVELERS',\n    'TRAVELERSINSURANCE',\n    'TRUST',\n    'TRV',\n    'TT',\n    'TUBE',\n    'TUI',\n    'TUNES',\n    'TUSHU',\n    'TV',\n    'TVS',\n    'TW',\n    'TZ',\n    'UA',\n    'UBANK',\n    'UBS',\n    'UCONNECT',\n    'UG',\n    'UK',\n    'UNICOM',\n    'UNIVERSITY',\n    'UNO',\n    'UOL',\n    'UPS',\n    'US',\n    'UY',\n    'UZ',\n    'VA',\n    'VACATIONS',\n    'VANA',\n    'VANGUARD',\n    'VC',\n    'VE',\n    'VEGAS',\n    'VENTURES',\n    'VERISIGN',\n    'VERSICHERUNG',\n    'VET',\n    'VG',\n    'VI',\n    'VIAJES',\n    'VIDEO',\n    'VIG',\n    'VIKING',\n    'VILLAS',\n    'VIN',\n    'VIP',\n    'VIRGIN',\n    'VISA',\n    'VISION',\n    'VISTAPRINT',\n    'VIVA',\n    'VIVO',\n    'VLAANDEREN',\n    'VN',\n    'VODKA',\n    'VOLKSWAGEN',\n    'VOLVO',\n    'VOTE',\n    'VOTING',\n    'VOTO',\n    'VOYAGE',\n    'VU',\n    'VUELOS',\n    'WALES',\n    'WALMART',\n    'WALTER',\n    'WANG',\n    'WANGGOU',\n    'WARMAN',\n    'WATCH',\n    'WATCHES',\n    'WEATHER',\n    'WEATHERCHANNEL',\n    'WEBCAM',\n    'WEBER',\n    'WEBSITE',\n    'WED',\n    'WEDDING',\n    'WEIBO',\n    'WEIR',\n    'WF',\n    'WHOSWHO',\n    'WIEN',\n    'WIKI',\n    'WILLIAMHILL',\n    'WIN',\n    'WINDOWS',\n    'WINE',\n    'WINNERS',\n    'WME',\n    'WOLTERSKLUWER',\n    'WOODSIDE',\n    'WORK',\n    'WORKS',\n    'WORLD',\n    'WOW',\n    'WS',\n    'WTC',\n    'WTF',\n    'XBOX',\n    'XEROX',\n    'XFINITY',\n    'XIHUAN',\n    'XIN',\n    'XN--11B4C3D',\n    'XN--1CK2E1B',\n    'XN--1QQW23A',\n    'XN--2SCRJ9C',\n    'XN--30RR7Y',\n    'XN--3BST00M',\n    'XN--3DS443G',\n    'XN--3E0B707E',\n    'XN--3HCRJ9C',\n    'XN--3OQ18VL8PN36A',\n    'XN--3PXU8K',\n    'XN--42C2D9A',\n    'XN--45BR5CYL',\n    'XN--45BRJ9C',\n    'XN--45Q11C',\n    'XN--4GBRIM',\n    'XN--54B7FTA0CC',\n    'XN--55QW42G',\n    'XN--55QX5D',\n    'XN--5SU34J936BGSG',\n    'XN--5TZM5G',\n    'XN--6FRZ82G',\n    'XN--6QQ986B3XL',\n    'XN--80ADXHKS',\n    'XN--80AO21A',\n    'XN--80AQECDR1A',\n    'XN--80ASEHDB',\n    'XN--80ASWG',\n    'XN--8Y0A063A',\n    'XN--90A3AC',\n    'XN--90AE',\n    'XN--90AIS',\n    'XN--9DBQ2A',\n    'XN--9ET52U',\n    'XN--9KRT00A',\n    'XN--B4W605FERD',\n    'XN--BCK1B9A5DRE4C',\n    'XN--C1AVG',\n    'XN--C2BR7G',\n    'XN--CCK2B3B',\n    'XN--CG4BKI',\n    'XN--CLCHC0EA0B2G2A9GCD',\n    'XN--CZR694B',\n    'XN--CZRS0T',\n    'XN--CZRU2D',\n    'XN--D1ACJ3B',\n    'XN--D1ALF',\n    'XN--E1A4C',\n    'XN--ECKVDTC9D',\n    'XN--EFVY88H',\n    'XN--ESTV75G',\n    'XN--FCT429K',\n    'XN--FHBEI',\n    'XN--FIQ228C5HS',\n    'XN--FIQ64B',\n    'XN--FIQS8S',\n    'XN--FIQZ9S',\n    'XN--FJQ720A',\n    'XN--FLW351E',\n    'XN--FPCRJ9C3D',\n    'XN--FZC2C9E2C',\n    'XN--FZYS8D69UVGM',\n    'XN--G2XX48C',\n    'XN--GCKR3F0F',\n    'XN--GECRJ9C',\n    'XN--GK3AT1E',\n    'XN--H2BREG3EVE',\n    'XN--H2BRJ9C',\n    'XN--H2BRJ9C8C',\n    'XN--HXT814E',\n    'XN--I1B6B1A6A2E',\n    'XN--IMR513N',\n    'XN--IO0A7I',\n    'XN--J1AEF',\n    'XN--J1AMH',\n    'XN--J6W193G',\n    'XN--JLQ61U9W7B',\n    'XN--JVR189M',\n    'XN--KCRX77D1X4A',\n    'XN--KPRW13D',\n    'XN--KPRY57D',\n    'XN--KPU716F',\n    'XN--KPUT3I',\n    'XN--L1ACC',\n    'XN--LGBBAT1AD8J',\n    'XN--MGB9AWBF',\n    'XN--MGBA3A3EJT',\n    'XN--MGBA3A4F16A',\n    'XN--MGBA7C0BBN0A',\n    'XN--MGBAAKC7DVF',\n    'XN--MGBAAM7A8H',\n    'XN--MGBAB2BD',\n    'XN--MGBAH1A3HJKRD',\n    'XN--MGBAI9AZGQP6J',\n    'XN--MGBAYH7GPA',\n    'XN--MGBBH1A',\n    'XN--MGBBH1A71E',\n    'XN--MGBC0A9AZCG',\n    'XN--MGBCA7DZDO',\n    'XN--MGBERP4A5D4AR',\n    'XN--MGBGU82A',\n    'XN--MGBI4ECEXP',\n    'XN--MGBPL2FH',\n    'XN--MGBT3DHD',\n    'XN--MGBTX2B',\n    'XN--MGBX4CD0AB',\n    'XN--MIX891F',\n    'XN--MK1BU44C',\n    'XN--MXTQ1M',\n    'XN--NGBC5AZD',\n    'XN--NGBE9E0A',\n    'XN--NGBRX',\n    'XN--NODE',\n    'XN--NQV7F',\n    'XN--NQV7FS00EMA',\n    'XN--NYQY26A',\n    'XN--O3CW4H',\n    'XN--OGBPF8FL',\n    'XN--OTU796D',\n    'XN--P1ACF',\n    'XN--P1AI',\n    'XN--PBT977C',\n    'XN--PGBS0DH',\n    'XN--PSSY2U',\n    'XN--Q9JYB4C',\n    'XN--QCKA1PMC',\n    'XN--QXA6A',\n    'XN--QXAM',\n    'XN--RHQV96G',\n    'XN--ROVU88B',\n    'XN--RVC1E0AM3E',\n    'XN--S9BRJ9C',\n    'XN--SES554G',\n    'XN--T60B56A',\n    'XN--TCKWE',\n    'XN--TIQ49XQYJ',\n    'XN--UNUP4Y',\n    'XN--VERMGENSBERATER-CTB',\n    'XN--VERMGENSBERATUNG-PWB',\n    'XN--VHQUV',\n    'XN--VUQ861B',\n    'XN--W4R85EL8FHU5DNRA',\n    'XN--W4RS40L',\n    'XN--WGBH1C',\n    'XN--WGBL6A',\n    'XN--XHQ521B',\n    'XN--XKC2AL3HYE2A',\n    'XN--XKC2DL3A5EE0H',\n    'XN--Y9A3AQ',\n    'XN--YFRO4I67O',\n    'XN--YGBI2AMMX',\n    'XN--ZFR164B',\n    'XXX',\n    'XYZ',\n    'YACHTS',\n    'YAHOO',\n    'YAMAXUN',\n    'YANDEX',\n    'YE',\n    'YODOBASHI',\n    'YOGA',\n    'YOKOHAMA',\n    'YOU',\n    'YOUTUBE',\n    'YT',\n    'YUN',\n    'ZA',\n    'ZAPPOS',\n    'ZARA',\n    'ZERO',\n    'ZIP',\n    'ZM',\n    'ZONE',\n    'ZUERICH',\n    'ZW'\n];\n\n\n// Keep as upper-case to make updating from source easier\n\nmodule.exports = new Set(internals.tlds.map((tld) => tld.toLowerCase()));\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst EscapeRegex = require('@hapi/hoek/lib/escapeRegex');\n\n\nconst internals = {};\n\n\ninternals.generate = function () {\n\n    const rfc3986 = {};\n\n    const hexDigit = '\\\\dA-Fa-f';                                               // HEXDIG = DIGIT / \"A\" / \"B\" / \"C\" / \"D\" / \"E\" / \"F\"\n    const hexDigitOnly = '[' + hexDigit + ']';\n\n    const unreserved = '\\\\w-\\\\.~';                                              // unreserved = ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\"\n    const subDelims = '!\\\\$&\\'\\\\(\\\\)\\\\*\\\\+,;=';                                 // sub-delims = \"!\" / \"$\" / \"&\" / \"'\" / \"(\" / \")\" / \"*\" / \"+\" / \",\" / \";\" / \"=\"\n    const pctEncoded = '%' + hexDigit;                                          // pct-encoded = \"%\" HEXDIG HEXDIG\n    const pchar = unreserved + pctEncoded + subDelims + ':@';                   // pchar = unreserved / pct-encoded / sub-delims / \":\" / \"@\"\n    const pcharOnly = '[' + pchar + ']';\n    const decOctect = '(?:0{0,2}\\\\d|0?[1-9]\\\\d|1\\\\d\\\\d|2[0-4]\\\\d|25[0-5])';     // dec-octet = DIGIT / %x31-39 DIGIT / \"1\" 2DIGIT / \"2\" %x30-34 DIGIT / \"25\" %x30-35  ; 0-9 / 10-99 / 100-199 / 200-249 / 250-255\n\n    rfc3986.ipv4address = '(?:' + decOctect + '\\\\.){3}' + decOctect;            // IPv4address = dec-octet \".\" dec-octet \".\" dec-octet \".\" dec-octet\n\n    /*\n        h16 = 1*4HEXDIG ; 16 bits of address represented in hexadecimal\n        ls32 = ( h16 \":\" h16 ) / IPv4address ; least-significant 32 bits of address\n        IPv6address =                            6( h16 \":\" ) ls32\n                    /                       \"::\" 5( h16 \":\" ) ls32\n                    / [               h16 ] \"::\" 4( h16 \":\" ) ls32\n                    / [ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n                    / [ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n                    / [ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n                    / [ *4( h16 \":\" ) h16 ] \"::\"              ls32\n                    / [ *5( h16 \":\" ) h16 ] \"::\"              h16\n                    / [ *6( h16 \":\" ) h16 ] \"::\"\n    */\n\n    const h16 = hexDigitOnly + '{1,4}';\n    const ls32 = '(?:' + h16 + ':' + h16 + '|' + rfc3986.ipv4address + ')';\n    const IPv6SixHex = '(?:' + h16 + ':){6}' + ls32;\n    const IPv6FiveHex = '::(?:' + h16 + ':){5}' + ls32;\n    const IPv6FourHex = '(?:' + h16 + ')?::(?:' + h16 + ':){4}' + ls32;\n    const IPv6ThreeHex = '(?:(?:' + h16 + ':){0,1}' + h16 + ')?::(?:' + h16 + ':){3}' + ls32;\n    const IPv6TwoHex = '(?:(?:' + h16 + ':){0,2}' + h16 + ')?::(?:' + h16 + ':){2}' + ls32;\n    const IPv6OneHex = '(?:(?:' + h16 + ':){0,3}' + h16 + ')?::' + h16 + ':' + ls32;\n    const IPv6NoneHex = '(?:(?:' + h16 + ':){0,4}' + h16 + ')?::' + ls32;\n    const IPv6NoneHex2 = '(?:(?:' + h16 + ':){0,5}' + h16 + ')?::' + h16;\n    const IPv6NoneHex3 = '(?:(?:' + h16 + ':){0,6}' + h16 + ')?::';\n\n    rfc3986.ipv4Cidr = '(?:\\\\d|[1-2]\\\\d|3[0-2])';                                           // IPv4 cidr = DIGIT / %x31-32 DIGIT / \"3\" %x30-32  ; 0-9 / 10-29 / 30-32\n    rfc3986.ipv6Cidr = '(?:0{0,2}\\\\d|0?[1-9]\\\\d|1[01]\\\\d|12[0-8])';                         // IPv6 cidr = DIGIT / %x31-39 DIGIT / \"1\" %x0-1 DIGIT / \"12\" %x0-8;   0-9 / 10-99 / 100-119 / 120-128\n    rfc3986.ipv6address = '(?:' + IPv6SixHex + '|' + IPv6FiveHex + '|' + IPv6FourHex + '|' + IPv6ThreeHex + '|' + IPv6TwoHex + '|' + IPv6OneHex + '|' + IPv6NoneHex + '|' + IPv6NoneHex2 + '|' + IPv6NoneHex3 + ')';\n    rfc3986.ipvFuture = 'v' + hexDigitOnly + '+\\\\.[' + unreserved + subDelims + ':]+';      // IPvFuture = \"v\" 1*HEXDIG \".\" 1*( unreserved / sub-delims / \":\" )\n\n    rfc3986.scheme = '[a-zA-Z][a-zA-Z\\\\d+-\\\\.]*';                                           // scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    rfc3986.schemeRegex = new RegExp(rfc3986.scheme);\n\n    const userinfo = '[' + unreserved + pctEncoded + subDelims + ':]*';                     // userinfo = *( unreserved / pct-encoded / sub-delims / \":\" )\n    const IPLiteral = '\\\\[(?:' + rfc3986.ipv6address + '|' + rfc3986.ipvFuture + ')\\\\]';    // IP-literal = \"[\" ( IPv6address / IPvFuture  ) \"]\"\n    const regName = '[' + unreserved + pctEncoded + subDelims + ']{1,255}';                 // reg-name = *( unreserved / pct-encoded / sub-delims )\n    const host = '(?:' + IPLiteral + '|' + rfc3986.ipv4address + '|' + regName + ')';       // host = IP-literal / IPv4address / reg-name\n    const port = '\\\\d*';                                                                    // port = *DIGIT\n    const authority = '(?:' + userinfo + '@)?' + host + '(?::' + port + ')?';               // authority   = [ userinfo \"@\" ] host [ \":\" port ]\n    const authorityCapture = '(?:' + userinfo + '@)?(' + host + ')(?::' + port + ')?';\n\n    /*\n        segment       = *pchar\n        segment-nz    = 1*pchar\n        path          = path-abempty    ; begins with \"/\" '|' is empty\n                    / path-absolute   ; begins with \"/\" but not \"//\"\n                    / path-noscheme   ; begins with a non-colon segment\n                    / path-rootless   ; begins with a segment\n                    / path-empty      ; zero characters\n        path-abempty  = *( \"/\" segment )\n        path-absolute = \"/\" [ segment-nz *( \"/\" segment ) ]\n        path-rootless = segment-nz *( \"/\" segment )\n    */\n\n    const segment = pcharOnly + '*';\n    const segmentNz = pcharOnly + '+';\n    const segmentNzNc = '[' + unreserved + pctEncoded + subDelims + '@' + ']+';\n    const pathEmpty = '';\n    const pathAbEmpty = '(?:\\\\/' + segment + ')*';\n    const pathAbsolute = '\\\\/(?:' + segmentNz + pathAbEmpty + ')?';\n    const pathRootless = segmentNz + pathAbEmpty;\n    const pathNoScheme = segmentNzNc + pathAbEmpty;\n    const pathAbNoAuthority = '(?:\\\\/\\\\/\\\\/' + segment + pathAbEmpty + ')';     // Used by file:///\n\n    // hier-part = \"//\" authority path\n\n    rfc3986.hierPart = '(?:' + '(?:\\\\/\\\\/' + authority + pathAbEmpty + ')' + '|' + pathAbsolute + '|' + pathRootless + '|' + pathAbNoAuthority + ')';\n    rfc3986.hierPartCapture = '(?:' + '(?:\\\\/\\\\/' + authorityCapture + pathAbEmpty + ')' + '|' + pathAbsolute + '|' + pathRootless + ')';\n\n    // relative-part = \"//\" authority path-abempty / path-absolute / path-noscheme / path-empty\n\n    rfc3986.relativeRef = '(?:' + '(?:\\\\/\\\\/' + authority + pathAbEmpty + ')' + '|' + pathAbsolute + '|' + pathNoScheme + '|' + pathEmpty + ')';\n    rfc3986.relativeRefCapture = '(?:' + '(?:\\\\/\\\\/' + authorityCapture + pathAbEmpty + ')' + '|' + pathAbsolute + '|' + pathNoScheme + '|' + pathEmpty + ')';\n\n    // query = *( pchar / \"/\" / \"?\" )\n    // query = *( pchar / \"[\" / \"]\" / \"/\" / \"?\" )\n\n    rfc3986.query = '[' + pchar + '\\\\/\\\\?]*(?=#|$)';                            //Finish matching either at the fragment part '|' end of the line.\n    rfc3986.queryWithSquareBrackets = '[' + pchar + '\\\\[\\\\]\\\\/\\\\?]*(?=#|$)';\n\n    // fragment = *( pchar / \"/\" / \"?\" )\n\n    rfc3986.fragment = '[' + pchar + '\\\\/\\\\?]*';\n\n    return rfc3986;\n};\n\ninternals.rfc3986 = internals.generate();\n\n\nexports.ip = {\n    v4Cidr: internals.rfc3986.ipv4Cidr,\n    v6Cidr: internals.rfc3986.ipv6Cidr,\n    ipv4: internals.rfc3986.ipv4address,\n    ipv6: internals.rfc3986.ipv6address,\n    ipvfuture: internals.rfc3986.ipvFuture\n};\n\n\ninternals.createRegex = function (options) {\n\n    const rfc = internals.rfc3986;\n\n    // Construct expression\n\n    const query = options.allowQuerySquareBrackets ? rfc.queryWithSquareBrackets : rfc.query;\n    const suffix = '(?:\\\\?' + query + ')?' + '(?:#' + rfc.fragment + ')?';\n\n    // relative-ref = relative-part [ \"?\" query ] [ \"#\" fragment ]\n\n    const relative = options.domain ? rfc.relativeRefCapture : rfc.relativeRef;\n\n    if (options.relativeOnly) {\n        return internals.wrap(relative + suffix);\n    }\n\n    // Custom schemes\n\n    let customScheme = '';\n    if (options.scheme) {\n        Assert(options.scheme instanceof RegExp || typeof options.scheme === 'string' || Array.isArray(options.scheme), 'scheme must be a RegExp, String, or Array');\n\n        const schemes = [].concat(options.scheme);\n        Assert(schemes.length >= 1, 'scheme must have at least 1 scheme specified');\n\n        // Flatten the array into a string to be used to match the schemes\n\n        const selections = [];\n        for (let i = 0; i < schemes.length; ++i) {\n            const scheme = schemes[i];\n            Assert(scheme instanceof RegExp || typeof scheme === 'string', 'scheme at position ' + i + ' must be a RegExp or String');\n\n            if (scheme instanceof RegExp) {\n                selections.push(scheme.source.toString());\n            }\n            else {\n                Assert(rfc.schemeRegex.test(scheme), 'scheme at position ' + i + ' must be a valid scheme');\n                selections.push(EscapeRegex(scheme));\n            }\n        }\n\n        customScheme = selections.join('|');\n    }\n\n    // URI = scheme \":\" hier-part [ \"?\" query ] [ \"#\" fragment ]\n\n    const scheme = customScheme ? '(?:' + customScheme + ')' : rfc.scheme;\n    const absolute = '(?:' + scheme + ':' + (options.domain ? rfc.hierPartCapture : rfc.hierPart) + ')';\n    const prefix = options.allowRelative ? '(?:' + absolute + '|' + relative + ')' : absolute;\n    return internals.wrap(prefix + suffix, customScheme);\n};\n\n\ninternals.wrap = function (raw, scheme) {\n\n    raw = `(?=.)(?!https?\\:/$)${raw}`;              // Require at least one character and explicitly forbid 'http:/'\n\n    return {\n        raw,\n        regex: new RegExp(`^${raw}$`),\n        scheme\n    };\n};\n\n\ninternals.uriRegex = internals.createRegex({});\n\n\nexports.regex = function (options = {}) {\n\n    if (options.scheme ||\n        options.allowRelative ||\n        options.relativeOnly ||\n        options.allowQuerySquareBrackets ||\n        options.domain) {\n\n        return internals.createRegex(options);\n    }\n\n    return internals.uriRegex;\n};\n","'use strict';\n\nconst internals = {\n    operators: ['!', '^', '*', '/', '%', '+', '-', '<', '<=', '>', '>=', '==', '!=', '&&', '||', '??'],\n    operatorCharacters: ['!', '^', '*', '/', '%', '+', '-', '<', '=', '>', '&', '|', '?'],\n    operatorsOrder: [['^'], ['*', '/', '%'], ['+', '-'], ['<', '<=', '>', '>='], ['==', '!='], ['&&'], ['||', '??']],\n    operatorsPrefix: ['!', 'n'],\n\n    literals: {\n        '\"': '\"',\n        '`': '`',\n        '\\'': '\\'',\n        '[': ']'\n    },\n\n    numberRx: /^(?:[0-9]*\\.?[0-9]*){1}$/,\n    tokenRx: /^[\\w\\$\\#\\.\\@\\:\\{\\}]+$/,\n\n    symbol: Symbol('formula'),\n    settings: Symbol('settings')\n};\n\n\nexports.Parser = class {\n\n    constructor(string, options = {}) {\n\n        if (!options[internals.settings] &&\n            options.constants) {\n\n            for (const constant in options.constants) {\n                const value = options.constants[constant];\n                if (value !== null &&\n                    !['boolean', 'number', 'string'].includes(typeof value)) {\n\n                    throw new Error(`Formula constant ${constant} contains invalid ${typeof value} value type`);\n                }\n            }\n        }\n\n        this.settings = options[internals.settings] ? options : Object.assign({ [internals.settings]: true, constants: {}, functions: {} }, options);\n        this.single = null;\n\n        this._parts = null;\n        this._parse(string);\n    }\n\n    _parse(string) {\n\n        let parts = [];\n        let current = '';\n        let parenthesis = 0;\n        let literal = false;\n\n        const flush = (inner) => {\n\n            if (parenthesis) {\n                throw new Error('Formula missing closing parenthesis');\n            }\n\n            const last = parts.length ? parts[parts.length - 1] : null;\n\n            if (!literal &&\n                !current &&\n                !inner) {\n\n                return;\n            }\n\n            if (last &&\n                last.type === 'reference' &&\n                inner === ')') {                                                                // Function\n\n                last.type = 'function';\n                last.value = this._subFormula(current, last.value);\n                current = '';\n                return;\n            }\n\n            if (inner === ')') {                                                                // Segment\n                const sub = new exports.Parser(current, this.settings);\n                parts.push({ type: 'segment', value: sub });\n            }\n            else if (literal) {\n                if (literal === ']') {                                                          // Reference\n                    parts.push({ type: 'reference', value: current });\n                    current = '';\n                    return;\n                }\n\n                parts.push({ type: 'literal', value: current });                                // Literal\n            }\n            else if (internals.operatorCharacters.includes(current)) {                          // Operator\n                if (last &&\n                    last.type === 'operator' &&\n                    internals.operators.includes(last.value + current)) {                       // 2 characters operator\n\n                    last.value += current;\n                }\n                else {\n                    parts.push({ type: 'operator', value: current });\n                }\n            }\n            else if (current.match(internals.numberRx)) {                                       // Number\n                parts.push({ type: 'constant', value: parseFloat(current) });\n            }\n            else if (this.settings.constants[current] !== undefined) {                          // Constant\n                parts.push({ type: 'constant', value: this.settings.constants[current] });\n            }\n            else {                                                                              // Reference\n                if (!current.match(internals.tokenRx)) {\n                    throw new Error(`Formula contains invalid token: ${current}`);\n                }\n\n                parts.push({ type: 'reference', value: current });\n            }\n\n            current = '';\n        };\n\n        for (const c of string) {\n            if (literal) {\n                if (c === literal) {\n                    flush();\n                    literal = false;\n                }\n                else {\n                    current += c;\n                }\n            }\n            else if (parenthesis) {\n                if (c === '(') {\n                    current += c;\n                    ++parenthesis;\n                }\n                else if (c === ')') {\n                    --parenthesis;\n                    if (!parenthesis) {\n                        flush(c);\n                    }\n                    else {\n                        current += c;\n                    }\n                }\n                else {\n                    current += c;\n                }\n            }\n            else if (c in internals.literals) {\n                literal = internals.literals[c];\n            }\n            else if (c === '(') {\n                flush();\n                ++parenthesis;\n            }\n            else if (internals.operatorCharacters.includes(c)) {\n                flush();\n                current = c;\n                flush();\n            }\n            else if (c !== ' ') {\n                current += c;\n            }\n            else {\n                flush();\n            }\n        }\n\n        flush();\n\n        // Replace prefix - to internal negative operator\n\n        parts = parts.map((part, i) => {\n\n            if (part.type !== 'operator' ||\n                part.value !== '-' ||\n                i && parts[i - 1].type !== 'operator') {\n\n                return part;\n            }\n\n            return { type: 'operator', value: 'n' };\n        });\n\n        // Validate tokens order\n\n        let operator = false;\n        for (const part of parts) {\n            if (part.type === 'operator') {\n                if (internals.operatorsPrefix.includes(part.value)) {\n                    continue;\n                }\n\n                if (!operator) {\n                    throw new Error('Formula contains an operator in invalid position');\n                }\n\n                if (!internals.operators.includes(part.value)) {\n                    throw new Error(`Formula contains an unknown operator ${part.value}`);\n                }\n            }\n            else if (operator) {\n                throw new Error('Formula missing expected operator');\n            }\n\n            operator = !operator;\n        }\n\n        if (!operator) {\n            throw new Error('Formula contains invalid trailing operator');\n        }\n\n        // Identify single part\n\n        if (parts.length === 1 &&\n            ['reference', 'literal', 'constant'].includes(parts[0].type)) {\n\n            this.single = { type: parts[0].type === 'reference' ? 'reference' : 'value', value: parts[0].value };\n        }\n\n        // Process parts\n\n        this._parts = parts.map((part) => {\n\n            // Operators\n\n            if (part.type === 'operator') {\n                return internals.operatorsPrefix.includes(part.value) ? part : part.value;\n            }\n\n            // Literals, constants, segments\n\n            if (part.type !== 'reference') {\n                return part.value;\n            }\n\n            // References\n\n            if (this.settings.tokenRx &&\n                !this.settings.tokenRx.test(part.value)) {\n\n                throw new Error(`Formula contains invalid reference ${part.value}`);\n            }\n\n            if (this.settings.reference) {\n                return this.settings.reference(part.value);\n            }\n\n            return internals.reference(part.value);\n        });\n    }\n\n    _subFormula(string, name) {\n\n        const method = this.settings.functions[name];\n        if (typeof method !== 'function') {\n            throw new Error(`Formula contains unknown function ${name}`);\n        }\n\n        let args = [];\n        if (string) {\n            let current = '';\n            let parenthesis = 0;\n            let literal = false;\n\n            const flush = () => {\n\n                if (!current) {\n                    throw new Error(`Formula contains function ${name} with invalid arguments ${string}`);\n                }\n\n                args.push(current);\n                current = '';\n            };\n\n            for (let i = 0; i < string.length; ++i) {\n                const c = string[i];\n                if (literal) {\n                    current += c;\n                    if (c === literal) {\n                        literal = false;\n                    }\n                }\n                else if (c in internals.literals &&\n                    !parenthesis) {\n\n                    current += c;\n                    literal = internals.literals[c];\n                }\n                else if (c === ',' &&\n                    !parenthesis) {\n\n                    flush();\n                }\n                else {\n                    current += c;\n                    if (c === '(') {\n                        ++parenthesis;\n                    }\n                    else if (c === ')') {\n                        --parenthesis;\n                    }\n                }\n            }\n\n            flush();\n        }\n\n        args = args.map((arg) => new exports.Parser(arg, this.settings));\n\n        return function (context) {\n\n            const innerValues = [];\n            for (const arg of args) {\n                innerValues.push(arg.evaluate(context));\n            }\n\n            return method.call(context, ...innerValues);\n        };\n    }\n\n    evaluate(context) {\n\n        const parts = this._parts.slice();\n\n        // Prefix operators\n\n        for (let i = parts.length - 2; i >= 0; --i) {\n            const part = parts[i];\n            if (part &&\n                part.type === 'operator') {\n\n                const current = parts[i + 1];\n                parts.splice(i + 1, 1);\n                const value = internals.evaluate(current, context);\n                parts[i] = internals.single(part.value, value);\n            }\n        }\n\n        // Left-right operators\n\n        internals.operatorsOrder.forEach((set) => {\n\n            for (let i = 1; i < parts.length - 1;) {\n                if (set.includes(parts[i])) {\n                    const operator = parts[i];\n                    const left = internals.evaluate(parts[i - 1], context);\n                    const right = internals.evaluate(parts[i + 1], context);\n\n                    parts.splice(i, 2);\n                    const result = internals.calculate(operator, left, right);\n                    parts[i - 1] = result === 0 ? 0 : result;                               // Convert -0\n                }\n                else {\n                    i += 2;\n                }\n            }\n        });\n\n        return internals.evaluate(parts[0], context);\n    }\n};\n\n\nexports.Parser.prototype[internals.symbol] = true;\n\n\ninternals.reference = function (name) {\n\n    return function (context) {\n\n        return context && context[name] !== undefined ? context[name] : null;\n    };\n};\n\n\ninternals.evaluate = function (part, context) {\n\n    if (part === null) {\n        return null;\n    }\n\n    if (typeof part === 'function') {\n        return part(context);\n    }\n\n    if (part[internals.symbol]) {\n        return part.evaluate(context);\n    }\n\n    return part;\n};\n\n\ninternals.single = function (operator, value) {\n\n    if (operator === '!') {\n        return value ? false : true;\n    }\n\n    // operator === 'n'\n\n    const negative = -value;\n    if (negative === 0) {       // Override -0\n        return 0;\n    }\n\n    return negative;\n};\n\n\ninternals.calculate = function (operator, left, right) {\n\n    if (operator === '??') {\n        return internals.exists(left) ? left : right;\n    }\n\n    if (typeof left === 'string' ||\n        typeof right === 'string') {\n\n        if (operator === '+') {\n            left = internals.exists(left) ? left : '';\n            right = internals.exists(right) ? right : '';\n            return left + right;\n        }\n    }\n    else {\n        switch (operator) {\n            case '^': return Math.pow(left, right);\n            case '*': return left * right;\n            case '/': return left / right;\n            case '%': return left % right;\n            case '+': return left + right;\n            case '-': return left - right;\n        }\n    }\n\n    switch (operator) {\n        case '<': return left < right;\n        case '<=': return left <= right;\n        case '>': return left > right;\n        case '>=': return left >= right;\n        case '==': return left === right;\n        case '!=': return left !== right;\n        case '&&': return left && right;\n        case '||': return left || right;\n    }\n\n    return null;\n};\n\n\ninternals.exists = function (value) {\n\n    return value !== null && value !== undefined;\n};\n","'use strict';\r\n\r\nconst Assert = require('./assert');\r\nconst Clone = require('./clone');\r\nconst Merge = require('./merge');\r\nconst Reach = require('./reach');\r\n\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = function (defaults, source, options = {}) {\r\n\r\n    Assert(defaults && typeof defaults === 'object', 'Invalid defaults value: must be an object');\r\n    Assert(!source || source === true || typeof source === 'object', 'Invalid source value: must be true, falsy or an object');\r\n    Assert(typeof options === 'object', 'Invalid options: must be an object');\r\n\r\n    if (!source) {                                                  // If no source, return null\r\n        return null;\r\n    }\r\n\r\n    if (options.shallow) {\r\n        return internals.applyToDefaultsWithShallow(defaults, source, options);\r\n    }\r\n\r\n    const copy = Clone(defaults);\r\n\r\n    if (source === true) {                                          // If source is set to true, use defaults\r\n        return copy;\r\n    }\r\n\r\n    const nullOverride = options.nullOverride !== undefined ? options.nullOverride : false;\r\n    return Merge(copy, source, { nullOverride, mergeArrays: false });\r\n};\r\n\r\n\r\ninternals.applyToDefaultsWithShallow = function (defaults, source, options) {\r\n\r\n    const keys = options.shallow;\r\n    Assert(Array.isArray(keys), 'Invalid keys');\r\n\r\n    const seen = new Map();\r\n    const merge = source === true ? null : new Set();\r\n\r\n    for (let key of keys) {\r\n        key = Array.isArray(key) ? key : key.split('.');            // Pre-split optimization\r\n\r\n        const ref = Reach(defaults, key);\r\n        if (ref &&\r\n            typeof ref === 'object') {\r\n\r\n            seen.set(ref, merge && Reach(source, key) || ref);\r\n        }\r\n        else if (merge) {\r\n            merge.add(key);\r\n        }\r\n    }\r\n\r\n    const copy = Clone(defaults, {}, seen);\r\n\r\n    if (!merge) {\r\n        return copy;\r\n    }\r\n\r\n    for (const key of merge) {\r\n        internals.reachCopy(copy, source, key);\r\n    }\r\n\r\n    return Merge(copy, source, { mergeArrays: false, nullOverride: false });\r\n};\r\n\r\n\r\ninternals.reachCopy = function (dst, src, path) {\r\n\r\n    for (const segment of path) {\r\n        if (!(segment in src)) {\r\n            return;\r\n        }\r\n\r\n        src = src[segment];\r\n    }\r\n\r\n    const value = src;\r\n    let ref = dst;\r\n    for (let i = 0; i < path.length - 1; ++i) {\r\n        const segment = path[i];\r\n        if (typeof ref[segment] !== 'object') {\r\n            ref[segment] = {};\r\n        }\r\n\r\n        ref = ref[segment];\r\n    }\r\n\r\n    ref[path[path.length - 1]] = value;\r\n};\r\n","'use strict';\r\n\r\nconst AssertError = require('./error');\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = function (condition, ...args) {\r\n\r\n    if (condition) {\r\n        return;\r\n    }\r\n\r\n    if (args.length === 1 &&\r\n        args[0] instanceof Error) {\r\n\r\n        throw args[0];\r\n    }\r\n\r\n    throw new AssertError(args);\r\n};\r\n","'use strict';\r\n\r\nconst Reach = require('./reach');\r\nconst Types = require('./types');\r\nconst Utils = require('./utils');\r\n\r\n\r\nconst internals = {\r\n    needsProtoHack: new Set([Types.set, Types.map, Types.weakSet, Types.weakMap])\r\n};\r\n\r\n\r\nmodule.exports = internals.clone = function (obj, options = {}, _seen = null) {\r\n\r\n    if (typeof obj !== 'object' ||\r\n        obj === null) {\r\n\r\n        return obj;\r\n    }\r\n\r\n    let clone = internals.clone;\r\n    let seen = _seen;\r\n\r\n    if (options.shallow) {\r\n        if (options.shallow !== true) {\r\n            return internals.cloneWithShallow(obj, options);\r\n        }\r\n\r\n        clone = (value) => value;\r\n    }\r\n    else if (seen) {\r\n        const lookup = seen.get(obj);\r\n        if (lookup) {\r\n            return lookup;\r\n        }\r\n    }\r\n    else {\r\n        seen = new Map();\r\n    }\r\n\r\n    // Built-in object types\r\n\r\n    const baseProto = Types.getInternalProto(obj);\r\n    if (baseProto === Types.buffer) {\r\n        return Buffer && Buffer.from(obj);              // $lab:coverage:ignore$\r\n    }\r\n\r\n    if (baseProto === Types.date) {\r\n        return new Date(obj.getTime());\r\n    }\r\n\r\n    if (baseProto === Types.regex) {\r\n        return new RegExp(obj);\r\n    }\r\n\r\n    // Generic objects\r\n\r\n    const newObj = internals.base(obj, baseProto, options);\r\n    if (newObj === obj) {\r\n        return obj;\r\n    }\r\n\r\n    if (seen) {\r\n        seen.set(obj, newObj);                              // Set seen, since obj could recurse\r\n    }\r\n\r\n    if (baseProto === Types.set) {\r\n        for (const value of obj) {\r\n            newObj.add(clone(value, options, seen));\r\n        }\r\n    }\r\n    else if (baseProto === Types.map) {\r\n        for (const [key, value] of obj) {\r\n            newObj.set(key, clone(value, options, seen));\r\n        }\r\n    }\r\n\r\n    const keys = Utils.keys(obj, options);\r\n    for (const key of keys) {\r\n        if (key === '__proto__') {\r\n            continue;\r\n        }\r\n\r\n        if (baseProto === Types.array &&\r\n            key === 'length') {\r\n\r\n            newObj.length = obj.length;\r\n            continue;\r\n        }\r\n\r\n        const descriptor = Object.getOwnPropertyDescriptor(obj, key);\r\n        if (descriptor) {\r\n            if (descriptor.get ||\r\n                descriptor.set) {\r\n\r\n                Object.defineProperty(newObj, key, descriptor);\r\n            }\r\n            else if (descriptor.enumerable) {\r\n                newObj[key] = clone(obj[key], options, seen);\r\n            }\r\n            else {\r\n                Object.defineProperty(newObj, key, { enumerable: false, writable: true, configurable: true, value: clone(obj[key], options, seen) });\r\n            }\r\n        }\r\n        else {\r\n            Object.defineProperty(newObj, key, {\r\n                enumerable: true,\r\n                writable: true,\r\n                configurable: true,\r\n                value: clone(obj[key], options, seen)\r\n            });\r\n        }\r\n    }\r\n\r\n    return newObj;\r\n};\r\n\r\n\r\ninternals.cloneWithShallow = function (source, options) {\r\n\r\n    const keys = options.shallow;\r\n    options = Object.assign({}, options);\r\n    options.shallow = false;\r\n\r\n    const seen = new Map();\r\n\r\n    for (const key of keys) {\r\n        const ref = Reach(source, key);\r\n        if (typeof ref === 'object' ||\r\n            typeof ref === 'function') {\r\n\r\n            seen.set(ref, ref);\r\n        }\r\n    }\r\n\r\n    return internals.clone(source, options, seen);\r\n};\r\n\r\n\r\ninternals.base = function (obj, baseProto, options) {\r\n\r\n    if (options.prototype === false) {                  // Defaults to true\r\n        if (internals.needsProtoHack.has(baseProto)) {\r\n            return new baseProto.constructor();\r\n        }\r\n\r\n        return baseProto === Types.array ? [] : {};\r\n    }\r\n\r\n    const proto = Object.getPrototypeOf(obj);\r\n    if (proto &&\r\n        proto.isImmutable) {\r\n\r\n        return obj;\r\n    }\r\n\r\n    if (baseProto === Types.array) {\r\n        const newObj = [];\r\n        if (proto !== baseProto) {\r\n            Object.setPrototypeOf(newObj, proto);\r\n        }\r\n\r\n        return newObj;\r\n    }\r\n\r\n    if (internals.needsProtoHack.has(baseProto)) {\r\n        const newObj = new proto.constructor();\r\n        if (proto !== baseProto) {\r\n            Object.setPrototypeOf(newObj, proto);\r\n        }\r\n\r\n        return newObj;\r\n    }\r\n\r\n    return Object.create(proto);\r\n};\r\n","'use strict';\r\n\r\nconst Types = require('./types');\r\n\r\n\r\nconst internals = {\r\n    mismatched: null\r\n};\r\n\r\n\r\nmodule.exports = function (obj, ref, options) {\r\n\r\n    options = Object.assign({ prototype: true }, options);\r\n\r\n    return !!internals.isDeepEqual(obj, ref, options, []);\r\n};\r\n\r\n\r\ninternals.isDeepEqual = function (obj, ref, options, seen) {\r\n\r\n    if (obj === ref) {                                                      // Copied from Deep-eql, copyright(c) 2013 Jake Luer, jake@alogicalparadox.com, MIT Licensed, https://github.com/chaijs/deep-eql\r\n        return obj !== 0 || 1 / obj === 1 / ref;\r\n    }\r\n\r\n    const type = typeof obj;\r\n\r\n    if (type !== typeof ref) {\r\n        return false;\r\n    }\r\n\r\n    if (obj === null ||\r\n        ref === null) {\r\n\r\n        return false;\r\n    }\r\n\r\n    if (type === 'function') {\r\n        if (!options.deepFunction ||\r\n            obj.toString() !== ref.toString()) {\r\n\r\n            return false;\r\n        }\r\n\r\n        // Continue as object\r\n    }\r\n    else if (type !== 'object') {\r\n        return obj !== obj && ref !== ref;                                  // NaN\r\n    }\r\n\r\n    const instanceType = internals.getSharedType(obj, ref, !!options.prototype);\r\n    switch (instanceType) {\r\n        case Types.buffer:\r\n            return Buffer && Buffer.prototype.equals.call(obj, ref);        // $lab:coverage:ignore$\r\n        case Types.promise:\r\n            return obj === ref;\r\n        case Types.regex:\r\n            return obj.toString() === ref.toString();\r\n        case internals.mismatched:\r\n            return false;\r\n    }\r\n\r\n    for (let i = seen.length - 1; i >= 0; --i) {\r\n        if (seen[i].isSame(obj, ref)) {\r\n            return true;                                                    // If previous comparison failed, it would have stopped execution\r\n        }\r\n    }\r\n\r\n    seen.push(new internals.SeenEntry(obj, ref));\r\n\r\n    try {\r\n        return !!internals.isDeepEqualObj(instanceType, obj, ref, options, seen);\r\n    }\r\n    finally {\r\n        seen.pop();\r\n    }\r\n};\r\n\r\n\r\ninternals.getSharedType = function (obj, ref, checkPrototype) {\r\n\r\n    if (checkPrototype) {\r\n        if (Object.getPrototypeOf(obj) !== Object.getPrototypeOf(ref)) {\r\n            return internals.mismatched;\r\n        }\r\n\r\n        return Types.getInternalProto(obj);\r\n    }\r\n\r\n    const type = Types.getInternalProto(obj);\r\n    if (type !== Types.getInternalProto(ref)) {\r\n        return internals.mismatched;\r\n    }\r\n\r\n    return type;\r\n};\r\n\r\n\r\ninternals.valueOf = function (obj) {\r\n\r\n    const objValueOf = obj.valueOf;\r\n    if (objValueOf === undefined) {\r\n        return obj;\r\n    }\r\n\r\n    try {\r\n        return objValueOf.call(obj);\r\n    }\r\n    catch (err) {\r\n        return err;\r\n    }\r\n};\r\n\r\n\r\ninternals.hasOwnEnumerableProperty = function (obj, key) {\r\n\r\n    return Object.prototype.propertyIsEnumerable.call(obj, key);\r\n};\r\n\r\n\r\ninternals.isSetSimpleEqual = function (obj, ref) {\r\n\r\n    for (const entry of obj) {\r\n        if (!ref.has(entry)) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n\r\ninternals.isDeepEqualObj = function (instanceType, obj, ref, options, seen) {\r\n\r\n    const { isDeepEqual, valueOf, hasOwnEnumerableProperty } = internals;\r\n    const { keys, getOwnPropertySymbols } = Object;\r\n\r\n    if (instanceType === Types.array) {\r\n        if (options.part) {\r\n\r\n            // Check if any index match any other index\r\n\r\n            for (const objValue of obj) {\r\n                for (const refValue of ref) {\r\n                    if (isDeepEqual(objValue, refValue, options, seen)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (obj.length !== ref.length) {\r\n                return false;\r\n            }\r\n\r\n            for (let i = 0; i < obj.length; ++i) {\r\n                if (!isDeepEqual(obj[i], ref[i], options, seen)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    else if (instanceType === Types.set) {\r\n        if (obj.size !== ref.size) {\r\n            return false;\r\n        }\r\n\r\n        if (!internals.isSetSimpleEqual(obj, ref)) {\r\n\r\n            // Check for deep equality\r\n\r\n            const ref2 = new Set(ref);\r\n            for (const objEntry of obj) {\r\n                if (ref2.delete(objEntry)) {\r\n                    continue;\r\n                }\r\n\r\n                let found = false;\r\n                for (const refEntry of ref2) {\r\n                    if (isDeepEqual(objEntry, refEntry, options, seen)) {\r\n                        ref2.delete(refEntry);\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (!found) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (instanceType === Types.map) {\r\n        if (obj.size !== ref.size) {\r\n            return false;\r\n        }\r\n\r\n        for (const [key, value] of obj) {\r\n            if (value === undefined && !ref.has(key)) {\r\n                return false;\r\n            }\r\n\r\n            if (!isDeepEqual(value, ref.get(key), options, seen)) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    else if (instanceType === Types.error) {\r\n\r\n        // Always check name and message\r\n\r\n        if (obj.name !== ref.name ||\r\n            obj.message !== ref.message) {\r\n\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // Check .valueOf()\r\n\r\n    const valueOfObj = valueOf(obj);\r\n    const valueOfRef = valueOf(ref);\r\n    if ((obj !== valueOfObj || ref !== valueOfRef) &&\r\n        !isDeepEqual(valueOfObj, valueOfRef, options, seen)) {\r\n\r\n        return false;\r\n    }\r\n\r\n    // Check properties\r\n\r\n    const objKeys = keys(obj);\r\n    if (!options.part &&\r\n        objKeys.length !== keys(ref).length &&\r\n        !options.skip) {\r\n\r\n        return false;\r\n    }\r\n\r\n    let skipped = 0;\r\n    for (const key of objKeys) {\r\n        if (options.skip &&\r\n            options.skip.includes(key)) {\r\n\r\n            if (ref[key] === undefined) {\r\n                ++skipped;\r\n            }\r\n\r\n            continue;\r\n        }\r\n\r\n        if (!hasOwnEnumerableProperty(ref, key)) {\r\n            return false;\r\n        }\r\n\r\n        if (!isDeepEqual(obj[key], ref[key], options, seen)) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    if (!options.part &&\r\n        objKeys.length - skipped !== keys(ref).length) {\r\n\r\n        return false;\r\n    }\r\n\r\n    // Check symbols\r\n\r\n    if (options.symbols !== false) {                                // Defaults to true\r\n        const objSymbols = getOwnPropertySymbols(obj);\r\n        const refSymbols = new Set(getOwnPropertySymbols(ref));\r\n\r\n        for (const key of objSymbols) {\r\n            if (!options.skip ||\r\n                !options.skip.includes(key)) {\r\n\r\n                if (hasOwnEnumerableProperty(obj, key)) {\r\n                    if (!hasOwnEnumerableProperty(ref, key)) {\r\n                        return false;\r\n                    }\r\n\r\n                    if (!isDeepEqual(obj[key], ref[key], options, seen)) {\r\n                        return false;\r\n                    }\r\n                }\r\n                else if (hasOwnEnumerableProperty(ref, key)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            refSymbols.delete(key);\r\n        }\r\n\r\n        for (const key of refSymbols) {\r\n            if (hasOwnEnumerableProperty(ref, key)) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n\r\ninternals.SeenEntry = class {\r\n\r\n    constructor(obj, ref) {\r\n\r\n        this.obj = obj;\r\n        this.ref = ref;\r\n    }\r\n\r\n    isSame(obj, ref) {\r\n\r\n        return this.obj === obj && this.ref === ref;\r\n    }\r\n};\r\n","'use strict';\r\n\r\nconst Stringify = require('./stringify');\r\n\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = class extends Error {\r\n\r\n    constructor(args) {\r\n\r\n        const msgs = args\r\n            .filter((arg) => arg !== '')\r\n            .map((arg) => {\r\n\r\n                return typeof arg === 'string' ? arg : arg instanceof Error ? arg.message : Stringify(arg);\r\n            });\r\n\r\n        super(msgs.join(' ') || 'Unknown error');\r\n\r\n        if (typeof Error.captureStackTrace === 'function') {            // $lab:coverage:ignore$\r\n            Error.captureStackTrace(this, exports.assert);\r\n        }\r\n    }\r\n};\r\n","'use strict';\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = function (input) {\r\n\r\n    if (!input) {\r\n        return '';\r\n    }\r\n\r\n    let escaped = '';\r\n\r\n    for (let i = 0; i < input.length; ++i) {\r\n\r\n        const charCode = input.charCodeAt(i);\r\n\r\n        if (internals.isSafe(charCode)) {\r\n            escaped += input[i];\r\n        }\r\n        else {\r\n            escaped += internals.escapeHtmlChar(charCode);\r\n        }\r\n    }\r\n\r\n    return escaped;\r\n};\r\n\r\n\r\ninternals.escapeHtmlChar = function (charCode) {\r\n\r\n    const namedEscape = internals.namedHtml[charCode];\r\n    if (typeof namedEscape !== 'undefined') {\r\n        return namedEscape;\r\n    }\r\n\r\n    if (charCode >= 256) {\r\n        return '&#' + charCode + ';';\r\n    }\r\n\r\n    const hexValue = charCode.toString(16).padStart(2, '0');\r\n    return `&#x${hexValue};`;\r\n};\r\n\r\n\r\ninternals.isSafe = function (charCode) {\r\n\r\n    return (typeof internals.safeCharCodes[charCode] !== 'undefined');\r\n};\r\n\r\n\r\ninternals.namedHtml = {\r\n    '38': '&amp;',\r\n    '60': '&lt;',\r\n    '62': '&gt;',\r\n    '34': '&quot;',\r\n    '160': '&nbsp;',\r\n    '162': '&cent;',\r\n    '163': '&pound;',\r\n    '164': '&curren;',\r\n    '169': '&copy;',\r\n    '174': '&reg;'\r\n};\r\n\r\n\r\ninternals.safeCharCodes = (function () {\r\n\r\n    const safe = {};\r\n\r\n    for (let i = 32; i < 123; ++i) {\r\n\r\n        if ((i >= 97) ||                    // a-z\r\n            (i >= 65 && i <= 90) ||         // A-Z\r\n            (i >= 48 && i <= 57) ||         // 0-9\r\n            i === 32 ||                     // space\r\n            i === 46 ||                     // .\r\n            i === 44 ||                     // ,\r\n            i === 45 ||                     // -\r\n            i === 58 ||                     // :\r\n            i === 95) {                     // _\r\n\r\n            safe[i] = null;\r\n        }\r\n    }\r\n\r\n    return safe;\r\n}());\r\n","'use strict';\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = function (string) {\r\n\r\n    // Escape ^$.*+-?=!:|\\/()[]{},\r\n\r\n    return string.replace(/[\\^\\$\\.\\*\\+\\-\\?\\=\\!\\:\\|\\\\\\/\\(\\)\\[\\]\\{\\}\\,]/g, '\\\\$&');\r\n};\r\n","'use strict';\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = function () { };\r\n","'use strict';\r\n\r\nconst Assert = require('./assert');\r\nconst Clone = require('./clone');\r\nconst Utils = require('./utils');\r\n\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = internals.merge = function (target, source, options) {\r\n\r\n    Assert(target && typeof target === 'object', 'Invalid target value: must be an object');\r\n    Assert(source === null || source === undefined || typeof source === 'object', 'Invalid source value: must be null, undefined, or an object');\r\n\r\n    if (!source) {\r\n        return target;\r\n    }\r\n\r\n    options = Object.assign({ nullOverride: true, mergeArrays: true }, options);\r\n\r\n    if (Array.isArray(source)) {\r\n        Assert(Array.isArray(target), 'Cannot merge array onto an object');\r\n        if (!options.mergeArrays) {\r\n            target.length = 0;                                                          // Must not change target assignment\r\n        }\r\n\r\n        for (let i = 0; i < source.length; ++i) {\r\n            target.push(Clone(source[i], { symbols: options.symbols }));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    const keys = Utils.keys(source, options);\r\n    for (let i = 0; i < keys.length; ++i) {\r\n        const key = keys[i];\r\n        if (key === '__proto__' ||\r\n            !Object.prototype.propertyIsEnumerable.call(source, key)) {\r\n\r\n            continue;\r\n        }\r\n\r\n        const value = source[key];\r\n        if (value &&\r\n            typeof value === 'object') {\r\n\r\n            if (target[key] === value) {\r\n                continue;                                           // Can occur for shallow merges\r\n            }\r\n\r\n            if (!target[key] ||\r\n                typeof target[key] !== 'object' ||\r\n                (Array.isArray(target[key]) !== Array.isArray(value)) ||\r\n                value instanceof Date ||\r\n                (Buffer && Buffer.isBuffer(value)) ||               // $lab:coverage:ignore$\r\n                value instanceof RegExp) {\r\n\r\n                target[key] = Clone(value, { symbols: options.symbols });\r\n            }\r\n            else {\r\n                internals.merge(target[key], value, options);\r\n            }\r\n        }\r\n        else {\r\n            if (value !== null &&\r\n                value !== undefined) {                              // Explicit to preserve empty strings\r\n\r\n                target[key] = value;\r\n            }\r\n            else if (options.nullOverride) {\r\n                target[key] = value;\r\n            }\r\n        }\r\n    }\r\n\r\n    return target;\r\n};\r\n","'use strict';\r\n\r\nconst Assert = require('./assert');\r\n\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = function (obj, chain, options) {\r\n\r\n    if (chain === false ||\r\n        chain === null ||\r\n        chain === undefined) {\r\n\r\n        return obj;\r\n    }\r\n\r\n    options = options || {};\r\n    if (typeof options === 'string') {\r\n        options = { separator: options };\r\n    }\r\n\r\n    const isChainArray = Array.isArray(chain);\r\n\r\n    Assert(!isChainArray || !options.separator, 'Separator option no valid for array-based chain');\r\n\r\n    const path = isChainArray ? chain : chain.split(options.separator || '.');\r\n    let ref = obj;\r\n    for (let i = 0; i < path.length; ++i) {\r\n        let key = path[i];\r\n        const type = options.iterables && internals.iterables(ref);\r\n\r\n        if (Array.isArray(ref) ||\r\n            type === 'set') {\r\n\r\n            const number = Number(key);\r\n            if (Number.isInteger(number)) {\r\n                key = number < 0 ? ref.length + number : number;\r\n            }\r\n        }\r\n\r\n        if (!ref ||\r\n            typeof ref === 'function' && options.functions === false ||         // Defaults to true\r\n            !type && ref[key] === undefined) {\r\n\r\n            Assert(!options.strict || i + 1 === path.length, 'Missing segment', key, 'in reach path ', chain);\r\n            Assert(typeof ref === 'object' || options.functions === true || typeof ref !== 'function', 'Invalid segment', key, 'in reach path ', chain);\r\n            ref = options.default;\r\n            break;\r\n        }\r\n\r\n        if (!type) {\r\n            ref = ref[key];\r\n        }\r\n        else if (type === 'set') {\r\n            ref = [...ref][key];\r\n        }\r\n        else {  // type === 'map'\r\n            ref = ref.get(key);\r\n        }\r\n    }\r\n\r\n    return ref;\r\n};\r\n\r\n\r\ninternals.iterables = function (ref) {\r\n\r\n    if (ref instanceof Set) {\r\n        return 'set';\r\n    }\r\n\r\n    if (ref instanceof Map) {\r\n        return 'map';\r\n    }\r\n};\r\n","'use strict';\r\n\r\nconst internals = {};\r\n\r\n\r\nmodule.exports = function (...args) {\r\n\r\n    try {\r\n        return JSON.stringify.apply(null, args);\r\n    }\r\n    catch (err) {\r\n        return '[Cannot display object: ' + err.message + ']';\r\n    }\r\n};\r\n","'use strict';\r\n\r\nconst internals = {};\r\n\r\n\r\nexports = module.exports = {\r\n    array: Array.prototype,\r\n    buffer: Buffer && Buffer.prototype,             // $lab:coverage:ignore$\r\n    date: Date.prototype,\r\n    error: Error.prototype,\r\n    generic: Object.prototype,\r\n    map: Map.prototype,\r\n    promise: Promise.prototype,\r\n    regex: RegExp.prototype,\r\n    set: Set.prototype,\r\n    weakMap: WeakMap.prototype,\r\n    weakSet: WeakSet.prototype\r\n};\r\n\r\n\r\ninternals.typeMap = new Map([\r\n    ['[object Error]', exports.error],\r\n    ['[object Map]', exports.map],\r\n    ['[object Promise]', exports.promise],\r\n    ['[object Set]', exports.set],\r\n    ['[object WeakMap]', exports.weakMap],\r\n    ['[object WeakSet]', exports.weakSet]\r\n]);\r\n\r\n\r\nexports.getInternalProto = function (obj) {\r\n\r\n    if (Array.isArray(obj)) {\r\n        return exports.array;\r\n    }\r\n\r\n    if (Buffer && obj instanceof Buffer) {          // $lab:coverage:ignore$\r\n        return exports.buffer;\r\n    }\r\n\r\n    if (obj instanceof Date) {\r\n        return exports.date;\r\n    }\r\n\r\n    if (obj instanceof RegExp) {\r\n        return exports.regex;\r\n    }\r\n\r\n    if (obj instanceof Error) {\r\n        return exports.error;\r\n    }\r\n\r\n    const objName = Object.prototype.toString.call(obj);\r\n    return internals.typeMap.get(objName) || exports.generic;\r\n};\r\n","'use strict';\r\n\r\nconst internals = {};\r\n\r\n\r\nexports.keys = function (obj, options = {}) {\r\n\r\n    return options.symbols !== false ? Reflect.ownKeys(obj) : Object.getOwnPropertyNames(obj);  // Defaults to true\r\n};\r\n","'use strict';\n\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Common = require('./common');\n\n\nconst internals = {\n    annotations: Symbol('annotations')\n};\n\n\nexports.error = function (stripColorCodes) {\n\n    if (!this._original ||\n        typeof this._original !== 'object') {\n\n        return this.details[0].message;\n    }\n\n    const redFgEscape = stripColorCodes ? '' : '\\u001b[31m';\n    const redBgEscape = stripColorCodes ? '' : '\\u001b[41m';\n    const endColor = stripColorCodes ? '' : '\\u001b[0m';\n\n    const obj = Clone(this._original);\n\n    for (let i = this.details.length - 1; i >= 0; --i) {        // Reverse order to process deepest child first\n        const pos = i + 1;\n        const error = this.details[i];\n        const path = error.path;\n        let node = obj;\n        for (let j = 0; ; ++j) {\n            const seg = path[j];\n\n            if (Common.isSchema(node)) {\n                node = node.clone();                              // joi schemas are not cloned by hoek, we have to take this extra step\n            }\n\n            if (j + 1 < path.length &&\n                typeof node[seg] !== 'string') {\n\n                node = node[seg];\n            }\n            else {\n                const refAnnotations = node[internals.annotations] || { errors: {}, missing: {} };\n                node[internals.annotations] = refAnnotations;\n\n                const cacheKey = seg || error.context.key;\n\n                if (node[seg] !== undefined) {\n                    refAnnotations.errors[cacheKey] = refAnnotations.errors[cacheKey] || [];\n                    refAnnotations.errors[cacheKey].push(pos);\n                }\n                else {\n                    refAnnotations.missing[cacheKey] = pos;\n                }\n\n                break;\n            }\n        }\n    }\n\n    const replacers = {\n        key: /_\\$key\\$_([, \\d]+)_\\$end\\$_\"/g,\n        missing: /\"_\\$miss\\$_([^|]+)\\|(\\d+)_\\$end\\$_\": \"__missing__\"/g,\n        arrayIndex: /\\s*\"_\\$idx\\$_([, \\d]+)_\\$end\\$_\",?\\n(.*)/g,\n        specials: /\"\\[(NaN|Symbol.*|-?Infinity|function.*|\\(.*)]\"/g\n    };\n\n    let message = internals.safeStringify(obj, 2)\n        .replace(replacers.key, ($0, $1) => `\" ${redFgEscape}[${$1}]${endColor}`)\n        .replace(replacers.missing, ($0, $1, $2) => `${redBgEscape}\"${$1}\"${endColor}${redFgEscape} [${$2}]: -- missing --${endColor}`)\n        .replace(replacers.arrayIndex, ($0, $1, $2) => `\\n${$2} ${redFgEscape}[${$1}]${endColor}`)\n        .replace(replacers.specials, ($0, $1) => $1);\n\n    message = `${message}\\n${redFgEscape}`;\n\n    for (let i = 0; i < this.details.length; ++i) {\n        const pos = i + 1;\n        message = `${message}\\n[${pos}] ${this.details[i].message}`;\n    }\n\n    message = message + endColor;\n\n    return message;\n};\n\n\n// Inspired by json-stringify-safe\n\ninternals.safeStringify = function (obj, spaces) {\n\n    return JSON.stringify(obj, internals.serializer(), spaces);\n};\n\n\ninternals.serializer = function () {\n\n    const keys = [];\n    const stack = [];\n\n    const cycleReplacer = (key, value) => {\n\n        if (stack[0] === value) {\n            return '[Circular ~]';\n        }\n\n        return '[Circular ~.' + keys.slice(0, stack.indexOf(value)).join('.') + ']';\n    };\n\n    return function (key, value) {\n\n        if (stack.length > 0) {\n            const thisPos = stack.indexOf(this);\n            if (~thisPos) {\n                stack.length = thisPos + 1;\n                keys.length = thisPos + 1;\n                keys[thisPos] = key;\n            }\n            else {\n                stack.push(this);\n                keys.push(key);\n            }\n\n            if (~stack.indexOf(value)) {\n                value = cycleReplacer.call(this, key, value);\n            }\n        }\n        else {\n            stack.push(value);\n        }\n\n        if (value) {\n            const annotations = value[internals.annotations];\n            if (annotations) {\n                if (Array.isArray(value)) {\n                    const annotated = [];\n\n                    for (let i = 0; i < value.length; ++i) {\n                        if (annotations.errors[i]) {\n                            annotated.push(`_$idx$_${annotations.errors[i].sort().join(', ')}_$end$_`);\n                        }\n\n                        annotated.push(value[i]);\n                    }\n\n                    value = annotated;\n                }\n                else {\n                    for (const errorKey in annotations.errors) {\n                        value[`${errorKey}_$key$_${annotations.errors[errorKey].sort().join(', ')}_$end$_`] = value[errorKey];\n                        value[errorKey] = undefined;\n                    }\n\n                    for (const missingKey in annotations.missing) {\n                        value[`_$miss$_${missingKey}|${annotations.missing[missingKey]}_$end$_`] = '__missing__';\n                    }\n                }\n\n                return value;\n            }\n        }\n\n        if (value === Infinity ||\n            value === -Infinity ||\n            Number.isNaN(value) ||\n            typeof value === 'function' ||\n            typeof value === 'symbol') {\n\n            return '[' + value.toString() + ']';\n        }\n\n        return value;\n    };\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\nconst DeepEqual = require('@hapi/hoek/lib/deepEqual');\nconst Merge = require('@hapi/hoek/lib/merge');\n\nconst Cache = require('./cache');\nconst Common = require('./common');\nconst Compile = require('./compile');\nconst Errors = require('./errors');\nconst Extend = require('./extend');\nconst Manifest = require('./manifest');\nconst Messages = require('./messages');\nconst Modify = require('./modify');\nconst Ref = require('./ref');\nconst Trace = require('./trace');\nconst Validator = require('./validator');\nconst Values = require('./values');\n\n\nconst internals = {};\n\n\ninternals.Base = class {\n\n    constructor(type) {\n\n        // Naming: public, _private, $_extension, $_mutate{action}\n\n        this.type = type;\n\n        this.$_root = null;\n        this._definition = {};\n        this._ids = new Modify.Ids();\n        this._preferences = null;\n        this._refs = new Ref.Manager();\n        this._cache = null;\n\n        this._valids = null;\n        this._invalids = null;\n\n        this._flags = {};\n        this._rules = [];\n        this._singleRules = new Map();              // The rule options passed for non-multi rules\n\n        this.$_terms = {};                          // Hash of arrays of immutable objects (extended by other types)\n\n        this.$_temp = {                             // Runtime state (not cloned)\n            ruleset: null,                          // null: use last, false: error, number: start position\n            whens: {}                               // Runtime cache of generated whens\n        };\n    }\n\n    // Manifest\n\n    describe() {\n\n        Assert(typeof Manifest.describe === 'function', 'Manifest functionality disabled');\n        return Manifest.describe(this);\n    }\n\n    // Rules\n\n    allow(...values) {\n\n        Common.verifyFlat(values, 'allow');\n        return this._values(values, '_valids');\n    }\n\n    alter(targets) {\n\n        Assert(targets && typeof targets === 'object' && !Array.isArray(targets), 'Invalid targets argument');\n        Assert(!this._inRuleset(), 'Cannot set alterations inside a ruleset');\n\n        const obj = this.clone();\n        obj.$_terms.alterations = obj.$_terms.alterations || [];\n        for (const target in targets) {\n            const adjuster = targets[target];\n            Assert(typeof adjuster === 'function', 'Alteration adjuster for', target, 'must be a function');\n            obj.$_terms.alterations.push({ target, adjuster });\n        }\n\n        obj.$_temp.ruleset = false;\n        return obj;\n    }\n\n    cast(to) {\n\n        Assert(to === false || typeof to === 'string', 'Invalid to value');\n        Assert(to === false || this._definition.cast[to], 'Type', this.type, 'does not support casting to', to);\n\n        return this.$_setFlag('cast', to === false ? undefined : to);\n    }\n\n    default(value, options) {\n\n        return this._default('default', value, options);\n    }\n\n    description(desc) {\n\n        Assert(desc && typeof desc === 'string', 'Description must be a non-empty string');\n\n        return this.$_setFlag('description', desc);\n    }\n\n    empty(schema) {\n\n        const obj = this.clone();\n\n        if (schema !== undefined) {\n            schema = obj.$_compile(schema, { override: false });\n        }\n\n        return obj.$_setFlag('empty', schema, { clone: false });\n    }\n\n    error(err) {\n\n        Assert(err, 'Missing error');\n        Assert(err instanceof Error || typeof err === 'function', 'Must provide a valid Error object or a function');\n\n        return this.$_setFlag('error', err);\n    }\n\n    example(example, options = {}) {\n\n        Assert(example !== undefined, 'Missing example');\n        Common.assertOptions(options, ['override']);\n\n        return this._inner('examples', example, { single: true, override: options.override });\n    }\n\n    external(method, description) {\n\n        if (typeof method === 'object') {\n            Assert(!description, 'Cannot combine options with description');\n            description = method.description;\n            method = method.method;\n        }\n\n        Assert(typeof method === 'function', 'Method must be a function');\n        Assert(description === undefined || description && typeof description === 'string', 'Description must be a non-empty string');\n\n        return this._inner('externals', { method, description }, { single: true });\n    }\n\n    failover(value, options) {\n\n        return this._default('failover', value, options);\n    }\n\n    forbidden() {\n\n        return this.presence('forbidden');\n    }\n\n    id(id) {\n\n        if (!id) {\n            return this.$_setFlag('id', undefined);\n        }\n\n        Assert(typeof id === 'string', 'id must be a non-empty string');\n        Assert(/^[^\\.]+$/.test(id), 'id cannot contain period character');\n\n        return this.$_setFlag('id', id);\n    }\n\n    invalid(...values) {\n\n        return this._values(values, '_invalids');\n    }\n\n    label(name) {\n\n        Assert(name && typeof name === 'string', 'Label name must be a non-empty string');\n\n        return this.$_setFlag('label', name);\n    }\n\n    meta(meta) {\n\n        Assert(meta !== undefined, 'Meta cannot be undefined');\n\n        return this._inner('metas', meta, { single: true });\n    }\n\n    note(...notes) {\n\n        Assert(notes.length, 'Missing notes');\n        for (const note of notes) {\n            Assert(note && typeof note === 'string', 'Notes must be non-empty strings');\n        }\n\n        return this._inner('notes', notes);\n    }\n\n    only(mode = true) {\n\n        Assert(typeof mode === 'boolean', 'Invalid mode:', mode);\n\n        return this.$_setFlag('only', mode);\n    }\n\n    optional() {\n\n        return this.presence('optional');\n    }\n\n    prefs(prefs) {\n\n        Assert(prefs, 'Missing preferences');\n        Assert(prefs.context === undefined, 'Cannot override context');\n        Assert(prefs.externals === undefined, 'Cannot override externals');\n        Assert(prefs.warnings === undefined, 'Cannot override warnings');\n        Assert(prefs.debug === undefined, 'Cannot override debug');\n\n        Common.checkPreferences(prefs);\n\n        const obj = this.clone();\n        obj._preferences = Common.preferences(obj._preferences, prefs);\n        return obj;\n    }\n\n    presence(mode) {\n\n        Assert(['optional', 'required', 'forbidden'].includes(mode), 'Unknown presence mode', mode);\n\n        return this.$_setFlag('presence', mode);\n    }\n\n    raw(enabled = true) {\n\n        return this.$_setFlag('result', enabled ? 'raw' : undefined);\n    }\n\n    result(mode) {\n\n        Assert(['raw', 'strip'].includes(mode), 'Unknown result mode', mode);\n\n        return this.$_setFlag('result', mode);\n    }\n\n    required() {\n\n        return this.presence('required');\n    }\n\n    strict(enabled) {\n\n        const obj = this.clone();\n\n        const convert = enabled === undefined ? false : !enabled;\n        obj._preferences = Common.preferences(obj._preferences, { convert });\n        return obj;\n    }\n\n    strip(enabled = true) {\n\n        return this.$_setFlag('result', enabled ? 'strip' : undefined);\n    }\n\n    tag(...tags) {\n\n        Assert(tags.length, 'Missing tags');\n        for (const tag of tags) {\n            Assert(tag && typeof tag === 'string', 'Tags must be non-empty strings');\n        }\n\n        return this._inner('tags', tags);\n    }\n\n    unit(name) {\n\n        Assert(name && typeof name === 'string', 'Unit name must be a non-empty string');\n\n        return this.$_setFlag('unit', name);\n    }\n\n    valid(...values) {\n\n        Common.verifyFlat(values, 'valid');\n\n        const obj = this.allow(...values);\n        obj.$_setFlag('only', !!obj._valids, { clone: false });\n        return obj;\n    }\n\n    when(condition, options) {\n\n        const obj = this.clone();\n\n        if (!obj.$_terms.whens) {\n            obj.$_terms.whens = [];\n        }\n\n        const when = Compile.when(obj, condition, options);\n        if (!['any', 'link'].includes(obj.type)) {\n            const conditions = when.is ? [when] : when.switch;\n            for (const item of conditions) {\n                Assert(!item.then || item.then.type === 'any' || item.then.type === obj.type, 'Cannot combine', obj.type, 'with', item.then && item.then.type);\n                Assert(!item.otherwise || item.otherwise.type === 'any' || item.otherwise.type === obj.type, 'Cannot combine', obj.type, 'with', item.otherwise && item.otherwise.type);\n\n            }\n        }\n\n        obj.$_terms.whens.push(when);\n        return obj.$_mutateRebuild();\n    }\n\n    // Helpers\n\n    cache(cache) {\n\n        Assert(!this._inRuleset(), 'Cannot set caching inside a ruleset');\n        Assert(!this._cache, 'Cannot override schema cache');\n\n        const obj = this.clone();\n        obj._cache = cache || Cache.provider.provision();\n        obj.$_temp.ruleset = false;\n        return obj;\n    }\n\n    clone() {\n\n        const obj = Object.create(Object.getPrototypeOf(this));\n        return this._assign(obj);\n    }\n\n    concat(source) {\n\n        Assert(Common.isSchema(source), 'Invalid schema object');\n        Assert(this.type === 'any' || source.type === 'any' || source.type === this.type, 'Cannot merge type', this.type, 'with another type:', source.type);\n        Assert(!this._inRuleset(), 'Cannot concatenate onto a schema with open ruleset');\n        Assert(!source._inRuleset(), 'Cannot concatenate a schema with open ruleset');\n\n        let obj = this.clone();\n\n        if (this.type === 'any' &&\n            source.type !== 'any') {\n\n            // Change obj to match source type\n\n            const tmpObj = source.clone();\n            for (const key of Object.keys(obj)) {\n                if (key !== 'type') {\n                    tmpObj[key] = obj[key];\n                }\n            }\n\n            obj = tmpObj;\n        }\n\n        obj._ids.concat(source._ids);\n        obj._refs.register(source, Ref.toSibling);\n\n        obj._preferences = obj._preferences ? Common.preferences(obj._preferences, source._preferences) : source._preferences;\n        obj._valids = Values.merge(obj._valids, source._valids, source._invalids);\n        obj._invalids = Values.merge(obj._invalids, source._invalids, source._valids);\n\n        // Remove unique rules present in source\n\n        for (const name of source._singleRules.keys()) {\n            if (obj._singleRules.has(name)) {\n                obj._rules = obj._rules.filter((target) => target.keep || target.name !== name);\n                obj._singleRules.delete(name);\n            }\n        }\n\n        // Rules\n\n        for (const test of source._rules) {\n            if (!source._definition.rules[test.method].multi) {\n                obj._singleRules.set(test.name, test);\n            }\n\n            obj._rules.push(test);\n        }\n\n        // Flags\n\n        if (obj._flags.empty &&\n            source._flags.empty) {\n\n            obj._flags.empty = obj._flags.empty.concat(source._flags.empty);\n            const flags = Object.assign({}, source._flags);\n            delete flags.empty;\n            Merge(obj._flags, flags);\n        }\n        else if (source._flags.empty) {\n            obj._flags.empty = source._flags.empty;\n            const flags = Object.assign({}, source._flags);\n            delete flags.empty;\n            Merge(obj._flags, flags);\n        }\n        else {\n            Merge(obj._flags, source._flags);\n        }\n\n        // Terms\n\n        for (const key in source.$_terms) {\n            const terms = source.$_terms[key];\n            if (!terms) {\n                if (!obj.$_terms[key]) {\n                    obj.$_terms[key] = terms;\n                }\n\n                continue;\n            }\n\n            if (!obj.$_terms[key]) {\n                obj.$_terms[key] = terms.slice();\n                continue;\n            }\n\n            obj.$_terms[key] = obj.$_terms[key].concat(terms);\n        }\n\n        // Tracing\n\n        if (this.$_root._tracer) {\n            this.$_root._tracer._combine(obj, [this, source]);\n        }\n\n        // Rebuild\n\n        return obj.$_mutateRebuild();\n    }\n\n    extend(options) {\n\n        Assert(!options.base, 'Cannot extend type with another base');\n\n        return Extend.type(this, options);\n    }\n\n    extract(path) {\n\n        path = Array.isArray(path) ? path : path.split('.');\n        return this._ids.reach(path);\n    }\n\n    fork(paths, adjuster) {\n\n        Assert(!this._inRuleset(), 'Cannot fork inside a ruleset');\n\n        let obj = this;                                             // eslint-disable-line consistent-this\n        for (let path of [].concat(paths)) {\n            path = Array.isArray(path) ? path : path.split('.');\n            obj = obj._ids.fork(path, adjuster, obj);\n        }\n\n        obj.$_temp.ruleset = false;\n        return obj;\n    }\n\n    rule(options) {\n\n        const def = this._definition;\n        Common.assertOptions(options, Object.keys(def.modifiers));\n\n        Assert(this.$_temp.ruleset !== false, 'Cannot apply rules to empty ruleset or the last rule added does not support rule properties');\n        const start = this.$_temp.ruleset === null ? this._rules.length - 1 : this.$_temp.ruleset;\n        Assert(start >= 0 && start < this._rules.length, 'Cannot apply rules to empty ruleset');\n\n        const obj = this.clone();\n\n        for (let i = start; i < obj._rules.length; ++i) {\n            const original = obj._rules[i];\n            const rule = Clone(original);\n\n            for (const name in options) {\n                def.modifiers[name](rule, options[name]);\n                Assert(rule.name === original.name, 'Cannot change rule name');\n            }\n\n            obj._rules[i] = rule;\n\n            if (obj._singleRules.get(rule.name) === original) {\n                obj._singleRules.set(rule.name, rule);\n            }\n        }\n\n        obj.$_temp.ruleset = false;\n        return obj.$_mutateRebuild();\n    }\n\n    get ruleset() {\n\n        Assert(!this._inRuleset(), 'Cannot start a new ruleset without closing the previous one');\n\n        const obj = this.clone();\n        obj.$_temp.ruleset = obj._rules.length;\n        return obj;\n    }\n\n    get $() {\n\n        return this.ruleset;\n    }\n\n    tailor(targets) {\n\n        targets = [].concat(targets);\n\n        Assert(!this._inRuleset(), 'Cannot tailor inside a ruleset');\n\n        let obj = this;                                                     // eslint-disable-line consistent-this\n\n        if (this.$_terms.alterations) {\n            for (const { target, adjuster } of this.$_terms.alterations) {\n                if (targets.includes(target)) {\n                    obj = adjuster(obj);\n                    Assert(Common.isSchema(obj), 'Alteration adjuster for', target, 'failed to return a schema object');\n                }\n            }\n        }\n\n        obj = obj.$_modify({ each: (item) => item.tailor(targets), ref: false });\n        obj.$_temp.ruleset = false;\n        return obj.$_mutateRebuild();\n    }\n\n    tracer() {\n\n        return Trace.location ? Trace.location(this) : this;                // $lab:coverage:ignore$\n    }\n\n    validate(value, options) {\n\n        return Validator.entry(value, this, options);\n    }\n\n    validateAsync(value, options) {\n\n        return Validator.entryAsync(value, this, options);\n    }\n\n    // Extensions\n\n    $_addRule(options) {\n\n        // Normalize rule\n\n        if (typeof options === 'string') {\n            options = { name: options };\n        }\n\n        Assert(options && typeof options === 'object', 'Invalid options');\n        Assert(options.name && typeof options.name === 'string', 'Invalid rule name');\n\n        for (const key in options) {\n            Assert(key[0] !== '_', 'Cannot set private rule properties');\n        }\n\n        const rule = Object.assign({}, options);        // Shallow cloned\n        rule._resolve = [];\n        rule.method = rule.method || rule.name;\n\n        const definition = this._definition.rules[rule.method];\n        const args = rule.args;\n\n        Assert(definition, 'Unknown rule', rule.method);\n\n        // Args\n\n        const obj = this.clone();\n\n        if (args) {\n            Assert(Object.keys(args).length === 1 || Object.keys(args).length === this._definition.rules[rule.name].args.length, 'Invalid rule definition for', this.type, rule.name);\n\n            for (const key in args) {\n                let arg = args[key];\n                if (arg === undefined) {\n                    delete args[key];\n                    continue;\n                }\n\n                if (definition.argsByName) {\n                    const resolver = definition.argsByName.get(key);\n\n                    if (resolver.ref &&\n                        Common.isResolvable(arg)) {\n\n                        rule._resolve.push(key);\n                        obj.$_mutateRegister(arg);\n                    }\n                    else {\n                        if (resolver.normalize) {\n                            arg = resolver.normalize(arg);\n                            args[key] = arg;\n                        }\n\n                        if (resolver.assert) {\n                            const error = Common.validateArg(arg, key, resolver);\n                            Assert(!error, error, 'or reference');\n                        }\n                    }\n                }\n\n                args[key] = arg;\n            }\n        }\n\n        // Unique rules\n\n        if (!definition.multi) {\n            obj._ruleRemove(rule.name, { clone: false });\n            obj._singleRules.set(rule.name, rule);\n        }\n\n        if (obj.$_temp.ruleset === false) {\n            obj.$_temp.ruleset = null;\n        }\n\n        if (definition.priority) {\n            obj._rules.unshift(rule);\n        }\n        else {\n            obj._rules.push(rule);\n        }\n\n        return obj;\n    }\n\n    $_compile(schema, options) {\n\n        return Compile.schema(this.$_root, schema, options);\n    }\n\n    $_createError(code, value, local, state, prefs, options = {}) {\n\n        const flags = options.flags !== false ? this._flags : {};\n        const messages = options.messages ? Messages.merge(this._definition.messages, options.messages) : this._definition.messages;\n        return new Errors.Report(code, value, local, flags, messages, state, prefs);\n    }\n\n    $_getFlag(name) {\n\n        return this._flags[name];\n    }\n\n    $_getRule(name) {\n\n        return this._singleRules.get(name);\n    }\n\n    $_mapLabels(path) {\n\n        path = Array.isArray(path) ? path : path.split('.');\n        return this._ids.labels(path);\n    }\n\n    $_match(value, state, prefs, overrides) {\n\n        prefs = Object.assign({}, prefs);       // Shallow cloned\n        prefs.abortEarly = true;\n        prefs._externals = false;\n\n        state.snapshot();\n        const result = !Validator.validate(value, this, state, prefs, overrides).errors;\n        state.restore();\n\n        return result;\n    }\n\n    $_modify(options) {\n\n        Common.assertOptions(options, ['each', 'once', 'ref', 'schema']);\n        return Modify.schema(this, options) || this;\n    }\n\n    $_mutateRebuild() {\n\n        Assert(!this._inRuleset(), 'Cannot add this rule inside a ruleset');\n\n        this._refs.reset();\n        this._ids.reset();\n\n        const each = (item, { source, name, path, key }) => {\n\n            const family = this._definition[source][name] && this._definition[source][name].register;\n            if (family !== false) {\n                this.$_mutateRegister(item, { family, key });\n            }\n        };\n\n        this.$_modify({ each });\n\n        if (this._definition.rebuild) {\n            this._definition.rebuild(this);\n        }\n\n        this.$_temp.ruleset = false;\n        return this;\n    }\n\n    $_mutateRegister(schema, { family, key } = {}) {\n\n        this._refs.register(schema, family);\n        this._ids.register(schema, { key });\n    }\n\n    $_property(name) {\n\n        return this._definition.properties[name];\n    }\n\n    $_reach(path) {\n\n        return this._ids.reach(path);\n    }\n\n    $_rootReferences() {\n\n        return this._refs.roots();\n    }\n\n    $_setFlag(name, value, options = {}) {\n\n        Assert(name[0] === '_' || !this._inRuleset(), 'Cannot set flag inside a ruleset');\n\n        const flag = this._definition.flags[name] || {};\n        if (DeepEqual(value, flag.default)) {\n            value = undefined;\n        }\n\n        if (DeepEqual(value, this._flags[name])) {\n            return this;\n        }\n\n        const obj = options.clone !== false ? this.clone() : this;\n\n        if (value !== undefined) {\n            obj._flags[name] = value;\n            obj.$_mutateRegister(value);\n        }\n        else {\n            delete obj._flags[name];\n        }\n\n        if (name[0] !== '_') {\n            obj.$_temp.ruleset = false;\n        }\n\n        return obj;\n    }\n\n    $_validate(value, state, prefs) {\n\n        return Validator.validate(value, this, state, prefs);\n    }\n\n    // Internals\n\n    _assign(target) {\n\n        target.type = this.type;\n\n        target.$_root = this.$_root;\n\n        target.$_temp = Object.assign({}, this.$_temp);\n        target.$_temp.whens = {};\n\n        target._ids = this._ids.clone();\n        target._preferences = this._preferences;\n        target._valids = this._valids && this._valids.clone();\n        target._invalids = this._invalids && this._invalids.clone();\n        target._rules = this._rules.slice();\n        target._singleRules = Clone(this._singleRules, { shallow: true });\n        target._refs = this._refs.clone();\n        target._flags = Object.assign({}, this._flags);\n        target._cache = null;\n\n        target.$_terms = {};\n        for (const key in this.$_terms) {\n            target.$_terms[key] = this.$_terms[key] ? this.$_terms[key].slice() : null;\n        }\n\n        target.$_super = {};\n        for (const override in this.$_super) {\n            target.$_super[override] = this._super[override].bind(target);\n        }\n\n        return target;\n    }\n\n    _default(flag, value, options = {}) {\n\n        Common.assertOptions(options, 'literal');\n\n        Assert(value !== undefined, 'Missing', flag, 'value');\n        Assert(typeof value === 'function' || !options.literal, 'Only function value supports literal option');\n\n        if (typeof value === 'function' &&\n            options.literal) {\n\n            value = {\n                [Common.symbols.literal]: true,\n                literal: value\n            };\n        }\n\n        const obj = this.$_setFlag(flag, value);\n        return obj;\n    }\n\n    _generate(value, state, prefs) {\n\n        if (!this.$_terms.whens) {\n            return { schema: this };\n        }\n\n        // Collect matching whens\n\n        const whens = [];\n        const ids = [];\n        for (let i = 0; i < this.$_terms.whens.length; ++i) {\n            const when = this.$_terms.whens[i];\n\n            if (when.concat) {\n                whens.push(when.concat);\n                ids.push(`${i}.concat`);\n                continue;\n            }\n\n            const input = when.ref ? when.ref.resolve(value, state, prefs) : value;\n            const tests = when.is ? [when] : when.switch;\n            const before = ids.length;\n\n            for (let j = 0; j < tests.length; ++j) {\n                const { is, then, otherwise } = tests[j];\n\n                const baseId = `${i}${when.switch ? '.' + j : ''}`;\n                if (is.$_match(input, state.nest(is, `${baseId}.is`), prefs)) {\n                    if (then) {\n                        const localState = state.localize([...state.path, `${baseId}.then`], state.ancestors, state.schemas);\n                        const { schema: generated, id } = then._generate(value, localState, prefs);\n                        whens.push(generated);\n                        ids.push(`${baseId}.then${id ? `(${id})` : ''}`);\n                        break;\n                    }\n                }\n                else if (otherwise) {\n                    const localState = state.localize([...state.path, `${baseId}.otherwise`], state.ancestors, state.schemas);\n                    const { schema: generated, id } = otherwise._generate(value, localState, prefs);\n                    whens.push(generated);\n                    ids.push(`${baseId}.otherwise${id ? `(${id})` : ''}`);\n                    break;\n                }\n            }\n\n            if (when.break &&\n                ids.length > before) {          // Something matched\n\n                break;\n            }\n        }\n\n        // Check cache\n\n        const id = ids.join(', ');\n        state.mainstay.tracer.debug(state, 'rule', 'when', id);\n\n        if (!id) {\n            return { schema: this };\n        }\n\n        if (!state.mainstay.tracer.active &&\n            this.$_temp.whens[id]) {\n\n            return { schema: this.$_temp.whens[id], id };\n        }\n\n        // Generate dynamic schema\n\n        let obj = this;                                             // eslint-disable-line consistent-this\n        if (this._definition.generate) {\n            obj = this._definition.generate(this, value, state, prefs);\n        }\n\n        // Apply whens\n\n        for (const when of whens) {\n            obj = obj.concat(when);\n        }\n\n        // Tracing\n\n        if (this.$_root._tracer) {\n            this.$_root._tracer._combine(obj, [this, ...whens]);\n        }\n\n        // Cache result\n\n        this.$_temp.whens[id] = obj;\n        return { schema: obj, id };\n    }\n\n    _inner(type, values, options = {}) {\n\n        Assert(!this._inRuleset(), `Cannot set ${type} inside a ruleset`);\n\n        const obj = this.clone();\n        if (!obj.$_terms[type] ||\n            options.override) {\n\n            obj.$_terms[type] = [];\n        }\n\n        if (options.single) {\n            obj.$_terms[type].push(values);\n        }\n        else {\n            obj.$_terms[type].push(...values);\n        }\n\n        obj.$_temp.ruleset = false;\n        return obj;\n    }\n\n    _inRuleset() {\n\n        return this.$_temp.ruleset !== null && this.$_temp.ruleset !== false;\n    }\n\n    _ruleRemove(name, options = {}) {\n\n        if (!this._singleRules.has(name)) {\n            return this;\n        }\n\n        const obj = options.clone !== false ? this.clone() : this;\n\n        obj._singleRules.delete(name);\n\n        const filtered = [];\n        for (let i = 0; i < obj._rules.length; ++i) {\n            const test = obj._rules[i];\n            if (test.name === name &&\n                !test.keep) {\n\n                if (obj._inRuleset() &&\n                    i < obj.$_temp.ruleset) {\n\n                    --obj.$_temp.ruleset;\n                }\n\n                continue;\n            }\n\n            filtered.push(test);\n        }\n\n        obj._rules = filtered;\n        return obj;\n    }\n\n    _values(values, key) {\n\n        Common.verifyFlat(values, key.slice(1, -1));\n\n        const obj = this.clone();\n\n        const override = values[0] === Common.symbols.override;\n        if (override) {\n            values = values.slice(1);\n        }\n\n        if (!obj[key] &&\n            values.length) {\n\n            obj[key] = new Values();\n        }\n        else if (override) {\n            obj[key] = values.length ? new Values() : null;\n            obj.$_mutateRebuild();\n        }\n\n        if (!obj[key]) {\n            return obj;\n        }\n\n        if (override) {\n            obj[key].override();\n        }\n\n        for (const value of values) {\n            Assert(value !== undefined, 'Cannot call allow/valid/invalid with undefined');\n            Assert(value !== Common.symbols.override, 'Override must be the first value');\n\n            const other = key === '_invalids' ? '_valids' : '_invalids';\n            if (obj[other]) {\n                obj[other].remove(value);\n                if (!obj[other].length) {\n                    Assert(key === '_valids' || !obj._flags.only, 'Setting invalid value', value, 'leaves schema rejecting all values due to previous valid rule');\n                    obj[other] = null;\n                }\n            }\n\n            obj[key].add(value, obj._refs);\n        }\n\n        return obj;\n    }\n};\n\n\ninternals.Base.prototype[Common.symbols.any] = {\n    version: Common.version,\n    compile: Compile.compile,\n    root: '$_root'\n};\n\n\ninternals.Base.prototype.isImmutable = true;                // Prevents Hoek from deep cloning schema objects (must be on prototype)\n\n\n// Aliases\n\ninternals.Base.prototype.deny = internals.Base.prototype.invalid;\ninternals.Base.prototype.disallow = internals.Base.prototype.invalid;\ninternals.Base.prototype.equal = internals.Base.prototype.valid;\ninternals.Base.prototype.exist = internals.Base.prototype.required;\ninternals.Base.prototype.not = internals.Base.prototype.invalid;\ninternals.Base.prototype.options = internals.Base.prototype.prefs;\ninternals.Base.prototype.preferences = internals.Base.prototype.prefs;\n\n\nmodule.exports = new internals.Base();\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Common = require('./common');\n\n\nconst internals = {\n    max: 1000,\n    supported: new Set(['undefined', 'boolean', 'number', 'string'])\n};\n\n\nexports.provider = {\n\n    provision(options) {\n\n        return new internals.Cache(options);\n    }\n};\n\n\n// Least Recently Used (LRU) Cache\n\ninternals.Cache = class {\n\n    constructor(options = {}) {\n\n        Common.assertOptions(options, ['max']);\n        Assert(options.max === undefined || options.max && options.max > 0 && isFinite(options.max), 'Invalid max cache size');\n\n        this._max = options.max || internals.max;\n\n        this._map = new Map();                          // Map of nodes by key\n        this._list = new internals.List();              // List of nodes (most recently used in head)\n    }\n\n    get length() {\n\n        return this._map.size;\n    }\n\n    set(key, value) {\n\n        if (key !== null &&\n            !internals.supported.has(typeof key)) {\n\n            return;\n        }\n\n        let node = this._map.get(key);\n        if (node) {\n            node.value = value;\n            this._list.first(node);\n            return;\n        }\n\n        node = this._list.unshift({ key, value });\n        this._map.set(key, node);\n        this._compact();\n    }\n\n    get(key) {\n\n        const node = this._map.get(key);\n        if (node) {\n            this._list.first(node);\n            return Clone(node.value);\n        }\n    }\n\n    _compact() {\n\n        if (this._map.size > this._max) {\n            const node = this._list.pop();\n            this._map.delete(node.key);\n        }\n    }\n};\n\n\ninternals.List = class {\n\n    constructor() {\n\n        this.tail = null;\n        this.head = null;\n    }\n\n    unshift(node) {\n\n        node.next = null;\n        node.prev = this.head;\n\n        if (this.head) {\n            this.head.next = node;\n        }\n\n        this.head = node;\n\n        if (!this.tail) {\n            this.tail = node;\n        }\n\n        return node;\n    }\n\n    first(node) {\n\n        if (node === this.head) {\n            return;\n        }\n\n        this._remove(node);\n        this.unshift(node);\n    }\n\n    pop() {\n\n        return this._remove(this.tail);\n    }\n\n    _remove(node) {\n\n        const { next, prev } = node;\n\n        next.prev = prev;\n\n        if (prev) {\n            prev.next = next;\n        }\n\n        if (node === this.tail) {\n            this.tail = next;\n        }\n\n        node.prev = null;\n        node.next = null;\n\n        return node;\n    }\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst AssertError = require('@hapi/hoek/lib/error');\n\nconst Pkg = require('../package.json');\n\nlet Messages;\nlet Schemas;\n\n\nconst internals = {\n    isoDate: /^(?:[-+]\\d{2})?(?:\\d{4}(?!\\d{2}\\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\\1(?:[12]\\d|0[1-9]|3[01]))?|W(?:[0-4]\\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\\d|[12]\\d{2}|3(?:[0-5]\\d|6[1-6])))(?![T]$|[T][\\d]+Z$)(?:[T\\s](?:(?:(?:[01]\\d|2[0-3])(?:(:?)[0-5]\\d)?|24\\:?00)(?:[.,]\\d+(?!:))?)(?:\\2[0-5]\\d(?:[.,]\\d+)?)?(?:[Z]|(?:[+-])(?:[01]\\d|2[0-3])(?::?[0-5]\\d)?)?)?)?$/\n};\n\n\nexports.version = Pkg.version;\n\n\nexports.defaults = {\n    abortEarly: true,\n    allowUnknown: false,\n    cache: true,\n    context: null,\n    convert: true,\n    dateFormat: 'iso',\n    errors: {\n        escapeHtml: false,\n        label: 'path',\n        language: null,\n        render: true,\n        stack: false,\n        wrap: {\n            label: '\"',\n            array: '[]'\n        }\n    },\n    externals: true,\n    messages: {},\n    nonEnumerables: false,\n    noDefaults: false,\n    presence: 'optional',\n    skipFunctions: false,\n    stripUnknown: false,\n    warnings: false\n};\n\n\nexports.symbols = {\n    any: Symbol.for('@hapi/joi/schema'),            // Used to internally identify any-based types (shared with other joi versions)\n    arraySingle: Symbol('arraySingle'),\n    deepDefault: Symbol('deepDefault'),\n    literal: Symbol('literal'),\n    override: Symbol('override'),\n    prefs: Symbol('prefs'),\n    ref: Symbol('ref'),\n    values: Symbol('values'),\n    template: Symbol('template')\n};\n\n\nexports.assertOptions = function (options, keys, name = 'Options') {\n\n    Assert(options && typeof options === 'object' && !Array.isArray(options), 'Options must be of type object');\n    const unknownKeys = Object.keys(options).filter((k) => !keys.includes(k));\n    Assert(unknownKeys.length === 0, `${name} contain unknown keys: ${unknownKeys}`);\n};\n\n\nexports.checkPreferences = function (prefs) {\n\n    Schemas = Schemas || require('./schemas');\n\n    const result = Schemas.preferences.validate(prefs);\n\n    if (result.error) {\n        throw new AssertError([result.error.details[0].message]);\n    }\n};\n\n\nexports.compare = function (a, b, operator) {\n\n    switch (operator) {\n        case '=': return a === b;\n        case '>': return a > b;\n        case '<': return a < b;\n        case '>=': return a >= b;\n        case '<=': return a <= b;\n    }\n};\n\n\nexports.default = function (value, defaultValue) {\n\n    return value === undefined ? defaultValue : value;\n};\n\n\nexports.isIsoDate = function (date) {\n\n    return internals.isoDate.test(date);\n};\n\n\nexports.isNumber = function (value) {\n\n    return typeof value === 'number' && !isNaN(value);\n};\n\n\nexports.isResolvable = function (obj) {\n\n    if (!obj) {\n        return false;\n    }\n\n    return obj[exports.symbols.ref] || obj[exports.symbols.template];\n};\n\n\nexports.isSchema = function (schema, options = {}) {\n\n    const any = schema && schema[exports.symbols.any];\n    if (!any) {\n        return false;\n    }\n\n    Assert(options.legacy || any.version === exports.version, 'Cannot mix different versions of joi schemas');\n    return true;\n};\n\n\nexports.isValues = function (obj) {\n\n    return obj[exports.symbols.values];\n};\n\n\nexports.limit = function (value) {\n\n    return Number.isSafeInteger(value) && value >= 0;\n};\n\n\nexports.preferences = function (target, source) {\n\n    Messages = Messages || require('./messages');\n\n    target = target || {};\n    source = source || {};\n\n    const merged = Object.assign({}, target, source);\n    if (source.errors &&\n        target.errors) {\n\n        merged.errors = Object.assign({}, target.errors, source.errors);\n        merged.errors.wrap = Object.assign({}, target.errors.wrap, source.errors.wrap);\n    }\n\n    if (source.messages) {\n        merged.messages = Messages.compile(source.messages, target.messages);\n    }\n\n    delete merged[exports.symbols.prefs];\n    return merged;\n};\n\n\nexports.tryWithPath = function (fn, key, options = {}) {\n\n    try {\n        return fn();\n    }\n    catch (err) {\n        if (err.path !== undefined) {\n            err.path = key + '.' + err.path;\n        }\n        else {\n            err.path = key;\n        }\n\n        if (options.append) {\n            err.message = `${err.message} (${err.path})`;\n        }\n\n        throw err;\n    }\n};\n\n\nexports.validateArg = function (value, label, { assert, message }) {\n\n    if (exports.isSchema(assert)) {\n        const result = assert.validate(value);\n        if (!result.error) {\n            return;\n        }\n\n        return result.error.message;\n    }\n    else if (!assert(value)) {\n        return label ? `${label} ${message}` : message;\n    }\n};\n\n\nexports.verifyFlat = function (args, method) {\n\n    for (const arg of args) {\n        Assert(!Array.isArray(arg), 'Method no longer accepts array arguments:', method);\n    }\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Common = require('./common');\nconst Ref = require('./ref');\n\n\nconst internals = {};\n\n\nexports.schema = function (Joi, config, options = {}) {\n\n    Common.assertOptions(options, ['appendPath', 'override']);\n\n    try {\n        return internals.schema(Joi, config, options);\n    }\n    catch (err) {\n        if (options.appendPath &&\n            err.path !== undefined) {\n\n            err.message = `${err.message} (${err.path})`;\n        }\n\n        throw err;\n    }\n};\n\n\ninternals.schema = function (Joi, config, options) {\n\n    Assert(config !== undefined, 'Invalid undefined schema');\n\n    if (Array.isArray(config)) {\n        Assert(config.length, 'Invalid empty array schema');\n\n        if (config.length === 1) {\n            config = config[0];\n        }\n    }\n\n    const valid = (base, ...values) => {\n\n        if (options.override !== false) {\n            return base.valid(Joi.override, ...values);\n        }\n\n        return base.valid(...values);\n    };\n\n    if (internals.simple(config)) {\n        return valid(Joi, config);\n    }\n\n    if (typeof config === 'function') {\n        return Joi.custom(config);\n    }\n\n    Assert(typeof config === 'object', 'Invalid schema content:', typeof config);\n\n    if (Common.isResolvable(config)) {\n        return valid(Joi, config);\n    }\n\n    if (Common.isSchema(config)) {\n        return config;\n    }\n\n    if (Array.isArray(config)) {\n        for (const item of config) {\n            if (!internals.simple(item)) {\n                return Joi.alternatives().try(...config);\n            }\n        }\n\n        return valid(Joi, ...config);\n    }\n\n    if (config instanceof RegExp) {\n        return Joi.string().regex(config);\n    }\n\n    if (config instanceof Date) {\n        return valid(Joi.date(), config);\n    }\n\n    Assert(Object.getPrototypeOf(config) === Object.getPrototypeOf({}), 'Schema can only contain plain objects');\n\n    return Joi.object().keys(config);\n};\n\n\nexports.ref = function (id, options) {\n\n    return Ref.isRef(id) ? id : Ref.create(id, options);\n};\n\n\nexports.compile = function (root, schema, options = {}) {\n\n    Common.assertOptions(options, ['legacy']);\n\n    // Compiled by any supported version\n\n    const any = schema && schema[Common.symbols.any];\n    if (any) {\n        Assert(options.legacy || any.version === Common.version, 'Cannot mix different versions of joi schemas:', any.version, Common.version);\n        return schema;\n    }\n\n    // Uncompiled root\n\n    if (typeof schema !== 'object' ||\n        !options.legacy) {\n\n        return exports.schema(root, schema, { appendPath: true });          // Will error if schema contains other versions\n    }\n\n    // Scan schema for compiled parts\n\n    const compiler = internals.walk(schema);\n    if (!compiler) {\n        return exports.schema(root, schema, { appendPath: true });\n    }\n\n    return compiler.compile(compiler.root, schema);\n};\n\n\ninternals.walk = function (schema) {\n\n    if (typeof schema !== 'object') {\n        return null;\n    }\n\n    if (Array.isArray(schema)) {\n        for (const item of schema) {\n            const compiler = internals.walk(item);\n            if (compiler) {\n                return compiler;\n            }\n        }\n\n        return null;\n    }\n\n    const any = schema[Common.symbols.any];\n    if (any) {\n        return { root: schema[any.root], compile: any.compile };\n    }\n\n    Assert(Object.getPrototypeOf(schema) === Object.getPrototypeOf({}), 'Schema can only contain plain objects');\n\n    for (const key in schema) {\n        const compiler = internals.walk(schema[key]);\n        if (compiler) {\n            return compiler;\n        }\n    }\n\n    return null;\n};\n\n\ninternals.simple = function (value) {\n\n    return value === null || ['boolean', 'string', 'number'].includes(typeof value);\n};\n\n\nexports.when = function (schema, condition, options) {\n\n    if (options === undefined) {\n        Assert(condition && typeof condition === 'object', 'Missing options');\n\n        options = condition;\n        condition = Ref.create('.');\n    }\n\n    if (Array.isArray(options)) {\n        options = { switch: options };\n    }\n\n    Common.assertOptions(options, ['is', 'not', 'then', 'otherwise', 'switch', 'break']);\n\n    // Schema condition\n\n    if (Common.isSchema(condition)) {\n        Assert(options.is === undefined, '\"is\" can not be used with a schema condition');\n        Assert(options.not === undefined, '\"not\" can not be used with a schema condition');\n        Assert(options.switch === undefined, '\"switch\" can not be used with a schema condition');\n\n        return internals.condition(schema, { is: condition, then: options.then, otherwise: options.otherwise, break: options.break });\n    }\n\n    // Single condition\n\n    Assert(Ref.isRef(condition) || typeof condition === 'string', 'Invalid condition:', condition);\n    Assert(options.not === undefined || options.is === undefined, 'Cannot combine \"is\" with \"not\"');\n\n    if (options.switch === undefined) {\n        let rule = options;\n        if (options.not !== undefined) {\n            rule = { is: options.not, then: options.otherwise, otherwise: options.then, break: options.break };\n        }\n\n        let is = rule.is !== undefined ? schema.$_compile(rule.is) : schema.$_root.invalid(null, false, 0, '').required();\n        Assert(rule.then !== undefined || rule.otherwise !== undefined, 'options must have at least one of \"then\", \"otherwise\", or \"switch\"');\n        Assert(rule.break === undefined || rule.then === undefined || rule.otherwise === undefined, 'Cannot specify then, otherwise, and break all together');\n\n        if (options.is !== undefined &&\n            !Ref.isRef(options.is) &&\n            !Common.isSchema(options.is)) {\n\n            is = is.required();                     // Only apply required if this wasn't already a schema or a ref\n        }\n\n        return internals.condition(schema, { ref: exports.ref(condition), is, then: rule.then, otherwise: rule.otherwise, break: rule.break });\n    }\n\n    // Switch statement\n\n    Assert(Array.isArray(options.switch), '\"switch\" must be an array');\n    Assert(options.is === undefined, 'Cannot combine \"switch\" with \"is\"');\n    Assert(options.not === undefined, 'Cannot combine \"switch\" with \"not\"');\n    Assert(options.then === undefined, 'Cannot combine \"switch\" with \"then\"');\n\n    const rule = {\n        ref: exports.ref(condition),\n        switch: [],\n        break: options.break\n    };\n\n    for (let i = 0; i < options.switch.length; ++i) {\n        const test = options.switch[i];\n        const last = i === options.switch.length - 1;\n\n        Common.assertOptions(test, last ? ['is', 'then', 'otherwise'] : ['is', 'then']);\n\n        Assert(test.is !== undefined, 'Switch statement missing \"is\"');\n        Assert(test.then !== undefined, 'Switch statement missing \"then\"');\n\n        const item = {\n            is: schema.$_compile(test.is),\n            then: schema.$_compile(test.then)\n        };\n\n        if (!Ref.isRef(test.is) &&\n            !Common.isSchema(test.is)) {\n\n            item.is = item.is.required();           // Only apply required if this wasn't already a schema or a ref\n        }\n\n        if (last) {\n            Assert(options.otherwise === undefined || test.otherwise === undefined, 'Cannot specify \"otherwise\" inside and outside a \"switch\"');\n            const otherwise = options.otherwise !== undefined ? options.otherwise : test.otherwise;\n            if (otherwise !== undefined) {\n                Assert(rule.break === undefined, 'Cannot specify both otherwise and break');\n                item.otherwise = schema.$_compile(otherwise);\n            }\n        }\n\n        rule.switch.push(item);\n    }\n\n    return rule;\n};\n\n\ninternals.condition = function (schema, condition) {\n\n    for (const key of ['then', 'otherwise']) {\n        if (condition[key] === undefined) {\n            delete condition[key];\n        }\n        else {\n            condition[key] = schema.$_compile(condition[key]);\n        }\n    }\n\n    return condition;\n};\n","'use strict';\n\nconst Annotate = require('./annotate');\nconst Common = require('./common');\nconst Template = require('./template');\n\n\nconst internals = {};\n\n\nexports.Report = class {\n\n    constructor(code, value, local, flags, messages, state, prefs) {\n\n        this.code = code;\n        this.flags = flags;\n        this.messages = messages;\n        this.path = state.path;\n        this.prefs = prefs;\n        this.state = state;\n        this.value = value;\n\n        this.message = null;\n        this.template = null;\n\n        this.local = local || {};\n        this.local.label = exports.label(this.flags, this.state, this.prefs, this.messages);\n\n        if (this.value !== undefined &&\n            !this.local.hasOwnProperty('value')) {\n\n            this.local.value = this.value;\n        }\n\n        if (this.path.length) {\n            const key = this.path[this.path.length - 1];\n            if (typeof key !== 'object') {\n                this.local.key = key;\n            }\n        }\n    }\n\n    _setTemplate(template) {\n\n        this.template = template;\n\n        if (!this.flags.label &&\n            this.path.length === 0) {\n\n            const localized = this._template(this.template, 'root');\n            if (localized) {\n                this.local.label = localized;\n            }\n        }\n    }\n\n    toString() {\n\n        if (this.message) {\n            return this.message;\n        }\n\n        const code = this.code;\n\n        if (!this.prefs.errors.render) {\n            return this.code;\n        }\n\n        const template = this._template(this.template) ||\n            this._template(this.prefs.messages) ||\n            this._template(this.messages);\n\n        if (template === undefined) {\n            return `Error code \"${code}\" is not defined, your custom type is missing the correct messages definition`;\n        }\n\n        // Render and cache result\n\n        this.message = template.render(this.value, this.state, this.prefs, this.local, { errors: this.prefs.errors, messages: [this.prefs.messages, this.messages] });\n        if (!this.prefs.errors.label) {\n            this.message = this.message.replace(/^\"\" /, '').trim();\n        }\n\n        return this.message;\n    }\n\n    _template(messages, code) {\n\n        return exports.template(this.value, messages, code || this.code, this.state, this.prefs);\n    }\n};\n\n\nexports.path = function (path) {\n\n    let label = '';\n    for (const segment of path) {\n        if (typeof segment === 'object') {          // Exclude array single path segment\n            continue;\n        }\n\n        if (typeof segment === 'string') {\n            if (label) {\n                label += '.';\n            }\n\n            label += segment;\n        }\n        else {\n            label += `[${segment}]`;\n        }\n    }\n\n    return label;\n};\n\n\nexports.template = function (value, messages, code, state, prefs) {\n\n    if (!messages) {\n        return;\n    }\n\n    if (Template.isTemplate(messages)) {\n        return code !== 'root' ? messages : null;\n    }\n\n    let lang = prefs.errors.language;\n    if (Common.isResolvable(lang)) {\n        lang = lang.resolve(value, state, prefs);\n    }\n\n    if (lang &&\n        messages[lang] &&\n        messages[lang][code] !== undefined) {\n\n        return messages[lang][code];\n    }\n\n    return messages[code];\n};\n\n\nexports.label = function (flags, state, prefs, messages) {\n\n    if (flags.label) {\n        return flags.label;\n    }\n\n    if (!prefs.errors.label) {\n        return '';\n    }\n\n    let path = state.path;\n    if (prefs.errors.label === 'key' &&\n        state.path.length > 1) {\n\n        path = state.path.slice(-1);\n    }\n\n    const normalized = exports.path(path);\n    if (normalized) {\n        return normalized;\n    }\n\n    return exports.template(null, prefs.messages, 'root', state, prefs) ||\n        messages && exports.template(null, messages, 'root', state, prefs) ||\n        'value';\n};\n\n\nexports.process = function (errors, original, prefs) {\n\n    if (!errors) {\n        return null;\n    }\n\n    const { override, message, details } = exports.details(errors);\n    if (override) {\n        return override;\n    }\n\n    if (prefs.errors.stack) {\n        return new exports.ValidationError(message, details, original);\n    }\n\n    const limit = Error.stackTraceLimit;\n    Error.stackTraceLimit = 0;\n    const validationError = new exports.ValidationError(message, details, original);\n    Error.stackTraceLimit = limit;\n    return validationError;\n};\n\n\nexports.details = function (errors, options = {}) {\n\n    let messages = [];\n    const details = [];\n\n    for (const item of errors) {\n\n        // Override\n\n        if (item instanceof Error) {\n            if (options.override !== false) {\n                return { override: item };\n            }\n\n            const message = item.toString();\n            messages.push(message);\n\n            details.push({\n                message,\n                type: 'override',\n                context: { error: item }\n            });\n\n            continue;\n        }\n\n        // Report\n\n        const message = item.toString();\n        messages.push(message);\n\n        details.push({\n            message,\n            path: item.path.filter((v) => typeof v !== 'object'),\n            type: item.code,\n            context: item.local\n        });\n    }\n\n    if (messages.length > 1) {\n        messages = [...new Set(messages)];\n    }\n\n    return { message: messages.join('. '), details };\n};\n\n\nexports.ValidationError = class extends Error {\n\n    constructor(message, details, original) {\n\n        super(message);\n        this._original = original;\n        this.details = details;\n    }\n\n    static isError(err) {\n\n        return err instanceof exports.ValidationError;\n    }\n};\n\n\nexports.ValidationError.prototype.isJoi = true;\n\nexports.ValidationError.prototype.name = 'ValidationError';\n\nexports.ValidationError.prototype.annotate = Annotate.error;\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Common = require('./common');\nconst Messages = require('./messages');\n\n\nconst internals = {};\n\n\nexports.type = function (from, options) {\n\n    const base = Object.getPrototypeOf(from);\n    const prototype = Clone(base);\n    const schema = from._assign(Object.create(prototype));\n    const def = Object.assign({}, options);                                 // Shallow cloned\n    delete def.base;\n\n    prototype._definition = def;\n\n    const parent = base._definition || {};\n    def.messages = Messages.merge(parent.messages, def.messages);\n    def.properties = Object.assign({}, parent.properties, def.properties);\n\n    // Type\n\n    schema.type = def.type;\n\n    // Flags\n\n    def.flags = Object.assign({}, parent.flags, def.flags);\n\n    // Terms\n\n    const terms = Object.assign({}, parent.terms);\n    if (def.terms) {\n        for (const name in def.terms) {                                     // Only apply own terms\n            const term = def.terms[name];\n            Assert(schema.$_terms[name] === undefined, 'Invalid term override for', def.type, name);\n            schema.$_terms[name] = term.init;\n            terms[name] = term;\n        }\n    }\n\n    def.terms = terms;\n\n    // Constructor arguments\n\n    if (!def.args) {\n        def.args = parent.args;\n    }\n\n    // Prepare\n\n    def.prepare = internals.prepare(def.prepare, parent.prepare);\n\n    // Coerce\n\n    if (def.coerce) {\n        if (typeof def.coerce === 'function') {\n            def.coerce = { method: def.coerce };\n        }\n\n        if (def.coerce.from &&\n            !Array.isArray(def.coerce.from)) {\n\n            def.coerce = { method: def.coerce.method, from: [].concat(def.coerce.from) };\n        }\n    }\n\n    def.coerce = internals.coerce(def.coerce, parent.coerce);\n\n    // Validate\n\n    def.validate = internals.validate(def.validate, parent.validate);\n\n    // Rules\n\n    const rules = Object.assign({}, parent.rules);\n    if (def.rules) {\n        for (const name in def.rules) {\n            const rule = def.rules[name];\n            Assert(typeof rule === 'object', 'Invalid rule definition for', def.type, name);\n\n            let method = rule.method;\n            if (method === undefined) {\n                method = function () {\n\n                    return this.$_addRule(name);\n                };\n            }\n\n            if (method) {\n                Assert(!prototype[name], 'Rule conflict in', def.type, name);\n                prototype[name] = method;\n            }\n\n            Assert(!rules[name], 'Rule conflict in', def.type, name);\n            rules[name] = rule;\n\n            if (rule.alias) {\n                const aliases = [].concat(rule.alias);\n                for (const alias of aliases) {\n                    prototype[alias] = rule.method;\n                }\n            }\n\n            if (rule.args) {\n                rule.argsByName = new Map();\n                rule.args = rule.args.map((arg) => {\n\n                    if (typeof arg === 'string') {\n                        arg = { name: arg };\n                    }\n\n                    Assert(!rule.argsByName.has(arg.name), 'Duplicated argument name', arg.name);\n\n                    if (Common.isSchema(arg.assert)) {\n                        arg.assert = arg.assert.strict().label(arg.name);\n                    }\n\n                    rule.argsByName.set(arg.name, arg);\n                    return arg;\n                });\n            }\n        }\n    }\n\n    def.rules = rules;\n\n    // Modifiers\n\n    const modifiers = Object.assign({}, parent.modifiers);\n    if (def.modifiers) {\n        for (const name in def.modifiers) {\n            Assert(!prototype[name], 'Rule conflict in', def.type, name);\n\n            const modifier = def.modifiers[name];\n            Assert(typeof modifier === 'function', 'Invalid modifier definition for', def.type, name);\n\n            const method = function (arg) {\n\n                return this.rule({ [name]: arg });\n            };\n\n            prototype[name] = method;\n            modifiers[name] = modifier;\n        }\n    }\n\n    def.modifiers = modifiers;\n\n    // Overrides\n\n    if (def.overrides) {\n        prototype._super = base;\n        schema.$_super = {};\n        for (const override in def.overrides) {\n            Assert(base[override], 'Cannot override missing', override);\n            schema.$_super[override] = base[override].bind(schema);\n        }\n\n        Object.assign(prototype, def.overrides);\n    }\n\n    // Casts\n\n    def.cast = Object.assign({}, parent.cast, def.cast);\n\n    // Manifest\n\n    const manifest = Object.assign({}, parent.manifest, def.manifest);\n    manifest.build = internals.build(def.manifest && def.manifest.build, parent.manifest && parent.manifest.build);\n    def.manifest = manifest;\n\n    // Rebuild\n\n    def.rebuild = internals.rebuild(def.rebuild, parent.rebuild);\n\n    return schema;\n};\n\n\n// Helpers\n\ninternals.build = function (child, parent) {\n\n    if (!child ||\n        !parent) {\n\n        return child || parent;\n    }\n\n    return function (obj, desc) {\n\n        return parent(child(obj, desc), desc);\n    };\n};\n\n\ninternals.coerce = function (child, parent) {\n\n    if (!child ||\n        !parent) {\n\n        return child || parent;\n    }\n\n    return {\n        from: child.from && parent.from ? [...new Set([...child.from, ...parent.from])] : null,\n        method(value, helpers) {\n\n            let coerced;\n            if (!parent.from ||\n                parent.from.includes(typeof value)) {\n\n                coerced = parent.method(value, helpers);\n                if (coerced) {\n                    if (coerced.errors ||\n                        coerced.value === undefined) {\n\n                        return coerced;\n                    }\n\n                    value = coerced.value;\n                }\n            }\n\n            if (!child.from ||\n                child.from.includes(typeof value)) {\n\n                const own = child.method(value, helpers);\n                if (own) {\n                    return own;\n                }\n            }\n\n            return coerced;\n        }\n    };\n};\n\n\ninternals.prepare = function (child, parent) {\n\n    if (!child ||\n        !parent) {\n\n        return child || parent;\n    }\n\n    return function (value, helpers) {\n\n        const prepared = child(value, helpers);\n        if (prepared) {\n            if (prepared.errors ||\n                prepared.value === undefined) {\n\n                return prepared;\n            }\n\n            value = prepared.value;\n        }\n\n        return parent(value, helpers) || prepared;\n    };\n};\n\n\ninternals.rebuild = function (child, parent) {\n\n    if (!child ||\n        !parent) {\n\n        return child || parent;\n    }\n\n    return function (schema) {\n\n        parent(schema);\n        child(schema);\n    };\n};\n\n\ninternals.validate = function (child, parent) {\n\n    if (!child ||\n        !parent) {\n\n        return child || parent;\n    }\n\n    return function (value, helpers) {\n\n        const result = parent(value, helpers);\n        if (result) {\n            if (result.errors &&\n                (!Array.isArray(result.errors) || result.errors.length)) {\n\n                return result;\n            }\n\n            value = result.value;\n        }\n\n        return child(value, helpers) || result;\n    };\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Cache = require('./cache');\nconst Common = require('./common');\nconst Compile = require('./compile');\nconst Errors = require('./errors');\nconst Extend = require('./extend');\nconst Manifest = require('./manifest');\nconst Ref = require('./ref');\nconst Template = require('./template');\nconst Trace = require('./trace');\n\nlet Schemas;\n\n\nconst internals = {\n    types: {\n        alternatives: require('./types/alternatives'),\n        any: require('./types/any'),\n        array: require('./types/array'),\n        boolean: require('./types/boolean'),\n        date: require('./types/date'),\n        function: require('./types/function'),\n        link: require('./types/link'),\n        number: require('./types/number'),\n        object: require('./types/object'),\n        string: require('./types/string'),\n        symbol: require('./types/symbol')\n    },\n    aliases: {\n        alt: 'alternatives',\n        bool: 'boolean',\n        func: 'function'\n    }\n};\n\n\nif (Buffer) {                                                           // $lab:coverage:ignore$\n    internals.types.binary = require('./types/binary');\n}\n\n\ninternals.root = function () {\n\n    const root = {\n        _types: new Set(Object.keys(internals.types))\n    };\n\n    // Types\n\n    for (const type of root._types) {\n        root[type] = function (...args) {\n\n            Assert(!args.length || ['alternatives', 'link', 'object'].includes(type), 'The', type, 'type does not allow arguments');\n            return internals.generate(this, internals.types[type], args);\n        };\n    }\n\n    // Shortcuts\n\n    for (const method of ['allow', 'custom', 'disallow', 'equal', 'exist', 'forbidden', 'invalid', 'not', 'only', 'optional', 'options', 'prefs', 'preferences', 'required', 'strip', 'valid', 'when']) {\n        root[method] = function (...args) {\n\n            return this.any()[method](...args);\n        };\n    }\n\n    // Methods\n\n    Object.assign(root, internals.methods);\n\n    // Aliases\n\n    for (const alias in internals.aliases) {\n        const target = internals.aliases[alias];\n        root[alias] = root[target];\n    }\n\n    root.x = root.expression;\n\n    // Trace\n\n    if (Trace.setup) {                                          // $lab:coverage:ignore$\n        Trace.setup(root);\n    }\n\n    return root;\n};\n\n\ninternals.methods = {\n\n    ValidationError: Errors.ValidationError,\n    version: Common.version,\n    cache: Cache.provider,\n\n    assert(value, schema, ...args /* [message], [options] */) {\n\n        internals.assert(value, schema, true, args);\n    },\n\n    attempt(value, schema, ...args /* [message], [options] */) {\n\n        return internals.assert(value, schema, false, args);\n    },\n\n    build(desc) {\n\n        Assert(typeof Manifest.build === 'function', 'Manifest functionality disabled');\n        return Manifest.build(this, desc);\n    },\n\n    checkPreferences(prefs) {\n\n        Common.checkPreferences(prefs);\n    },\n\n    compile(schema, options) {\n\n        return Compile.compile(this, schema, options);\n    },\n\n    defaults(modifier) {\n\n        Assert(typeof modifier === 'function', 'modifier must be a function');\n\n        const joi = Object.assign({}, this);\n        for (const type of joi._types) {\n            const schema = modifier(joi[type]());\n            Assert(Common.isSchema(schema), 'modifier must return a valid schema object');\n\n            joi[type] = function (...args) {\n\n                return internals.generate(this, schema, args);\n            };\n        }\n\n        return joi;\n    },\n\n    expression(...args) {\n\n        return new Template(...args);\n    },\n\n    extend(...extensions) {\n\n        Common.verifyFlat(extensions, 'extend');\n\n        Schemas = Schemas || require('./schemas');\n\n        Assert(extensions.length, 'You need to provide at least one extension');\n        this.assert(extensions, Schemas.extensions);\n\n        const joi = Object.assign({}, this);\n        joi._types = new Set(joi._types);\n\n        for (let extension of extensions) {\n            if (typeof extension === 'function') {\n                extension = extension(joi);\n            }\n\n            this.assert(extension, Schemas.extension);\n\n            const expanded = internals.expandExtension(extension, joi);\n            for (const item of expanded) {\n                Assert(joi[item.type] === undefined || joi._types.has(item.type), 'Cannot override name', item.type);\n\n                const base = item.base || this.any();\n                const schema = Extend.type(base, item);\n\n                joi._types.add(item.type);\n                joi[item.type] = function (...args) {\n\n                    return internals.generate(this, schema, args);\n                };\n            }\n        }\n\n        return joi;\n    },\n\n    isError: Errors.ValidationError.isError,\n    isExpression: Template.isTemplate,\n    isRef: Ref.isRef,\n    isSchema: Common.isSchema,\n\n    in(...args) {\n\n        return Ref.in(...args);\n    },\n\n    override: Common.symbols.override,\n\n    ref(...args) {\n\n        return Ref.create(...args);\n    },\n\n    types() {\n\n        const types = {};\n        for (const type of this._types) {\n            types[type] = this[type]();\n        }\n\n        for (const target in internals.aliases) {\n            types[target] = this[target]();\n        }\n\n        return types;\n    }\n};\n\n\n// Helpers\n\ninternals.assert = function (value, schema, annotate, args /* [message], [options] */) {\n\n    const message = args[0] instanceof Error || typeof args[0] === 'string' ? args[0] : null;\n    const options = message ? args[1] : args[0];\n    const result = schema.validate(value, Common.preferences({ errors: { stack: true } }, options || {}));\n\n    let error = result.error;\n    if (!error) {\n        return result.value;\n    }\n\n    if (message instanceof Error) {\n        throw message;\n    }\n\n    const display = annotate && typeof error.annotate === 'function' ? error.annotate() : error.message;\n\n    if (error instanceof Errors.ValidationError === false) {\n        error = Clone(error);\n    }\n\n    error.message = message ? `${message} ${display}` : display;\n    throw error;\n};\n\n\ninternals.generate = function (root, schema, args) {\n\n    Assert(root, 'Must be invoked on a Joi instance.');\n\n    schema.$_root = root;\n\n    if (!schema._definition.args ||\n        !args.length) {\n\n        return schema;\n    }\n\n    return schema._definition.args(schema, ...args);\n};\n\n\ninternals.expandExtension = function (extension, joi) {\n\n    if (typeof extension.type === 'string') {\n        return [extension];\n    }\n\n    const extended = [];\n    for (const type of joi._types) {\n        if (extension.type.test(type)) {\n            const item = Object.assign({}, extension);\n            item.type = type;\n            item.base = joi[type]();\n            extended.push(item);\n        }\n    }\n\n    return extended;\n};\n\n\nmodule.exports = internals.root();\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Common = require('./common');\nconst Messages = require('./messages');\nconst Ref = require('./ref');\nconst Template = require('./template');\n\nlet Schemas;\n\n\nconst internals = {};\n\n\nexports.describe = function (schema) {\n\n    const def = schema._definition;\n\n    // Type\n\n    const desc = {\n        type: schema.type,\n        flags: {},\n        rules: []\n    };\n\n    // Flags\n\n    for (const flag in schema._flags) {\n        if (flag[0] !== '_') {\n            desc.flags[flag] = internals.describe(schema._flags[flag]);\n        }\n    }\n\n    if (!Object.keys(desc.flags).length) {\n        delete desc.flags;\n    }\n\n    // Preferences\n\n    if (schema._preferences) {\n        desc.preferences = Clone(schema._preferences, { shallow: ['messages'] });\n        delete desc.preferences[Common.symbols.prefs];\n        if (desc.preferences.messages) {\n            desc.preferences.messages = Messages.decompile(desc.preferences.messages);\n        }\n    }\n\n    // Allow / Invalid\n\n    if (schema._valids) {\n        desc.allow = schema._valids.describe();\n    }\n\n    if (schema._invalids) {\n        desc.invalid = schema._invalids.describe();\n    }\n\n    // Rules\n\n    for (const rule of schema._rules) {\n        const ruleDef = def.rules[rule.name];\n        if (ruleDef.manifest === false) {                           // Defaults to true\n            continue;\n        }\n\n        const item = { name: rule.name };\n\n        for (const custom in def.modifiers) {\n            if (rule[custom] !== undefined) {\n                item[custom] = internals.describe(rule[custom]);\n            }\n        }\n\n        if (rule.args) {\n            item.args = {};\n            for (const key in rule.args) {\n                const arg = rule.args[key];\n                if (key === 'options' &&\n                    !Object.keys(arg).length) {\n\n                    continue;\n                }\n\n                item.args[key] = internals.describe(arg, { assign: key });\n            }\n\n            if (!Object.keys(item.args).length) {\n                delete item.args;\n            }\n        }\n\n        desc.rules.push(item);\n    }\n\n    if (!desc.rules.length) {\n        delete desc.rules;\n    }\n\n    // Terms (must be last to verify no name conflicts)\n\n    for (const term in schema.$_terms) {\n        if (term[0] === '_') {\n            continue;\n        }\n\n        Assert(!desc[term], 'Cannot describe schema due to internal name conflict with', term);\n\n        const items = schema.$_terms[term];\n        if (!items) {\n            continue;\n        }\n\n        if (items instanceof Map) {\n            if (items.size) {\n                desc[term] = [...items.entries()];\n            }\n\n            continue;\n        }\n\n        if (Common.isValues(items)) {\n            desc[term] = items.describe();\n            continue;\n        }\n\n        Assert(def.terms[term], 'Term', term, 'missing configuration');\n        const manifest = def.terms[term].manifest;\n        const mapped = typeof manifest === 'object';\n        if (!items.length &&\n            !mapped) {\n\n            continue;\n        }\n\n        const normalized = [];\n        for (const item of items) {\n            normalized.push(internals.describe(item));\n        }\n\n        // Mapped\n\n        if (mapped) {\n            const { from, to } = manifest.mapped;\n            desc[term] = {};\n            for (const item of normalized) {\n                desc[term][item[to]] = item[from];\n            }\n\n            continue;\n        }\n\n        // Single\n\n        if (manifest === 'single') {\n            Assert(normalized.length === 1, 'Term', term, 'contains more than one item');\n            desc[term] = normalized[0];\n            continue;\n        }\n\n        // Array\n\n        desc[term] = normalized;\n    }\n\n    internals.validate(schema.$_root, desc);\n    return desc;\n};\n\n\ninternals.describe = function (item, options = {}) {\n\n    if (Array.isArray(item)) {\n        return item.map(internals.describe);\n    }\n\n    if (item === Common.symbols.deepDefault) {\n        return { special: 'deep' };\n    }\n\n    if (typeof item !== 'object' ||\n        item === null) {\n\n        return item;\n    }\n\n    if (options.assign === 'options') {\n        return Clone(item);\n    }\n\n    if (Buffer && Buffer.isBuffer(item)) {                          // $lab:coverage:ignore$\n        return { buffer: item.toString('binary') };\n    }\n\n    if (item instanceof Date) {\n        return item.toISOString();\n    }\n\n    if (item instanceof Error) {\n        return item;\n    }\n\n    if (item instanceof RegExp) {\n        if (options.assign === 'regex') {\n            return item.toString();\n        }\n\n        return { regex: item.toString() };\n    }\n\n    if (item[Common.symbols.literal]) {\n        return { function: item.literal };\n    }\n\n    if (typeof item.describe === 'function') {\n        if (options.assign === 'ref') {\n            return item.describe().ref;\n        }\n\n        return item.describe();\n    }\n\n    const normalized = {};\n    for (const key in item) {\n        const value = item[key];\n        if (value === undefined) {\n            continue;\n        }\n\n        normalized[key] = internals.describe(value, { assign: key });\n    }\n\n    return normalized;\n};\n\n\nexports.build = function (joi, desc) {\n\n    const builder = new internals.Builder(joi);\n    return builder.parse(desc);\n};\n\n\ninternals.Builder = class {\n\n    constructor(joi) {\n\n        this.joi = joi;\n    }\n\n    parse(desc) {\n\n        internals.validate(this.joi, desc);\n\n        // Type\n\n        let schema = this.joi[desc.type]();\n        const def = schema._definition;\n\n        // Flags\n\n        if (desc.flags) {\n            for (const flag in desc.flags) {\n                const setter = def.flags[flag] && def.flags[flag].setter || flag;\n                Assert(typeof schema[setter] === 'function', 'Invalid flag', flag, 'for type', desc.type);\n                schema = schema[setter](this.build(desc.flags[flag]));\n            }\n        }\n\n        // Preferences\n\n        if (desc.preferences) {\n            schema = schema.preferences(this.build(desc.preferences));\n        }\n\n        // Allow / Invalid\n\n        if (desc.allow) {\n            schema = schema.allow(...this.build(desc.allow));\n        }\n\n        if (desc.invalid) {\n            schema = schema.invalid(...this.build(desc.invalid));\n        }\n\n        // Rules\n\n        if (desc.rules) {\n            for (const rule of desc.rules) {\n                Assert(typeof schema[rule.name] === 'function', 'Invalid rule', rule.name, 'for type', desc.type);\n\n                const args = [];\n                if (rule.args) {\n                    const built = {};\n                    for (const key in rule.args) {\n                        built[key] = this.build(rule.args[key], { assign: key });\n                    }\n\n                    const keys = Object.keys(built);\n                    const definition = def.rules[rule.name].args;\n                    if (definition) {\n                        Assert(keys.length <= definition.length, 'Invalid number of arguments for', desc.type, rule.name, '(expected up to', definition.length, ', found', keys.length, ')');\n                        for (const { name } of definition) {\n                            args.push(built[name]);\n                        }\n                    }\n                    else {\n                        Assert(keys.length === 1, 'Invalid number of arguments for', desc.type, rule.name, '(expected up to 1, found', keys.length, ')');\n                        args.push(built[keys[0]]);\n                    }\n                }\n\n                // Apply\n\n                schema = schema[rule.name](...args);\n\n                // Ruleset\n\n                const options = {};\n                for (const custom in def.modifiers) {\n                    if (rule[custom] !== undefined) {\n                        options[custom] = this.build(rule[custom]);\n                    }\n                }\n\n                if (Object.keys(options).length) {\n                    schema = schema.rule(options);\n                }\n            }\n        }\n\n        // Terms\n\n        const terms = {};\n        for (const key in desc) {\n            if (['allow', 'flags', 'invalid', 'whens', 'preferences', 'rules', 'type'].includes(key)) {\n                continue;\n            }\n\n            Assert(def.terms[key], 'Term', key, 'missing configuration');\n            const manifest = def.terms[key].manifest;\n\n            if (manifest === 'schema') {\n                terms[key] = desc[key].map((item) => this.parse(item));\n                continue;\n            }\n\n            if (manifest === 'values') {\n                terms[key] = desc[key].map((item) => this.build(item));\n                continue;\n            }\n\n            if (manifest === 'single') {\n                terms[key] = this.build(desc[key]);\n                continue;\n            }\n\n            if (typeof manifest === 'object') {\n                terms[key] = {};\n                for (const name in desc[key]) {\n                    const value = desc[key][name];\n                    terms[key][name] = this.parse(value);\n                }\n\n                continue;\n            }\n\n            terms[key] = this.build(desc[key]);\n        }\n\n        if (desc.whens) {\n            terms.whens = desc.whens.map((when) => this.build(when));\n        }\n\n        schema = def.manifest.build(schema, terms);\n        schema.$_temp.ruleset = false;\n        return schema;\n    }\n\n    build(desc, options = {}) {\n\n        if (desc === null) {\n            return null;\n        }\n\n        if (Array.isArray(desc)) {\n            return desc.map((item) => this.build(item));\n        }\n\n        if (desc instanceof Error) {\n            return desc;\n        }\n\n        if (options.assign === 'options') {\n            return Clone(desc);\n        }\n\n        if (options.assign === 'regex') {\n            return internals.regex(desc);\n        }\n\n        if (options.assign === 'ref') {\n            return Ref.build(desc);\n        }\n\n        if (typeof desc !== 'object') {\n            return desc;\n        }\n\n        if (Object.keys(desc).length === 1) {\n            if (desc.buffer) {\n                Assert(Buffer, 'Buffers are not supported');\n                return Buffer && Buffer.from(desc.buffer, 'binary');                    // $lab:coverage:ignore$\n            }\n\n            if (desc.function) {\n                return { [Common.symbols.literal]: true, literal: desc.function };\n            }\n\n            if (desc.override) {\n                return Common.symbols.override;\n            }\n\n            if (desc.ref) {\n                return Ref.build(desc.ref);\n            }\n\n            if (desc.regex) {\n                return internals.regex(desc.regex);\n            }\n\n            if (desc.special) {\n                Assert(['deep'].includes(desc.special), 'Unknown special value', desc.special);\n                return Common.symbols.deepDefault;\n            }\n\n            if (desc.value) {\n                return Clone(desc.value);\n            }\n        }\n\n        if (desc.type) {\n            return this.parse(desc);\n        }\n\n        if (desc.template) {\n            return Template.build(desc);\n        }\n\n        const normalized = {};\n        for (const key in desc) {\n            normalized[key] = this.build(desc[key], { assign: key });\n        }\n\n        return normalized;\n    }\n};\n\n\ninternals.regex = function (string) {\n\n    const end = string.lastIndexOf('/');\n    const exp = string.slice(1, end);\n    const flags = string.slice(end + 1);\n    return new RegExp(exp, flags);\n};\n\n\ninternals.validate = function (joi, desc) {\n\n    Schemas = Schemas || require('./schemas');\n\n    joi.assert(desc, Schemas.description);\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Template = require('./template');\n\n\nconst internals = {};\n\n\nexports.compile = function (messages, target) {\n\n    // Single value string ('plain error message', 'template {error} message')\n\n    if (typeof messages === 'string') {\n        Assert(!target, 'Cannot set single message string');\n        return new Template(messages);\n    }\n\n    // Single value template\n\n    if (Template.isTemplate(messages)) {\n        Assert(!target, 'Cannot set single message template');\n        return messages;\n    }\n\n    // By error code { 'number.min': <string | template> }\n\n    Assert(typeof messages === 'object' && !Array.isArray(messages), 'Invalid message options');\n\n    target = target ? Clone(target) : {};\n\n    for (let code in messages) {\n        const message = messages[code];\n\n        if (code === 'root' ||\n            Template.isTemplate(message)) {\n\n            target[code] = message;\n            continue;\n        }\n\n        if (typeof message === 'string') {\n            target[code] = new Template(message);\n            continue;\n        }\n\n        // By language { english: { 'number.min': <string | template> } }\n\n        Assert(typeof message === 'object' && !Array.isArray(message), 'Invalid message for', code);\n\n        const language = code;\n        target[language] = target[language] || {};\n\n        for (code in message) {\n            const localized = message[code];\n\n            if (code === 'root' ||\n                Template.isTemplate(localized)) {\n\n                target[language][code] = localized;\n                continue;\n            }\n\n            Assert(typeof localized === 'string', 'Invalid message for', code, 'in', language);\n            target[language][code] = new Template(localized);\n        }\n    }\n\n    return target;\n};\n\n\nexports.decompile = function (messages) {\n\n    // By error code { 'number.min': <string | template> }\n\n    const target = {};\n    for (let code in messages) {\n        const message = messages[code];\n\n        if (code === 'root') {\n            target[code] = message;\n            continue;\n        }\n\n        if (Template.isTemplate(message)) {\n            target[code] = message.describe({ compact: true });\n            continue;\n        }\n\n        // By language { english: { 'number.min': <string | template> } }\n\n        const language = code;\n        target[language] = {};\n\n        for (code in message) {\n            const localized = message[code];\n\n            if (code === 'root') {\n                target[language][code] = localized;\n                continue;\n            }\n\n            target[language][code] = localized.describe({ compact: true });\n        }\n    }\n\n    return target;\n};\n\n\nexports.merge = function (base, extended) {\n\n    if (!base) {\n        return exports.compile(extended);\n    }\n\n    if (!extended) {\n        return base;\n    }\n\n    // Single value string\n\n    if (typeof extended === 'string') {\n        return new Template(extended);\n    }\n\n    // Single value template\n\n    if (Template.isTemplate(extended)) {\n        return extended;\n    }\n\n    // By error code { 'number.min': <string | template> }\n\n    const target = Clone(base);\n\n    for (let code in extended) {\n        const message = extended[code];\n\n        if (code === 'root' ||\n            Template.isTemplate(message)) {\n\n            target[code] = message;\n            continue;\n        }\n\n        if (typeof message === 'string') {\n            target[code] = new Template(message);\n            continue;\n        }\n\n        // By language { english: { 'number.min': <string | template> } }\n\n        Assert(typeof message === 'object' && !Array.isArray(message), 'Invalid message for', code);\n\n        const language = code;\n        target[language] = target[language] || {};\n\n        for (code in message) {\n            const localized = message[code];\n\n            if (code === 'root' ||\n                Template.isTemplate(localized)) {\n\n                target[language][code] = localized;\n                continue;\n            }\n\n            Assert(typeof localized === 'string', 'Invalid message for', code, 'in', language);\n            target[language][code] = new Template(localized);\n        }\n    }\n\n    return target;\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Common = require('./common');\nconst Ref = require('./ref');\n\n\nconst internals = {};\n\n\n\nexports.Ids = internals.Ids = class {\n\n    constructor() {\n\n        this._byId = new Map();\n        this._byKey = new Map();\n        this._schemaChain = false;\n    }\n\n    clone() {\n\n        const clone = new internals.Ids();\n        clone._byId = new Map(this._byId);\n        clone._byKey = new Map(this._byKey);\n        clone._schemaChain = this._schemaChain;\n        return clone;\n    }\n\n    concat(source) {\n\n        if (source._schemaChain) {\n            this._schemaChain = true;\n        }\n\n        for (const [id, value] of source._byId.entries()) {\n            Assert(!this._byKey.has(id), 'Schema id conflicts with existing key:', id);\n            this._byId.set(id, value);\n        }\n\n        for (const [key, value] of source._byKey.entries()) {\n            Assert(!this._byId.has(key), 'Schema key conflicts with existing id:', key);\n            this._byKey.set(key, value);\n        }\n    }\n\n    fork(path, adjuster, root) {\n\n        const chain = this._collect(path);\n        chain.push({ schema: root });\n        const tail = chain.shift();\n        let adjusted = { id: tail.id, schema: adjuster(tail.schema) };\n\n        Assert(Common.isSchema(adjusted.schema), 'adjuster function failed to return a joi schema type');\n\n        for (const node of chain) {\n            adjusted = { id: node.id, schema: internals.fork(node.schema, adjusted.id, adjusted.schema) };\n        }\n\n        return adjusted.schema;\n    }\n\n    labels(path, behind = []) {\n\n        const current = path[0];\n        const node = this._get(current);\n        if (!node) {\n            return [...behind, ...path].join('.');\n        }\n\n        const forward = path.slice(1);\n        behind = [...behind, node.schema._flags.label || current];\n        if (!forward.length) {\n            return behind.join('.');\n        }\n\n        return node.schema._ids.labels(forward, behind);\n    }\n\n    reach(path, behind = []) {\n\n        const current = path[0];\n        const node = this._get(current);\n        Assert(node, 'Schema does not contain path', [...behind, ...path].join('.'));\n\n        const forward = path.slice(1);\n        if (!forward.length) {\n            return node.schema;\n        }\n\n        return node.schema._ids.reach(forward, [...behind, current]);\n    }\n\n    register(schema, { key } = {}) {\n\n        if (!schema ||\n            !Common.isSchema(schema)) {\n\n            return;\n        }\n\n        if (schema.$_property('schemaChain') ||\n            schema._ids._schemaChain) {\n\n            this._schemaChain = true;\n        }\n\n        const id = schema._flags.id;\n        if (id) {\n            const existing = this._byId.get(id);\n            Assert(!existing || existing.schema === schema, 'Cannot add different schemas with the same id:', id);\n            Assert(!this._byKey.has(id), 'Schema id conflicts with existing key:', id);\n\n            this._byId.set(id, { schema, id });\n        }\n\n        if (key) {\n            Assert(!this._byKey.has(key), 'Schema already contains key:', key);\n            Assert(!this._byId.has(key), 'Schema key conflicts with existing id:', key);\n\n            this._byKey.set(key, { schema, id: key });\n        }\n    }\n\n    reset() {\n\n        this._byId = new Map();\n        this._byKey = new Map();\n        this._schemaChain = false;\n    }\n\n    _collect(path, behind = [], nodes = []) {\n\n        const current = path[0];\n        const node = this._get(current);\n        Assert(node, 'Schema does not contain path', [...behind, ...path].join('.'));\n\n        nodes = [node, ...nodes];\n\n        const forward = path.slice(1);\n        if (!forward.length) {\n            return nodes;\n        }\n\n        return node.schema._ids._collect(forward, [...behind, current], nodes);\n    }\n\n    _get(id) {\n\n        return this._byId.get(id) || this._byKey.get(id);\n    }\n};\n\n\ninternals.fork = function (schema, id, replacement) {\n\n    const each = (item, { key }) => {\n\n        if (id === (item._flags.id || key)) {\n            return replacement;\n        }\n    };\n\n    const obj = exports.schema(schema, { each, ref: false });\n    return obj ? obj.$_mutateRebuild() : schema;\n};\n\n\nexports.schema = function (schema, options) {\n\n    let obj;\n\n    for (const name in schema._flags) {\n        if (name[0] === '_') {\n            continue;\n        }\n\n        const result = internals.scan(schema._flags[name], { source: 'flags', name }, options);\n        if (result !== undefined) {\n            obj = obj || schema.clone();\n            obj._flags[name] = result;\n        }\n    }\n\n    for (let i = 0; i < schema._rules.length; ++i) {\n        const rule = schema._rules[i];\n        const result = internals.scan(rule.args, { source: 'rules', name: rule.name }, options);\n        if (result !== undefined) {\n            obj = obj || schema.clone();\n            const clone = Object.assign({}, rule);\n            clone.args = result;\n            obj._rules[i] = clone;\n\n            const existingUnique = obj._singleRules.get(rule.name);\n            if (existingUnique === rule) {\n                obj._singleRules.set(rule.name, clone);\n            }\n        }\n    }\n\n    for (const name in schema.$_terms) {\n        if (name[0] === '_') {\n            continue;\n        }\n\n        const result = internals.scan(schema.$_terms[name], { source: 'terms', name }, options);\n        if (result !== undefined) {\n            obj = obj || schema.clone();\n            obj.$_terms[name] = result;\n        }\n    }\n\n    return obj;\n};\n\n\ninternals.scan = function (item, source, options, _path, _key) {\n\n    const path = _path || [];\n\n    if (item === null ||\n        typeof item !== 'object') {\n\n        return;\n    }\n\n    let clone;\n\n    if (Array.isArray(item)) {\n        for (let i = 0; i < item.length; ++i) {\n            const key = source.source === 'terms' && source.name === 'keys' && item[i].key;\n            const result = internals.scan(item[i], source, options, [i, ...path], key);\n            if (result !== undefined) {\n                clone = clone || item.slice();\n                clone[i] = result;\n            }\n        }\n\n        return clone;\n    }\n\n    if (options.schema !== false && Common.isSchema(item) ||\n        options.ref !== false && Ref.isRef(item)) {\n\n        const result = options.each(item, { ...source, path, key: _key });\n        if (result === item) {\n            return;\n        }\n\n        return result;\n    }\n\n    for (const key in item) {\n        if (key[0] === '_') {\n            continue;\n        }\n\n        const result = internals.scan(item[key], source, options, [key, ...path], _key);\n        if (result !== undefined) {\n            clone = clone || Object.assign({}, item);\n            clone[key] = result;\n        }\n    }\n\n    return clone;\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\nconst Reach = require('@hapi/hoek/lib/reach');\n\nconst Common = require('./common');\n\nlet Template;\n\n\nconst internals = {\n    symbol: Symbol('ref'),      // Used to internally identify references (shared with other joi versions)\n    defaults: {\n        adjust: null,\n        in: false,\n        iterables: null,\n        map: null,\n        separator: '.',\n        type: 'value'\n    }\n};\n\n\nexports.create = function (key, options = {}) {\n\n    Assert(typeof key === 'string', 'Invalid reference key:', key);\n    Common.assertOptions(options, ['adjust', 'ancestor', 'in', 'iterables', 'map', 'prefix', 'separator']);\n    Assert(!options.prefix || typeof options.prefix === 'object', 'options.prefix must be of type object');\n\n    const ref = Object.assign({}, internals.defaults, options);\n    delete ref.prefix;\n\n    const separator = ref.separator;\n    const context = internals.context(key, separator, options.prefix);\n    ref.type = context.type;\n    key = context.key;\n\n    if (ref.type === 'value') {\n        if (context.root) {\n            Assert(!separator || key[0] !== separator, 'Cannot specify relative path with root prefix');\n            ref.ancestor = 'root';\n            if (!key) {\n                key = null;\n            }\n        }\n\n        if (separator &&\n            separator === key) {\n\n            key = null;\n            ref.ancestor = 0;\n        }\n        else {\n            if (ref.ancestor !== undefined) {\n                Assert(!separator || !key || key[0] !== separator, 'Cannot combine prefix with ancestor option');\n            }\n            else {\n                const [ancestor, slice] = internals.ancestor(key, separator);\n                if (slice) {\n                    key = key.slice(slice);\n                    if (key === '') {\n                        key = null;\n                    }\n                }\n\n                ref.ancestor = ancestor;\n            }\n        }\n    }\n\n    ref.path = separator ? (key === null ? [] : key.split(separator)) : [key];\n\n    return new internals.Ref(ref);\n};\n\n\nexports.in = function (key, options = {}) {\n\n    return exports.create(key, Object.assign({}, options, { in: true }));\n};\n\n\nexports.isRef = function (ref) {\n\n    return ref ? !!ref[Common.symbols.ref] : false;\n};\n\n\ninternals.Ref = class {\n\n    constructor(options) {\n\n        Assert(typeof options === 'object', 'Invalid reference construction');\n        Common.assertOptions(options, [\n            'adjust', 'ancestor', 'in', 'iterables', 'map', 'path', 'separator', 'type',    // Copied\n            'depth', 'key', 'root', 'display'                                               // Overridden\n        ]);\n\n        Assert([false, undefined].includes(options.separator) || typeof options.separator === 'string' && options.separator.length === 1, 'Invalid separator');\n        Assert(!options.adjust || typeof options.adjust === 'function', 'options.adjust must be a function');\n        Assert(!options.map || Array.isArray(options.map), 'options.map must be an array');\n        Assert(!options.map || !options.adjust, 'Cannot set both map and adjust options');\n\n        Object.assign(this, internals.defaults, options);\n\n        Assert(this.type === 'value' || this.ancestor === undefined, 'Non-value references cannot reference ancestors');\n\n        if (Array.isArray(this.map)) {\n            this.map = new Map(this.map);\n        }\n\n        this.depth = this.path.length;\n        this.key = this.path.length ? this.path.join(this.separator) : null;\n        this.root = this.path[0];\n\n        this.updateDisplay();\n    }\n\n    resolve(value, state, prefs, local, options = {}) {\n\n        Assert(!this.in || options.in, 'Invalid in() reference usage');\n\n        if (this.type === 'global') {\n            return this._resolve(prefs.context, state, options);\n        }\n\n        if (this.type === 'local') {\n            return this._resolve(local, state, options);\n        }\n\n        if (!this.ancestor) {\n            return this._resolve(value, state, options);\n        }\n\n        if (this.ancestor === 'root') {\n            return this._resolve(state.ancestors[state.ancestors.length - 1], state, options);\n        }\n\n        Assert(this.ancestor <= state.ancestors.length, 'Invalid reference exceeds the schema root:', this.display);\n        return this._resolve(state.ancestors[this.ancestor - 1], state, options);\n    }\n\n    _resolve(target, state, options) {\n\n        let resolved;\n\n        if (this.type === 'value' &&\n            state.mainstay.shadow &&\n            options.shadow !== false) {\n\n            resolved = state.mainstay.shadow.get(this.absolute(state));\n        }\n\n        if (resolved === undefined) {\n            resolved = Reach(target, this.path, { iterables: this.iterables, functions: true });\n        }\n\n        if (this.adjust) {\n            resolved = this.adjust(resolved);\n        }\n\n        if (this.map) {\n            const mapped = this.map.get(resolved);\n            if (mapped !== undefined) {\n                resolved = mapped;\n            }\n        }\n\n        if (state.mainstay) {\n            state.mainstay.tracer.resolve(state, this, resolved);\n        }\n\n        return resolved;\n    }\n\n    toString() {\n\n        return this.display;\n    }\n\n    absolute(state) {\n\n        return [...state.path.slice(0, -this.ancestor), ...this.path];\n    }\n\n    clone() {\n\n        return new internals.Ref(this);\n    }\n\n    describe() {\n\n        const ref = { path: this.path };\n\n        if (this.type !== 'value') {\n            ref.type = this.type;\n        }\n\n        if (this.separator !== '.') {\n            ref.separator = this.separator;\n        }\n\n        if (this.type === 'value' &&\n            this.ancestor !== 1) {\n\n            ref.ancestor = this.ancestor;\n        }\n\n        if (this.map) {\n            ref.map = [...this.map];\n        }\n\n        for (const key of ['adjust', 'iterables']) {\n            if (this[key] !== null) {\n                ref[key] = this[key];\n            }\n        }\n\n        if (this.in !== false) {\n            ref.in = true;\n        }\n\n        return { ref };\n    }\n\n    updateDisplay() {\n\n        const key = this.key !== null ? this.key : '';\n        if (this.type !== 'value') {\n            this.display = `ref:${this.type}:${key}`;\n            return;\n        }\n\n        if (!this.separator) {\n            this.display = `ref:${key}`;\n            return;\n        }\n\n        if (!this.ancestor) {\n            this.display = `ref:${this.separator}${key}`;\n            return;\n        }\n\n        if (this.ancestor === 'root') {\n            this.display = `ref:root:${key}`;\n            return;\n        }\n\n        if (this.ancestor === 1) {\n            this.display = `ref:${key || '..'}`;\n            return;\n        }\n\n        const lead = new Array(this.ancestor + 1).fill(this.separator).join('');\n        this.display = `ref:${lead}${key || ''}`;\n    }\n};\n\n\ninternals.Ref.prototype[Common.symbols.ref] = true;\n\n\nexports.build = function (desc) {\n\n    desc = Object.assign({}, internals.defaults, desc);\n    if (desc.type === 'value' &&\n        desc.ancestor === undefined) {\n\n        desc.ancestor = 1;\n    }\n\n    return new internals.Ref(desc);\n};\n\n\ninternals.context = function (key, separator, prefix = {}) {\n\n    key = key.trim();\n\n    if (prefix) {\n        const globalp = prefix.global === undefined ? '$' : prefix.global;\n        if (globalp !== separator &&\n            key.startsWith(globalp)) {\n\n            return { key: key.slice(globalp.length), type: 'global' };\n        }\n\n        const local = prefix.local === undefined ? '#' : prefix.local;\n        if (local !== separator &&\n            key.startsWith(local)) {\n\n            return { key: key.slice(local.length), type: 'local' };\n        }\n\n        const root = prefix.root === undefined ? '/' : prefix.root;\n        if (root !== separator &&\n            key.startsWith(root)) {\n\n            return { key: key.slice(root.length), type: 'value', root: true };\n        }\n    }\n\n    return { key, type: 'value' };\n};\n\n\ninternals.ancestor = function (key, separator) {\n\n    if (!separator) {\n        return [1, 0];              // 'a_b' -> 1 (parent)\n    }\n\n    if (key[0] !== separator) {     // 'a.b' -> 1 (parent)\n        return [1, 0];\n    }\n\n    if (key[1] !== separator) {     // '.a.b' -> 0 (self)\n        return [0, 1];\n    }\n\n    let i = 2;\n    while (key[i] === separator) {\n        ++i;\n    }\n\n    return [i - 1, i];              // '...a.b.' -> 2 (grandparent)\n};\n\n\nexports.toSibling = 0;\n\nexports.toParent = 1;\n\n\nexports.Manager = class {\n\n    constructor() {\n\n        this.refs = [];                     // 0: [self refs], 1: [parent refs], 2: [grandparent refs], ...\n    }\n\n    register(source, target) {\n\n        if (!source) {\n            return;\n        }\n\n        target = target === undefined ? exports.toParent : target;\n\n        // Array\n\n        if (Array.isArray(source)) {\n            for (const ref of source) {\n                this.register(ref, target);\n            }\n\n            return;\n        }\n\n        // Schema\n\n        if (Common.isSchema(source)) {\n            for (const item of source._refs.refs) {\n                if (item.ancestor - target >= 0) {\n                    this.refs.push({ ancestor: item.ancestor - target, root: item.root });\n                }\n            }\n\n            return;\n        }\n\n        // Reference\n\n        if (exports.isRef(source) &&\n            source.type === 'value' &&\n            source.ancestor - target >= 0) {\n\n            this.refs.push({ ancestor: source.ancestor - target, root: source.root });\n        }\n\n        // Template\n\n        Template = Template || require('./template');\n\n        if (Template.isTemplate(source)) {\n            this.register(source.refs(), target);\n        }\n    }\n\n    get length() {\n\n        return this.refs.length;\n    }\n\n    clone() {\n\n        const copy = new exports.Manager();\n        copy.refs = Clone(this.refs);\n        return copy;\n    }\n\n    reset() {\n\n        this.refs = [];\n    }\n\n    roots() {\n\n        return this.refs.filter((ref) => !ref.ancestor).map((ref) => ref.root);\n    }\n};\n","'use strict';\n\nconst Joi = require('./index');\n\n\nconst internals = {};\n\n\n// Preferences\n\ninternals.wrap = Joi.string()\n    .min(1)\n    .max(2)\n    .allow(false);\n\n\nexports.preferences = Joi.object({\n    allowUnknown: Joi.boolean(),\n    abortEarly: Joi.boolean(),\n    cache: Joi.boolean(),\n    context: Joi.object(),\n    convert: Joi.boolean(),\n    dateFormat: Joi.valid('date', 'iso', 'string', 'time', 'utc'),\n    debug: Joi.boolean(),\n    errors: {\n        escapeHtml: Joi.boolean(),\n        label: Joi.valid('path', 'key', false),\n        language: [\n            Joi.string(),\n            Joi.object().ref()\n        ],\n        render: Joi.boolean(),\n        stack: Joi.boolean(),\n        wrap: {\n            label: internals.wrap,\n            array: internals.wrap\n        }\n    },\n    externals: Joi.boolean(),\n    messages: Joi.object(),\n    noDefaults: Joi.boolean(),\n    nonEnumerables: Joi.boolean(),\n    presence: Joi.valid('required', 'optional', 'forbidden'),\n    skipFunctions: Joi.boolean(),\n    stripUnknown: Joi.object({\n        arrays: Joi.boolean(),\n        objects: Joi.boolean()\n    })\n        .or('arrays', 'objects')\n        .allow(true, false),\n    warnings: Joi.boolean()\n})\n    .strict();\n\n\n// Extensions\n\ninternals.nameRx = /^[a-zA-Z0-9]\\w*$/;\n\n\ninternals.rule = Joi.object({\n    alias: Joi.array().items(Joi.string().pattern(internals.nameRx)).single(),\n    args: Joi.array().items(\n        Joi.string(),\n        Joi.object({\n            name: Joi.string().pattern(internals.nameRx).required(),\n            ref: Joi.boolean(),\n            assert: Joi.alternatives([\n                Joi.function(),\n                Joi.object().schema()\n            ])\n                .conditional('ref', { is: true, then: Joi.required() }),\n            normalize: Joi.function(),\n            message: Joi.string().when('assert', { is: Joi.function(), then: Joi.required() })\n        })\n    ),\n    convert: Joi.boolean(),\n    manifest: Joi.boolean(),\n    method: Joi.function().allow(false),\n    multi: Joi.boolean(),\n    validate: Joi.function()\n});\n\n\nexports.extension = Joi.object({\n    type: Joi.alternatives([\n        Joi.string(),\n        Joi.object().regex()\n    ])\n        .required(),\n    args: Joi.function(),\n    base: Joi.object().schema()\n        .when('type', { is: Joi.object().regex(), then: Joi.forbidden() }),\n    coerce: [\n        Joi.function().maxArity(3),\n        Joi.object({ method: Joi.function().maxArity(3).required(), from: Joi.array().items(Joi.string()).single() })\n    ],\n    flags: Joi.object().pattern(internals.nameRx, Joi.object({\n        setter: Joi.string(),\n        default: Joi.any()\n    })),\n    manifest: {\n        build: Joi.function().arity(2)\n    },\n    messages: [Joi.object(), Joi.string()],\n    modifiers: Joi.object().pattern(internals.nameRx, Joi.function().minArity(1).maxArity(2)),\n    overrides: Joi.object().pattern(internals.nameRx, Joi.function()),\n    prepare: Joi.function().maxArity(3),\n    rebuild: Joi.function().arity(1),\n    rules: Joi.object().pattern(internals.nameRx, internals.rule),\n    terms: Joi.object().pattern(internals.nameRx, Joi.object({\n        init: Joi.array().allow(null).required(),\n        manifest: Joi.object().pattern(/.+/, [\n            Joi.valid('schema', 'single'),\n            Joi.object({\n                mapped: Joi.object({\n                    from: Joi.string().required(),\n                    to: Joi.string().required()\n                })\n                    .required()\n            })\n        ])\n    })),\n    validate: Joi.function().maxArity(3)\n})\n    .strict();\n\n\nexports.extensions = Joi.array().items(Joi.object(), Joi.function().arity(1)).strict();\n\n\n// Manifest\n\ninternals.desc = {\n\n    buffer: Joi.object({\n        buffer: Joi.string()\n    }),\n\n    func: Joi.object({\n        function: Joi.function().required(),\n        options: {\n            literal: true\n        }\n    }),\n\n    override: Joi.object({\n        override: true\n    }),\n\n    ref: Joi.object({\n        ref: Joi.object({\n            type: Joi.valid('value', 'global', 'local'),\n            path: Joi.array().required(),\n            separator: Joi.string().length(1).allow(false),\n            ancestor: Joi.number().min(0).integer().allow('root'),\n            map: Joi.array().items(Joi.array().length(2)).min(1),\n            adjust: Joi.function(),\n            iterables: Joi.boolean(),\n            in: Joi.boolean()\n        })\n            .required()\n    }),\n\n    regex: Joi.object({\n        regex: Joi.string().min(3)\n    }),\n\n    special: Joi.object({\n        special: Joi.valid('deep').required()\n    }),\n\n    template: Joi.object({\n        template: Joi.string().required(),\n        options: Joi.object()\n    }),\n\n    value: Joi.object({\n        value: Joi.alternatives([Joi.object(), Joi.array()]).required()\n    })\n};\n\n\ninternals.desc.entity = Joi.alternatives([\n    Joi.array().items(Joi.link('...')),\n    Joi.boolean(),\n    Joi.function(),\n    Joi.number(),\n    Joi.string(),\n    internals.desc.buffer,\n    internals.desc.func,\n    internals.desc.ref,\n    internals.desc.regex,\n    internals.desc.special,\n    internals.desc.template,\n    internals.desc.value,\n    Joi.link('/')\n]);\n\n\ninternals.desc.values = Joi.array()\n    .items(\n        null,\n        Joi.boolean(),\n        Joi.function(),\n        Joi.number().allow(Infinity, -Infinity),\n        Joi.string().allow(''),\n        Joi.symbol(),\n        internals.desc.buffer,\n        internals.desc.func,\n        internals.desc.override,\n        internals.desc.ref,\n        internals.desc.regex,\n        internals.desc.template,\n        internals.desc.value\n    );\n\n\ninternals.desc.messages = Joi.object()\n    .pattern(/.+/, [\n        Joi.string(),\n        internals.desc.template,\n        Joi.object().pattern(/.+/, [Joi.string(), internals.desc.template])\n    ]);\n\n\nexports.description = Joi.object({\n    type: Joi.string().required(),\n    flags: Joi.object({\n        cast: Joi.string(),\n        default: Joi.any(),\n        description: Joi.string(),\n        empty: Joi.link('/'),\n        failover: internals.desc.entity,\n        id: Joi.string(),\n        label: Joi.string(),\n        only: true,\n        presence: ['optional', 'required', 'forbidden'],\n        result: ['raw', 'strip'],\n        strip: Joi.boolean(),\n        unit: Joi.string()\n    })\n        .unknown(),\n    preferences: {\n        allowUnknown: Joi.boolean(),\n        abortEarly: Joi.boolean(),\n        cache: Joi.boolean(),\n        convert: Joi.boolean(),\n        dateFormat: ['date', 'iso', 'string', 'time', 'utc'],\n        errors: {\n            escapeHtml: Joi.boolean(),\n            label: ['path', 'key'],\n            language: [\n                Joi.string(),\n                internals.desc.ref\n            ],\n            wrap: {\n                label: internals.wrap,\n                array: internals.wrap\n            }\n        },\n        externals: Joi.boolean(),\n        messages: internals.desc.messages,\n        noDefaults: Joi.boolean(),\n        nonEnumerables: Joi.boolean(),\n        presence: ['required', 'optional', 'forbidden'],\n        skipFunctions: Joi.boolean(),\n        stripUnknown: Joi.object({\n            arrays: Joi.boolean(),\n            objects: Joi.boolean()\n        })\n            .or('arrays', 'objects')\n            .allow(true, false),\n        warnings: Joi.boolean()\n    },\n    allow: internals.desc.values,\n    invalid: internals.desc.values,\n    rules: Joi.array().min(1).items({\n        name: Joi.string().required(),\n        args: Joi.object().min(1),\n        keep: Joi.boolean(),\n        message: [\n            Joi.string(),\n            internals.desc.messages\n        ],\n        warn: Joi.boolean()\n    }),\n\n    // Terms\n\n    keys: Joi.object().pattern(/.*/, Joi.link('/')),\n    link: internals.desc.ref\n})\n    .pattern(/^[a-z]\\w*$/, Joi.any());\n","'use strict';\n\nconst Clone = require('@hapi/hoek/lib/clone');\nconst Reach = require('@hapi/hoek/lib/reach');\n\nconst Common = require('./common');\n\n\nconst internals = {\n    value: Symbol('value')\n};\n\n\nmodule.exports = internals.State = class {\n\n    constructor(path, ancestors, state) {\n\n        this.path = path;\n        this.ancestors = ancestors;                 // [parent, ..., root]\n\n        this.mainstay = state.mainstay;\n        this.schemas = state.schemas;               // [current, ..., root]\n        this.debug = null;\n    }\n\n    localize(path, ancestors = null, schema = null) {\n\n        const state = new internals.State(path, ancestors, this);\n\n        if (schema &&\n            state.schemas) {\n\n            state.schemas = [internals.schemas(schema), ...state.schemas];\n        }\n\n        return state;\n    }\n\n    nest(schema, debug) {\n\n        const state = new internals.State(this.path, this.ancestors, this);\n        state.schemas = state.schemas && [internals.schemas(schema), ...state.schemas];\n        state.debug = debug;\n        return state;\n    }\n\n    shadow(value, reason) {\n\n        this.mainstay.shadow = this.mainstay.shadow || new internals.Shadow();\n        this.mainstay.shadow.set(this.path, value, reason);\n    }\n\n    snapshot() {\n\n        if (this.mainstay.shadow) {\n            this._snapshot = Clone(this.mainstay.shadow.node(this.path));\n        }\n    }\n\n    restore() {\n\n        if (this.mainstay.shadow) {\n            this.mainstay.shadow.override(this.path, this._snapshot);\n            this._snapshot = undefined;\n        }\n    }\n};\n\n\ninternals.schemas = function (schema) {\n\n    if (Common.isSchema(schema)) {\n        return { schema };\n    }\n\n    return schema;\n};\n\n\ninternals.Shadow = class {\n\n    constructor() {\n\n        this._values = null;\n    }\n\n    set(path, value, reason) {\n\n        if (!path.length) {                                     // No need to store root value\n            return;\n        }\n\n        if (reason === 'strip' &&\n            typeof path[path.length - 1] === 'number') {        // Cannot store stripped array values (due to shift)\n\n            return;\n        }\n\n        this._values = this._values || new Map();\n\n        let node = this._values;\n        for (let i = 0; i < path.length; ++i) {\n            const segment = path[i];\n            let next = node.get(segment);\n            if (!next) {\n                next = new Map();\n                node.set(segment, next);\n            }\n\n            node = next;\n        }\n\n        node[internals.value] = value;\n    }\n\n    get(path) {\n\n        const node = this.node(path);\n        if (node) {\n            return node[internals.value];\n        }\n    }\n\n    node(path) {\n\n        if (!this._values) {\n            return;\n        }\n\n        return Reach(this._values, path, { iterables: true });\n    }\n\n    override(path, node) {\n\n        if (!this._values) {\n            return;\n        }\n\n        const parents = path.slice(0, -1);\n        const own = path[path.length - 1];\n        const parent = Reach(this._values, parents, { iterables: true });\n\n        if (node) {\n            parent.set(own, node);\n            return;\n        }\n\n        if (parent) {\n            parent.delete(own);\n        }\n    }\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\nconst EscapeHtml = require('@hapi/hoek/lib/escapeHtml');\nconst Formula = require('@hapi/formula');\n\nconst Common = require('./common');\nconst Errors = require('./errors');\nconst Ref = require('./ref');\n\n\nconst internals = {\n    symbol: Symbol('template'),\n\n    opens: new Array(1000).join('\\u0000'),\n    closes: new Array(1000).join('\\u0001'),\n\n    dateFormat: {\n        date: Date.prototype.toDateString,\n        iso: Date.prototype.toISOString,\n        string: Date.prototype.toString,\n        time: Date.prototype.toTimeString,\n        utc: Date.prototype.toUTCString\n    }\n};\n\n\nmodule.exports = exports = internals.Template = class {\n\n    constructor(source, options) {\n\n        Assert(typeof source === 'string', 'Template source must be a string');\n        Assert(!source.includes('\\u0000') && !source.includes('\\u0001'), 'Template source cannot contain reserved control characters');\n\n        this.source = source;\n        this.rendered = source;\n\n        this._template = null;\n        this._settings = Clone(options);\n\n        this._parse();\n    }\n\n    _parse() {\n\n        // 'text {raw} {{ref}} \\\\{{ignore}} {{ignore\\\\}} {{ignore {{ignore}'\n\n        if (!this.source.includes('{')) {\n            return;\n        }\n\n        // Encode escaped \\\\{{{{{\n\n        const encoded = internals.encode(this.source);\n\n        // Split on first { in each set\n\n        const parts = internals.split(encoded);\n\n        // Process parts\n\n        let refs = false;\n        const processed = [];\n        const head = parts.shift();\n        if (head) {\n            processed.push(head);\n        }\n\n        for (const part of parts) {\n            const raw = part[0] !== '{';\n            const ender = raw ? '}' : '}}';\n            const end = part.indexOf(ender);\n            if (end === -1 ||                               // Ignore non-matching closing\n                part[1] === '{') {                          // Ignore more than two {\n\n                processed.push(`{${internals.decode(part)}`);\n                continue;\n            }\n\n            const variable = part.slice(raw ? 0 : 1, end);\n            const dynamic = this._ref(internals.decode(variable), raw);\n            processed.push(dynamic);\n            if (typeof dynamic !== 'string') {\n                refs = true;\n            }\n\n            const rest = part.slice(end + ender.length);\n            if (rest) {\n                processed.push(internals.decode(rest));\n            }\n        }\n\n        if (!refs) {\n            this.rendered = processed.join('');\n            return;\n        }\n\n        this._template = processed;\n    }\n\n    static date(date, prefs) {\n\n        return internals.dateFormat[prefs.dateFormat].call(date);\n    }\n\n    describe(options = {}) {\n\n        if (!this._settings &&\n            options.compact) {\n\n            return this.source;\n        }\n\n        const desc = { template: this.source };\n        if (this._settings) {\n            desc.options = this._settings;\n        }\n\n        return desc;\n    }\n\n    static build(desc) {\n\n        return new internals.Template(desc.template, desc.options);\n    }\n\n    isDynamic() {\n\n        return !!this._template;\n    }\n\n    static isTemplate(template) {\n\n        return template ? !!template[Common.symbols.template] : false;\n    }\n\n    refs() {\n\n        if (!this._template) {\n            return;\n        }\n\n        const refs = [];\n        for (const part of this._template) {\n            if (typeof part !== 'string') {\n                refs.push(...part.refs);\n            }\n        }\n\n        return refs;\n    }\n\n    resolve(value, state, prefs, local) {\n\n        if (this._template &&\n            this._template.length === 1) {\n\n            return this._part(this._template[0], /* context -> [*/ value, state, prefs, local, {} /*] */);\n        }\n\n        return this.render(value, state, prefs, local);\n    }\n\n    _part(part, ...args) {\n\n        if (part.ref) {\n            return part.ref.resolve(...args);\n        }\n\n        return part.formula.evaluate(args);\n    }\n\n    render(value, state, prefs, local, options = {}) {\n\n        if (!this.isDynamic()) {\n            return this.rendered;\n        }\n\n        const parts = [];\n        for (const part of this._template) {\n            if (typeof part === 'string') {\n                parts.push(part);\n            }\n            else {\n                const rendered = this._part(part, /* context -> [*/ value, state, prefs, local, options /*] */);\n                const string = internals.stringify(rendered, prefs, options.errors);\n                if (string !== undefined) {\n                    const result = part.raw || (options.errors && options.errors.escapeHtml) === false ? string : EscapeHtml(string);\n                    const ends = part.ref && part.ref.type === 'local' && part.ref.key === 'label' && prefs.errors.wrap.label;\n                    parts.push(internals.wrap(result, ends));\n                }\n            }\n        }\n\n        return parts.join('');\n    }\n\n    _ref(content, raw) {\n\n        const refs = [];\n        const reference = (variable) => {\n\n            const ref = Ref.create(variable, this._settings);\n            refs.push(ref);\n            return (context) => ref.resolve(...context);\n        };\n\n        try {\n            var formula = new Formula.Parser(content, { reference, functions: internals.functions, constants: internals.constants });\n        }\n        catch (err) {\n            err.message = `Invalid template variable \"${content}\" fails due to: ${err.message}`;\n            throw err;\n        }\n\n        if (formula.single) {\n            if (formula.single.type === 'reference') {\n                return { ref: refs[0], raw, refs };\n            }\n\n            return internals.stringify(formula.single.value);\n        }\n\n        return { formula, raw, refs };\n    }\n\n    toString() {\n\n        return this.source;\n    }\n};\n\n\ninternals.Template.prototype[Common.symbols.template] = true;\ninternals.Template.prototype.isImmutable = true;                // Prevents Hoek from deep cloning schema objects\n\n\ninternals.encode = function (string) {\n\n    return string\n        .replace(/\\\\(\\{+)/g, ($0, $1) => {\n\n            return internals.opens.slice(0, $1.length);\n        })\n        .replace(/\\\\(\\}+)/g, ($0, $1) => {\n\n            return internals.closes.slice(0, $1.length);\n        });\n};\n\n\ninternals.decode = function (string) {\n\n    return string\n        .replace(/\\u0000/g, '{')\n        .replace(/\\u0001/g, '}');\n};\n\n\ninternals.split = function (string) {\n\n    const parts = [];\n    let current = '';\n\n    for (let i = 0; i < string.length; ++i) {\n        const char = string[i];\n\n        if (char === '{') {\n            let next = '';\n            while (i + 1 < string.length &&\n                string[i + 1] === '{') {\n\n                next += '{';\n                ++i;\n            }\n\n            parts.push(current);\n            current = next;\n        }\n        else {\n            current += char;\n        }\n    }\n\n    parts.push(current);\n    return parts;\n};\n\n\ninternals.wrap = function (value, ends) {\n\n    if (!ends) {\n        return value;\n    }\n\n    if (ends.length === 1) {\n        return `${ends}${value}${ends}`;\n    }\n\n    return `${ends[0]}${value}${ends[1]}`;\n};\n\n\ninternals.stringify = function (value, prefs, options) {\n\n    const type = typeof value;\n\n    if (value === null) {\n        return 'null';\n    }\n\n    if (type === 'string') {\n        return value;\n    }\n\n    if (type === 'number' ||\n        type === 'function' ||\n        type === 'symbol') {\n\n        return value.toString();\n    }\n\n    if (type !== 'object') {\n        return JSON.stringify(value);\n    }\n\n    if (value instanceof Date) {\n        return internals.Template.date(value, prefs);\n    }\n\n    if (value instanceof Map) {\n        const pairs = [];\n        for (const [key, sym] of value.entries()) {\n            pairs.push(`${key.toString()} -> ${sym.toString()}`);\n        }\n\n        value = pairs;\n    }\n\n    if (!Array.isArray(value)) {\n        return value.toString();\n    }\n\n    let partial = '';\n    for (const item of value) {\n        partial = partial + (partial.length ? ', ' : '') + internals.stringify(item, prefs, options);\n    }\n\n    return internals.wrap(partial, prefs.errors.wrap.array);\n};\n\n\ninternals.constants = {\n\n    true: true,\n    false: false,\n    null: null,\n\n    second: 1000,\n    minute: 60 * 1000,\n    hour: 60 * 60 * 1000,\n    day: 24 * 60 * 60 * 1000\n};\n\n\ninternals.functions = {\n\n    if(condition, then, otherwise) {\n\n        return condition ? then : otherwise;\n    },\n\n    msg(code) {\n\n        const [value, state, prefs, local, options] = this;\n        const messages = options.messages;\n        if (!messages) {\n            return '';\n        }\n\n        const template = Errors.template(value, messages[0], code, state, prefs) || Errors.template(value, messages[1], code, state, prefs);\n        if (!template) {\n            return '';\n        }\n\n        return template.render(value, state, prefs, local, options);\n    },\n\n    number(value) {\n\n        if (typeof value === 'number') {\n            return value;\n        }\n\n        if (typeof value === 'string') {\n            return parseFloat(value);\n        }\n\n        if (typeof value === 'boolean') {\n            return value ? 1 : 0;\n        }\n\n        if (value instanceof Date) {\n            return value.getTime();\n        }\n\n        return null;\n    }\n};\n","'use strict';\n\nconst DeepEqual = require('@hapi/hoek/lib/deepEqual');\nconst Pinpoint = require('@hapi/pinpoint');\n\nconst Errors = require('./errors');\n\n\nconst internals = {\n    codes: {\n        error: 1,\n        pass: 2,\n        full: 3\n    },\n    labels: {\n        0: 'never used',\n        1: 'always error',\n        2: 'always pass'\n    }\n};\n\n\nexports.setup = function (root) {\n\n    const trace = function () {\n\n        root._tracer = root._tracer || new internals.Tracer();\n        return root._tracer;\n    };\n\n    root.trace = trace;\n    root[Symbol.for('@hapi/lab/coverage/initialize')] = trace;\n\n    root.untrace = () => {\n\n        root._tracer = null;\n    };\n};\n\n\nexports.location = function (schema) {\n\n    return schema.$_setFlag('_tracerLocation', Pinpoint.location(2));                       // base.tracer(), caller\n};\n\n\ninternals.Tracer = class {\n\n    constructor() {\n\n        this.name = 'Joi';\n        this._schemas = new Map();\n    }\n\n    _register(schema) {\n\n        const existing = this._schemas.get(schema);\n        if (existing) {\n            return existing.store;\n        }\n\n        const store = new internals.Store(schema);\n        const { filename, line } = schema._flags._tracerLocation || Pinpoint.location(5);   // internals.tracer(), internals.entry(), exports.entry(), validate(), caller\n        this._schemas.set(schema, { filename, line, store });\n        return store;\n    }\n\n    _combine(merged, sources) {\n\n        for (const { store } of this._schemas.values()) {\n            store._combine(merged, sources);\n        }\n    }\n\n    report(file) {\n\n        const coverage = [];\n\n        // Process each registered schema\n\n        for (const { filename, line, store } of this._schemas.values()) {\n            if (file &&\n                file !== filename) {\n\n                continue;\n            }\n\n            // Process sub schemas of the registered root\n\n            const missing = [];\n            const skipped = [];\n\n            for (const [schema, log] of store._sources.entries()) {\n\n                // Check if sub schema parent skipped\n\n                if (internals.sub(log.paths, skipped)) {\n                    continue;\n                }\n\n                // Check if sub schema reached\n\n                if (!log.entry) {\n                    missing.push({\n                        status: 'never reached',\n                        paths: [...log.paths]\n                    });\n\n                    skipped.push(...log.paths);\n                    continue;\n                }\n\n                // Check values\n\n                for (const type of ['valid', 'invalid']) {\n                    const set = schema[`_${type}s`];\n                    if (!set) {\n                        continue;\n                    }\n\n                    const values = new Set(set._values);\n                    const refs = new Set(set._refs);\n                    for (const { value, ref } of log[type]) {\n                        values.delete(value);\n                        refs.delete(ref);\n                    }\n\n                    if (values.size ||\n                        refs.size) {\n\n                        missing.push({\n                            status: [...values, ...[...refs].map((ref) => ref.display)],\n                            rule: `${type}s`\n                        });\n                    }\n                }\n\n                // Check rules status\n\n                const rules = schema._rules.map((rule) => rule.name);\n                for (const type of ['default', 'failover']) {\n                    if (schema._flags[type] !== undefined) {\n                        rules.push(type);\n                    }\n                }\n\n                for (const name of rules) {\n                    const status = internals.labels[log.rule[name] || 0];\n                    if (status) {\n                        const report = { rule: name, status };\n                        if (log.paths.size) {\n                            report.paths = [...log.paths];\n                        }\n\n                        missing.push(report);\n                    }\n                }\n            }\n\n            if (missing.length) {\n                coverage.push({\n                    filename,\n                    line,\n                    missing,\n                    severity: 'error',\n                    message: `Schema missing tests for ${missing.map(internals.message).join(', ')}`\n                });\n            }\n        }\n\n        return coverage.length ? coverage : null;\n    }\n};\n\n\ninternals.Store = class {\n\n    constructor(schema) {\n\n        this.active = true;\n        this._sources = new Map();          // schema -> { paths, entry, rule, valid, invalid }\n        this._combos = new Map();           // merged -> [sources]\n        this._scan(schema);\n    }\n\n    debug(state, source, name, result) {\n\n        state.mainstay.debug && state.mainstay.debug.push({ type: source, name, result, path: state.path });\n    }\n\n    entry(schema, state) {\n\n        internals.debug(state, { type: 'entry' });\n\n        this._record(schema, (log) => {\n\n            log.entry = true;\n        });\n    }\n\n    filter(schema, state, source, value) {\n\n        internals.debug(state, { type: source, ...value });\n\n        this._record(schema, (log) => {\n\n            log[source].add(value);\n        });\n    }\n\n    log(schema, state, source, name, result) {\n\n        internals.debug(state, { type: source, name, result: result === 'full' ? 'pass' : result });\n\n        this._record(schema, (log) => {\n\n            log[source][name] = log[source][name] || 0;\n            log[source][name] |= internals.codes[result];\n        });\n    }\n\n    resolve(state, ref, to) {\n\n        if (!state.mainstay.debug) {\n            return;\n        }\n\n        const log = { type: 'resolve', ref: ref.display, to, path: state.path };\n        state.mainstay.debug.push(log);\n    }\n\n    value(state, by, from, to, name) {\n\n        if (!state.mainstay.debug ||\n            DeepEqual(from, to)) {\n\n            return;\n        }\n\n        const log = { type: 'value', by, from, to, path: state.path };\n        if (name) {\n            log.name = name;\n        }\n\n        state.mainstay.debug.push(log);\n    }\n\n    _record(schema, each) {\n\n        const log = this._sources.get(schema);\n        if (log) {\n            each(log);\n            return;\n        }\n\n        const sources = this._combos.get(schema);\n        for (const source of sources) {\n            this._record(source, each);\n        }\n    }\n\n    _scan(schema, _path) {\n\n        const path = _path || [];\n\n        let log = this._sources.get(schema);\n        if (!log) {\n            log = {\n                paths: new Set(),\n                entry: false,\n                rule: {},\n                valid: new Set(),\n                invalid: new Set()\n            };\n\n            this._sources.set(schema, log);\n        }\n\n        if (path.length) {\n            log.paths.add(path);\n        }\n\n        const each = (sub, source) => {\n\n            const subId = internals.id(sub, source);\n            this._scan(sub, path.concat(subId));\n        };\n\n        schema.$_modify({ each, ref: false });\n    }\n\n    _combine(merged, sources) {\n\n        this._combos.set(merged, sources);\n    }\n};\n\n\ninternals.message = function (item) {\n\n    const path = item.paths ? Errors.path(item.paths[0]) + (item.rule ? ':' : '') : '';\n    return `${path}${item.rule || ''} (${item.status})`;\n};\n\n\ninternals.id = function (schema, { source, name, path, key }) {\n\n    if (schema._flags.id) {\n        return schema._flags.id;\n    }\n\n    if (key) {\n        return key;\n    }\n\n    name = `@${name}`;\n\n    if (source === 'terms') {\n        return [name, path[Math.min(path.length - 1, 1)]];\n    }\n\n    return name;\n};\n\n\ninternals.sub = function (paths, skipped) {\n\n    for (const path of paths) {\n        for (const skip of skipped) {\n            if (DeepEqual(path.slice(0, skip.length), skip)) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\n\ninternals.debug = function (state, event) {\n\n    if (state.mainstay.debug) {\n        event.path = state.debug ? [...state.path, state.debug] : state.path;\n        state.mainstay.debug.push(event);\n    }\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Any = require('./any');\nconst Common = require('../common');\nconst Compile = require('../compile');\nconst Errors = require('../errors');\nconst Ref = require('../ref');\n\n\nconst internals = {};\n\n\nmodule.exports = Any.extend({\n\n    type: 'alternatives',\n\n    flags: {\n\n        match: { default: 'any' }                 // 'any', 'one', 'all'\n    },\n\n    terms: {\n\n        matches: { init: [], register: Ref.toSibling }\n    },\n\n    args(schema, ...schemas) {\n\n        if (schemas.length === 1) {\n            if (Array.isArray(schemas[0])) {\n                return schema.try(...schemas[0]);\n            }\n        }\n\n        return schema.try(...schemas);\n    },\n\n    validate(value, helpers) {\n\n        const { schema, error, state, prefs } = helpers;\n\n        // Match all or one\n\n        if (schema._flags.match) {\n            let hits = 0;\n            let matched;\n\n            for (let i = 0; i < schema.$_terms.matches.length; ++i) {\n                const item = schema.$_terms.matches[i];\n                const localState = state.nest(item.schema, `match.${i}`);\n                localState.snapshot();\n\n                const result = item.schema.$_validate(value, localState, prefs);\n                if (!result.errors) {\n                    ++hits;\n                    matched = result.value;\n                }\n                else {\n                    localState.restore();\n                }\n            }\n\n            if (!hits) {\n                return { errors: error('alternatives.any') };\n            }\n\n            if (schema._flags.match === 'one') {\n                return hits === 1 ? { value: matched } : { errors: error('alternatives.one') };\n            }\n\n            return hits === schema.$_terms.matches.length ? { value } : { errors: error('alternatives.all') };\n        }\n\n        // Match any\n\n        const errors = [];\n        for (let i = 0; i < schema.$_terms.matches.length; ++i) {\n            const item = schema.$_terms.matches[i];\n\n            // Try\n\n            if (item.schema) {\n                const localState = state.nest(item.schema, `match.${i}`);\n                localState.snapshot();\n\n                const result = item.schema.$_validate(value, localState, prefs);\n                if (!result.errors) {\n                    return result;\n                }\n\n                localState.restore();\n                errors.push({ schema: item.schema, reports: result.errors });\n                continue;\n            }\n\n            // Conditional\n\n            const input = item.ref ? item.ref.resolve(value, state, prefs) : value;\n            const tests = item.is ? [item] : item.switch;\n\n            for (let j = 0; j < tests.length; ++j) {\n                const test = tests[j];\n                const { is, then, otherwise } = test;\n\n                const id = `match.${i}${item.switch ? '.' + j : ''}`;\n                if (!is.$_match(input, state.nest(is, `${id}.is`), prefs)) {\n                    if (otherwise) {\n                        return otherwise.$_validate(value, state.nest(otherwise, `${id}.otherwise`), prefs);\n                    }\n                }\n                else if (then) {\n                    return then.$_validate(value, state.nest(then, `${id}.then`), prefs);\n                }\n            }\n        }\n\n        return internals.errors(errors, helpers);\n    },\n\n    rules: {\n\n        conditional: {\n            method(condition, options) {\n\n                Assert(!this._flags._endedSwitch, 'Unreachable condition');\n                Assert(!this._flags.match, 'Cannot combine match mode', this._flags.match, 'with conditional rule');\n                Assert(options.break === undefined, 'Cannot use break option with alternatives conditional');\n\n                const obj = this.clone();\n\n                const match = Compile.when(obj, condition, options);\n                const conditions = match.is ? [match] : match.switch;\n                for (const item of conditions) {\n                    if (item.then &&\n                        item.otherwise) {\n\n                        obj.$_setFlag('_endedSwitch', true, { clone: false });\n                        break;\n                    }\n                }\n\n                obj.$_terms.matches.push(match);\n                return obj.$_mutateRebuild();\n            }\n        },\n\n        match: {\n            method(mode) {\n\n                Assert(['any', 'one', 'all'].includes(mode), 'Invalid alternatives match mode', mode);\n\n                if (mode !== 'any') {\n                    for (const match of this.$_terms.matches) {\n                        Assert(match.schema, 'Cannot combine match mode', mode, 'with conditional rules');\n                    }\n                }\n\n                return this.$_setFlag('match', mode);\n            }\n        },\n\n        try: {\n            method(...schemas) {\n\n                Assert(schemas.length, 'Missing alternative schemas');\n                Common.verifyFlat(schemas, 'try');\n\n                Assert(!this._flags._endedSwitch, 'Unreachable condition');\n\n                const obj = this.clone();\n                for (const schema of schemas) {\n                    obj.$_terms.matches.push({ schema: obj.$_compile(schema) });\n                }\n\n                return obj.$_mutateRebuild();\n            }\n        }\n    },\n\n    overrides: {\n\n        label(name) {\n\n            const obj = this.$_super.label(name);\n            const each = (item, source) => (source.path[0] !== 'is' ? item.label(name) : undefined);\n            return obj.$_modify({ each, ref: false });\n        }\n    },\n\n    rebuild(schema) {\n\n        // Flag when an alternative type is an array\n\n        const each = (item) => {\n\n            if (Common.isSchema(item) &&\n                item.type === 'array') {\n\n                schema.$_setFlag('_arrayItems', true, { clone: false });\n            }\n        };\n\n        schema.$_modify({ each });\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            if (desc.matches) {\n                for (const match of desc.matches) {\n                    const { schema, ref, is, not, then, otherwise } = match;\n                    if (schema) {\n                        obj = obj.try(schema);\n                    }\n                    else if (ref) {\n                        obj = obj.conditional(ref, { is, then, not, otherwise, switch: match.switch });\n                    }\n                    else {\n                        obj = obj.conditional(is, { then, otherwise });\n                    }\n                }\n            }\n\n            return obj;\n        }\n    },\n\n    messages: {\n        'alternatives.all': '{{#label}} does not match all of the required types',\n        'alternatives.any': '{{#label}} does not match any of the allowed types',\n        'alternatives.match': '{{#label}} does not match any of the allowed types',\n        'alternatives.one': '{{#label}} matches more than one allowed type',\n        'alternatives.types': '{{#label}} must be one of {{#types}}'\n    }\n});\n\n\n// Helpers\n\ninternals.errors = function (failures, { error, state }) {\n\n    // Nothing matched due to type criteria rules\n\n    if (!failures.length) {\n        return { errors: error('alternatives.any') };\n    }\n\n    // Single error\n\n    if (failures.length === 1) {\n        return { errors: failures[0].reports };\n    }\n\n    // Analyze reasons\n\n    const valids = new Set();\n    const complex = [];\n\n    for (const { reports, schema } of failures) {\n\n        // Multiple errors (!abortEarly)\n\n        if (reports.length > 1) {\n            return internals.unmatched(failures, error);\n        }\n\n        // Custom error\n\n        const report = reports[0];\n        if (report instanceof Errors.Report === false) {\n            return internals.unmatched(failures, error);\n        }\n\n        // Internal object or array error\n\n        if (report.state.path.length !== state.path.length) {\n            complex.push({ type: schema.type, report });\n            continue;\n        }\n\n        // Valids\n\n        if (report.code === 'any.only') {\n            for (const valid of report.local.valids) {\n                valids.add(valid);\n            }\n\n            continue;\n        }\n\n        // Base type\n\n        const [type, code] = report.code.split('.');\n        if (code !== 'base') {\n            complex.push({ type: schema.type, report });\n            continue;\n        }\n\n        valids.add(type);\n    }\n\n    // All errors are base types or valids\n\n    if (!complex.length) {\n        return { errors: error('alternatives.types', { types: [...valids] }) };\n    }\n\n    // Single complex error\n\n    if (complex.length === 1) {\n        return { errors: complex[0].report };\n    }\n\n    return internals.unmatched(failures, error);\n};\n\n\ninternals.unmatched = function (failures, error) {\n\n    const errors = [];\n    for (const failure of failures) {\n        errors.push(...failure.reports);\n    }\n\n    return { errors: error('alternatives.match', Errors.details(errors, { override: false })) };\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Base = require('../base');\nconst Common = require('../common');\nconst Messages = require('../messages');\n\n\nconst internals = {};\n\n\nmodule.exports = Base.extend({\n\n    type: 'any',\n\n    flags: {\n\n        only: { default: false }\n    },\n\n    terms: {\n\n        alterations: { init: null },\n        examples: { init: null },\n        externals: { init: null },\n        metas: { init: [] },\n        notes: { init: [] },\n        shared: { init: null },\n        tags: { init: [] },\n        whens: { init: null }\n    },\n\n    rules: {\n\n        custom: {\n            method(method, description) {\n\n                Assert(typeof method === 'function', 'Method must be a function');\n                Assert(description === undefined || description && typeof description === 'string', 'Description must be a non-empty string');\n\n                return this.$_addRule({ name: 'custom', args: { method, description } });\n            },\n            validate(value, helpers, { method }) {\n\n                try {\n                    return method(value, helpers);\n                }\n                catch (err) {\n                    return helpers.error('any.custom', { error: err });\n                }\n            },\n            args: ['method', 'description'],\n            multi: true\n        },\n\n        messages: {\n            method(messages) {\n\n                return this.prefs({ messages });\n            }\n        },\n\n        shared: {\n            method(schema) {\n\n                Assert(Common.isSchema(schema) && schema._flags.id, 'Schema must be a schema with an id');\n\n                const obj = this.clone();\n                obj.$_terms.shared = obj.$_terms.shared || [];\n                obj.$_terms.shared.push(schema);\n                obj.$_mutateRegister(schema);\n                return obj;\n            }\n        },\n\n        warning: {\n            method(code, local) {\n\n                Assert(code && typeof code === 'string', 'Invalid warning code');\n\n                return this.$_addRule({ name: 'warning', args: { code, local }, warn: true });\n            },\n            validate(value, helpers, { code, local }) {\n\n                return helpers.error(code, local);\n            },\n            args: ['code', 'local'],\n            multi: true\n        }\n    },\n\n    modifiers: {\n\n        keep(rule, enabled = true) {\n\n            rule.keep = enabled;\n        },\n\n        message(rule, message) {\n\n            rule.message = Messages.compile(message);\n        },\n\n        warn(rule, enabled = true) {\n\n            rule.warn = enabled;\n        }\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            for (const key in desc) {\n                const values = desc[key];\n\n                if (['examples', 'externals', 'metas', 'notes', 'tags'].includes(key)) {\n                    for (const value of values) {\n                        obj = obj[key.slice(0, -1)](value);\n                    }\n\n                    continue;\n                }\n\n                if (key === 'alterations') {\n                    const alter = {};\n                    for (const { target, adjuster } of values) {\n                        alter[target] = adjuster;\n                    }\n\n                    obj = obj.alter(alter);\n                    continue;\n                }\n\n                if (key === 'whens') {\n                    for (const value of values) {\n                        const { ref, is, not, then, otherwise, concat } = value;\n                        if (concat) {\n                            obj = obj.concat(concat);\n                        }\n                        else if (ref) {\n                            obj = obj.when(ref, { is, not, then, otherwise, switch: value.switch, break: value.break });\n                        }\n                        else {\n                            obj = obj.when(is, { then, otherwise, break: value.break });\n                        }\n                    }\n\n                    continue;\n                }\n\n                if (key === 'shared') {\n                    for (const value of values) {\n                        obj = obj.shared(value);\n                    }\n                }\n            }\n\n            return obj;\n        }\n    },\n\n    messages: {\n        'any.custom': '{{#label}} failed custom validation because {{#error.message}}',\n        'any.default': '{{#label}} threw an error when running default method',\n        'any.failover': '{{#label}} threw an error when running failover method',\n        'any.invalid': '{{#label}} contains an invalid value',\n        'any.only': '{{#label}} must be {if(#valids.length == 1, \"\", \"one of \")}{{#valids}}',\n        'any.ref': '{{#label}} {{#arg}} references \"{{#ref}}\" which {{#reason}}',\n        'any.required': '{{#label}} is required',\n        'any.unknown': '{{#label}} is not allowed'\n    }\n});\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst DeepEqual = require('@hapi/hoek/lib/deepEqual');\nconst Reach = require('@hapi/hoek/lib/reach');\n\nconst Any = require('./any');\nconst Common = require('../common');\nconst Compile = require('../compile');\n\n\nconst internals = {};\n\n\nmodule.exports = Any.extend({\n\n    type: 'array',\n\n    flags: {\n\n        single: { default: false },\n        sparse: { default: false }\n    },\n\n    terms: {\n\n        items: { init: [], manifest: 'schema' },\n        ordered: { init: [], manifest: 'schema' },\n\n        _exclusions: { init: [] },\n        _inclusions: { init: [] },\n        _requireds: { init: [] }\n    },\n\n    coerce: {\n        from: 'object',\n        method(value, { schema, state, prefs }) {\n\n            if (!Array.isArray(value)) {\n                return;\n            }\n\n            const sort = schema.$_getRule('sort');\n            if (!sort) {\n                return;\n            }\n\n            return internals.sort(schema, value, sort.args.options, state, prefs);\n        }\n    },\n\n    validate(value, { schema, error }) {\n\n        if (!Array.isArray(value)) {\n            if (schema._flags.single) {\n                const single = [value];\n                single[Common.symbols.arraySingle] = true;\n                return { value: single };\n            }\n\n            return { errors: error('array.base') };\n        }\n\n        if (!schema.$_getRule('items') &&\n            !schema.$_terms.externals) {\n\n            return;\n        }\n\n        return { value: value.slice() };        // Clone the array so that we don't modify the original\n    },\n\n    rules: {\n\n        has: {\n            method(schema) {\n\n                schema = this.$_compile(schema, { appendPath: true });\n                const obj = this.$_addRule({ name: 'has', args: { schema } });\n                obj.$_mutateRegister(schema);\n                return obj;\n            },\n            validate(value, { state, prefs, error }, { schema: has }) {\n\n                const ancestors = [value, ...state.ancestors];\n                for (let i = 0; i < value.length; ++i) {\n                    const localState = state.localize([...state.path, i], ancestors, has);\n                    if (has.$_match(value[i], localState, prefs)) {\n                        return value;\n                    }\n                }\n\n                const patternLabel = has._flags.label;\n                if (patternLabel) {\n                    return error('array.hasKnown', { patternLabel });\n                }\n\n                return error('array.hasUnknown', null);\n            },\n            multi: true\n        },\n\n        items: {\n            method(...schemas) {\n\n                Common.verifyFlat(schemas, 'items');\n\n                const obj = this.$_addRule('items');\n\n                for (let i = 0; i < schemas.length; ++i) {\n                    const type = Common.tryWithPath(() => this.$_compile(schemas[i]), i, { append: true });\n                    obj.$_terms.items.push(type);\n                }\n\n                return obj.$_mutateRebuild();\n            },\n            validate(value, { schema, error, state, prefs }) {\n\n                const requireds = schema.$_terms._requireds.slice();\n                const ordereds = schema.$_terms.ordered.slice();\n                const inclusions = [...schema.$_terms._inclusions, ...requireds];\n\n                const wasArray = !value[Common.symbols.arraySingle];\n                delete value[Common.symbols.arraySingle];\n\n                const errors = [];\n                let il = value.length;\n                for (let i = 0; i < il; ++i) {\n                    const item = value[i];\n\n                    let errored = false;\n                    let isValid = false;\n\n                    const key = wasArray ? i : new Number(i);       // eslint-disable-line no-new-wrappers\n                    const path = [...state.path, key];\n\n                    // Sparse\n\n                    if (!schema._flags.sparse &&\n                        item === undefined) {\n\n                        errors.push(error('array.sparse', { key, path, pos: i, value: undefined }, state.localize(path)));\n                        if (prefs.abortEarly) {\n                            return errors;\n                        }\n\n                        ordereds.shift();\n                        continue;\n                    }\n\n                    // Exclusions\n\n                    const ancestors = [value, ...state.ancestors];\n\n                    for (const exclusion of schema.$_terms._exclusions) {\n                        if (!exclusion.$_match(item, state.localize(path, ancestors, exclusion), prefs, { presence: 'ignore' })) {\n                            continue;\n                        }\n\n                        errors.push(error('array.excludes', { pos: i, value: item }, state.localize(path)));\n                        if (prefs.abortEarly) {\n                            return errors;\n                        }\n\n                        errored = true;\n                        ordereds.shift();\n                        break;\n                    }\n\n                    if (errored) {\n                        continue;\n                    }\n\n                    // Ordered\n\n                    if (schema.$_terms.ordered.length) {\n                        if (ordereds.length) {\n                            const ordered = ordereds.shift();\n                            const res = ordered.$_validate(item, state.localize(path, ancestors, ordered), prefs);\n                            if (!res.errors) {\n                                if (ordered._flags.result === 'strip') {\n                                    internals.fastSplice(value, i);\n                                    --i;\n                                    --il;\n                                }\n                                else if (!schema._flags.sparse && res.value === undefined) {\n                                    errors.push(error('array.sparse', { key, path, pos: i, value: undefined }, state.localize(path)));\n                                    if (prefs.abortEarly) {\n                                        return errors;\n                                    }\n\n                                    continue;\n                                }\n                                else {\n                                    value[i] = res.value;\n                                }\n                            }\n                            else {\n                                errors.push(...res.errors);\n                                if (prefs.abortEarly) {\n                                    return errors;\n                                }\n                            }\n\n                            continue;\n                        }\n                        else if (!schema.$_terms.items.length) {\n                            errors.push(error('array.orderedLength', { pos: i, limit: schema.$_terms.ordered.length }));\n                            if (prefs.abortEarly) {\n                                return errors;\n                            }\n\n                            break;      // No reason to continue since there are no other rules to validate other than array.orderedLength\n                        }\n                    }\n\n                    // Requireds\n\n                    const requiredChecks = [];\n                    let jl = requireds.length;\n                    for (let j = 0; j < jl; ++j) {\n                        const localState = state.localize(path, ancestors, requireds[j]);\n                        localState.snapshot();\n\n                        const res = requireds[j].$_validate(item, localState, prefs);\n                        requiredChecks[j] = res;\n\n                        if (!res.errors) {\n                            value[i] = res.value;\n                            isValid = true;\n                            internals.fastSplice(requireds, j);\n                            --j;\n                            --jl;\n\n                            if (!schema._flags.sparse &&\n                                res.value === undefined) {\n\n                                errors.push(error('array.sparse', { key, path, pos: i, value: undefined }, state.localize(path)));\n                                if (prefs.abortEarly) {\n                                    return errors;\n                                }\n                            }\n\n                            break;\n                        }\n\n                        localState.restore();\n                    }\n\n                    if (isValid) {\n                        continue;\n                    }\n\n                    // Inclusions\n\n                    const stripUnknown = prefs.stripUnknown && !!prefs.stripUnknown.arrays || false;\n\n                    jl = inclusions.length;\n                    for (const inclusion of inclusions) {\n\n                        // Avoid re-running requireds that already didn't match in the previous loop\n\n                        let res;\n                        const previousCheck = requireds.indexOf(inclusion);\n                        if (previousCheck !== -1) {\n                            res = requiredChecks[previousCheck];\n                        }\n                        else {\n                            const localState = state.localize(path, ancestors, inclusion);\n                            localState.snapshot();\n\n                            res = inclusion.$_validate(item, localState, prefs);\n                            if (!res.errors) {\n                                if (inclusion._flags.result === 'strip') {\n                                    internals.fastSplice(value, i);\n                                    --i;\n                                    --il;\n                                }\n                                else if (!schema._flags.sparse &&\n                                    res.value === undefined) {\n\n                                    errors.push(error('array.sparse', { key, path, pos: i, value: undefined }, state.localize(path)));\n                                    errored = true;\n                                }\n                                else {\n                                    value[i] = res.value;\n                                }\n\n                                isValid = true;\n                                break;\n                            }\n\n                            localState.restore();\n                        }\n\n                        // Return the actual error if only one inclusion defined\n\n                        if (jl === 1) {\n                            if (stripUnknown) {\n                                internals.fastSplice(value, i);\n                                --i;\n                                --il;\n                                isValid = true;\n                                break;\n                            }\n\n                            errors.push(...res.errors);\n                            if (prefs.abortEarly) {\n                                return errors;\n                            }\n\n                            errored = true;\n                            break;\n                        }\n                    }\n\n                    if (errored) {\n                        continue;\n                    }\n\n                    if (schema.$_terms._inclusions.length &&\n                        !isValid) {\n\n                        if (stripUnknown) {\n                            internals.fastSplice(value, i);\n                            --i;\n                            --il;\n                            continue;\n                        }\n\n                        errors.push(error('array.includes', { pos: i, value: item }, state.localize(path)));\n                        if (prefs.abortEarly) {\n                            return errors;\n                        }\n                    }\n                }\n\n                if (requireds.length) {\n                    internals.fillMissedErrors(schema, errors, requireds, value, state, prefs);\n                }\n\n                if (ordereds.length) {\n                    internals.fillOrderedErrors(schema, errors, ordereds, value, state, prefs);\n                }\n\n                return errors.length ? errors : value;\n            },\n\n            priority: true,\n            manifest: false\n        },\n\n        length: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'length', args: { limit }, operator: '=' });\n            },\n            validate(value, helpers, { limit }, { name, operator, args }) {\n\n                if (Common.compare(value.length, limit, operator)) {\n                    return value;\n                }\n\n                return helpers.error('array.' + name, { limit: args.limit, value });\n            },\n            args: [\n                {\n                    name: 'limit',\n                    ref: true,\n                    assert: Common.limit,\n                    message: 'must be a positive integer'\n                }\n            ]\n        },\n\n        max: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'max', method: 'length', args: { limit }, operator: '<=' });\n            }\n        },\n\n        min: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'min', method: 'length', args: { limit }, operator: '>=' });\n            }\n        },\n\n        ordered: {\n            method(...schemas) {\n\n                Common.verifyFlat(schemas, 'ordered');\n\n                const obj = this.$_addRule('items');\n\n                for (let i = 0; i < schemas.length; ++i) {\n                    const type = Common.tryWithPath(() => this.$_compile(schemas[i]), i, { append: true });\n                    internals.validateSingle(type, obj);\n\n                    obj.$_mutateRegister(type);\n                    obj.$_terms.ordered.push(type);\n                }\n\n                return obj.$_mutateRebuild();\n            }\n        },\n\n        single: {\n            method(enabled) {\n\n                const value = enabled === undefined ? true : !!enabled;\n                Assert(!value || !this._flags._arrayItems, 'Cannot specify single rule when array has array items');\n\n                return this.$_setFlag('single', value);\n            }\n        },\n\n        sort: {\n            method(options = {}) {\n\n                Common.assertOptions(options, ['by', 'order']);\n\n                const settings = {\n                    order: options.order || 'ascending'\n                };\n\n                if (options.by) {\n                    settings.by = Compile.ref(options.by, { ancestor: 0 });\n                    Assert(!settings.by.ancestor, 'Cannot sort by ancestor');\n                }\n\n                return this.$_addRule({ name: 'sort', args: { options: settings } });\n            },\n            validate(value, { error, state, prefs, schema }, { options }) {\n\n                const { value: sorted, errors } = internals.sort(schema, value, options, state, prefs);\n                if (errors) {\n                    return errors;\n                }\n\n                for (let i = 0; i < value.length; ++i) {\n                    if (value[i] !== sorted[i]) {\n                        return error('array.sort', { order: options.order, by: options.by ? options.by.key : 'value' });\n                    }\n                }\n\n                return value;\n            },\n            convert: true\n        },\n\n        sparse: {\n            method(enabled) {\n\n                const value = enabled === undefined ? true : !!enabled;\n\n                if (this._flags.sparse === value) {\n                    return this;\n                }\n\n                const obj = value ? this.clone() : this.$_addRule('items');\n                return obj.$_setFlag('sparse', value, { clone: false });\n            }\n        },\n\n        unique: {\n            method(comparator, options = {}) {\n\n                Assert(!comparator || typeof comparator === 'function' || typeof comparator === 'string', 'comparator must be a function or a string');\n                Common.assertOptions(options, ['ignoreUndefined', 'separator']);\n\n                const rule = { name: 'unique', args: { options, comparator } };\n\n                if (comparator) {\n                    if (typeof comparator === 'string') {\n                        const separator = Common.default(options.separator, '.');\n                        rule.path = separator ? comparator.split(separator) : [comparator];\n                    }\n                    else {\n                        rule.comparator = comparator;\n                    }\n                }\n\n                return this.$_addRule(rule);\n            },\n            validate(value, { state, error, schema }, { comparator: raw, options }, { comparator, path }) {\n\n                const found = {\n                    string: Object.create(null),\n                    number: Object.create(null),\n                    undefined: Object.create(null),\n                    boolean: Object.create(null),\n                    object: new Map(),\n                    function: new Map(),\n                    custom: new Map()\n                };\n\n                const compare = comparator || DeepEqual;\n                const ignoreUndefined = options.ignoreUndefined;\n\n                for (let i = 0; i < value.length; ++i) {\n                    const item = path ? Reach(value[i], path) : value[i];\n                    const records = comparator ? found.custom : found[typeof item];\n                    Assert(records, 'Failed to find unique map container for type', typeof item);\n\n                    if (records instanceof Map) {\n                        const entries = records.entries();\n                        let current;\n                        while (!(current = entries.next()).done) {\n                            if (compare(current.value[0], item)) {\n                                const localState = state.localize([...state.path, i], [value, ...state.ancestors]);\n                                const context = {\n                                    pos: i,\n                                    value: value[i],\n                                    dupePos: current.value[1],\n                                    dupeValue: value[current.value[1]]\n                                };\n\n                                if (path) {\n                                    context.path = raw;\n                                }\n\n                                return error('array.unique', context, localState);\n                            }\n                        }\n\n                        records.set(item, i);\n                    }\n                    else {\n                        if ((!ignoreUndefined || item !== undefined) &&\n                            records[item] !== undefined) {\n\n                            const context = {\n                                pos: i,\n                                value: value[i],\n                                dupePos: records[item],\n                                dupeValue: value[records[item]]\n                            };\n\n                            if (path) {\n                                context.path = raw;\n                            }\n\n                            const localState = state.localize([...state.path, i], [value, ...state.ancestors]);\n                            return error('array.unique', context, localState);\n                        }\n\n                        records[item] = i;\n                    }\n                }\n\n                return value;\n            },\n            args: ['comparator', 'options'],\n            multi: true\n        }\n    },\n\n    cast: {\n        set: {\n            from: Array.isArray,\n            to(value, helpers) {\n\n                return new Set(value);\n            }\n        }\n    },\n\n    rebuild(schema) {\n\n        schema.$_terms._inclusions = [];\n        schema.$_terms._exclusions = [];\n        schema.$_terms._requireds = [];\n\n        for (const type of schema.$_terms.items) {\n            internals.validateSingle(type, schema);\n\n            if (type._flags.presence === 'required') {\n                schema.$_terms._requireds.push(type);\n            }\n            else if (type._flags.presence === 'forbidden') {\n                schema.$_terms._exclusions.push(type);\n            }\n            else {\n                schema.$_terms._inclusions.push(type);\n            }\n        }\n\n        for (const type of schema.$_terms.ordered) {\n            internals.validateSingle(type, schema);\n        }\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            if (desc.items) {\n                obj = obj.items(...desc.items);\n            }\n\n            if (desc.ordered) {\n                obj = obj.ordered(...desc.ordered);\n            }\n\n            return obj;\n        }\n    },\n\n    messages: {\n        'array.base': '{{#label}} must be an array',\n        'array.excludes': '{{#label}} contains an excluded value',\n        'array.hasKnown': '{{#label}} does not contain at least one required match for type \"{#patternLabel}\"',\n        'array.hasUnknown': '{{#label}} does not contain at least one required match',\n        'array.includes': '{{#label}} does not match any of the allowed types',\n        'array.includesRequiredBoth': '{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)',\n        'array.includesRequiredKnowns': '{{#label}} does not contain {{#knownMisses}}',\n        'array.includesRequiredUnknowns': '{{#label}} does not contain {{#unknownMisses}} required value(s)',\n        'array.length': '{{#label}} must contain {{#limit}} items',\n        'array.max': '{{#label}} must contain less than or equal to {{#limit}} items',\n        'array.min': '{{#label}} must contain at least {{#limit}} items',\n        'array.orderedLength': '{{#label}} must contain at most {{#limit}} items',\n        'array.sort': '{{#label}} must be sorted in {#order} order by {{#by}}',\n        'array.sort.mismatching': '{{#label}} cannot be sorted due to mismatching types',\n        'array.sort.unsupported': '{{#label}} cannot be sorted due to unsupported type {#type}',\n        'array.sparse': '{{#label}} must not be a sparse array item',\n        'array.unique': '{{#label}} contains a duplicate value'\n    }\n});\n\n\n// Helpers\n\ninternals.fillMissedErrors = function (schema, errors, requireds, value, state, prefs) {\n\n    const knownMisses = [];\n    let unknownMisses = 0;\n    for (const required of requireds) {\n        const label = required._flags.label;\n        if (label) {\n            knownMisses.push(label);\n        }\n        else {\n            ++unknownMisses;\n        }\n    }\n\n    if (knownMisses.length) {\n        if (unknownMisses) {\n            errors.push(schema.$_createError('array.includesRequiredBoth', value, { knownMisses, unknownMisses }, state, prefs));\n        }\n        else {\n            errors.push(schema.$_createError('array.includesRequiredKnowns', value, { knownMisses }, state, prefs));\n        }\n    }\n    else {\n        errors.push(schema.$_createError('array.includesRequiredUnknowns', value, { unknownMisses }, state, prefs));\n    }\n};\n\n\ninternals.fillOrderedErrors = function (schema, errors, ordereds, value, state, prefs) {\n\n    const requiredOrdereds = [];\n\n    for (const ordered of ordereds) {\n        if (ordered._flags.presence === 'required') {\n            requiredOrdereds.push(ordered);\n        }\n    }\n\n    if (requiredOrdereds.length) {\n        internals.fillMissedErrors(schema, errors, requiredOrdereds, value, state, prefs);\n    }\n};\n\n\ninternals.fastSplice = function (arr, i) {\n\n    let pos = i;\n    while (pos < arr.length) {\n        arr[pos++] = arr[pos];\n    }\n\n    --arr.length;\n};\n\n\ninternals.validateSingle = function (type, obj) {\n\n    if (type.type === 'array' ||\n        type._flags._arrayItems) {\n\n        Assert(!obj._flags.single, 'Cannot specify array item with single rule enabled');\n        obj.$_setFlag('_arrayItems', true, { clone: false });\n    }\n};\n\n\ninternals.sort = function (schema, value, settings, state, prefs) {\n\n    const order = settings.order === 'ascending' ? 1 : -1;\n    const aFirst = -1 * order;\n    const bFirst = order;\n\n    const sort = (a, b) => {\n\n        let compare = internals.compare(a, b, aFirst, bFirst);\n        if (compare !== null) {\n            return compare;\n        }\n\n        if (settings.by) {\n            a = settings.by.resolve(a, state, prefs);\n            b = settings.by.resolve(b, state, prefs);\n        }\n\n        compare = internals.compare(a, b, aFirst, bFirst);\n        if (compare !== null) {\n            return compare;\n        }\n\n        const type = typeof a;\n        if (type !== typeof b) {\n            throw schema.$_createError('array.sort.mismatching', value, null, state, prefs);\n        }\n\n        if (type !== 'number' &&\n            type !== 'string') {\n\n            throw schema.$_createError('array.sort.unsupported', value, { type }, state, prefs);\n        }\n\n        if (type === 'number') {\n            return (a - b) * order;\n        }\n\n        return a < b ? aFirst : bFirst;\n    };\n\n    try {\n        return { value: value.slice().sort(sort) };\n    }\n    catch (err) {\n        return { errors: err };\n    }\n};\n\n\ninternals.compare = function (a, b, aFirst, bFirst) {\n\n    if (a === b) {\n        return 0;\n    }\n\n    if (a === undefined) {\n        return 1;           // Always last regardless of sort order\n    }\n\n    if (b === undefined) {\n        return -1;           // Always last regardless of sort order\n    }\n\n    if (a === null) {\n        return bFirst;\n    }\n\n    if (b === null) {\n        return aFirst;\n    }\n\n    return null;\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Any = require('./any');\nconst Common = require('../common');\n\n\nconst internals = {};\n\n\nmodule.exports = Any.extend({\n\n    type: 'binary',\n\n    coerce: {\n        from: 'string',\n        method(value, { schema }) {\n\n            try {\n                return { value: Buffer.from(value, schema._flags.encoding) };\n            }\n            catch (ignoreErr) { }\n        }\n    },\n\n    validate(value, { error }) {\n\n        if (!Buffer.isBuffer(value)) {\n            return { value, errors: error('binary.base') };\n        }\n    },\n\n    rules: {\n        encoding: {\n            method(encoding) {\n\n                Assert(Buffer.isEncoding(encoding), 'Invalid encoding:', encoding);\n\n                return this.$_setFlag('encoding', encoding);\n            }\n        },\n\n        length: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'length', method: 'length', args: { limit }, operator: '=' });\n            },\n            validate(value, helpers, { limit }, { name, operator, args }) {\n\n                if (Common.compare(value.length, limit, operator)) {\n                    return value;\n                }\n\n                return helpers.error('binary.' + name, { limit: args.limit, value });\n            },\n            args: [\n                {\n                    name: 'limit',\n                    ref: true,\n                    assert: Common.limit,\n                    message: 'must be a positive integer'\n                }\n            ]\n        },\n\n        max: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'max', method: 'length', args: { limit }, operator: '<=' });\n            }\n        },\n\n        min: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'min', method: 'length', args: { limit }, operator: '>=' });\n            }\n        }\n    },\n\n    cast: {\n        string: {\n            from: (value) => Buffer.isBuffer(value),\n            to(value, helpers) {\n\n                return value.toString();\n            }\n        }\n    },\n\n    messages: {\n        'binary.base': '{{#label}} must be a buffer or a string',\n        'binary.length': '{{#label}} must be {{#limit}} bytes',\n        'binary.max': '{{#label}} must be less than or equal to {{#limit}} bytes',\n        'binary.min': '{{#label}} must be at least {{#limit}} bytes'\n    }\n});\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Any = require('./any');\nconst Common = require('../common');\nconst Values = require('../values');\n\n\nconst internals = {};\n\n\ninternals.isBool = function (value) {\n\n    return typeof value === 'boolean';\n};\n\n\nmodule.exports = Any.extend({\n\n    type: 'boolean',\n\n    flags: {\n\n        sensitive: { default: false }\n    },\n\n    terms: {\n\n        falsy: {\n            init: null,\n            manifest: 'values'\n        },\n\n        truthy: {\n            init: null,\n            manifest: 'values'\n        }\n    },\n\n    coerce(value, { schema }) {\n\n        if (typeof value === 'boolean') {\n            return;\n        }\n\n        if (typeof value === 'string') {\n            const normalized = schema._flags.sensitive ? value : value.toLowerCase();\n            value = normalized === 'true' ? true : (normalized === 'false' ? false : value);\n        }\n\n        if (typeof value !== 'boolean') {\n            value = schema.$_terms.truthy && schema.$_terms.truthy.has(value, null, null, !schema._flags.sensitive) ||\n                (schema.$_terms.falsy && schema.$_terms.falsy.has(value, null, null, !schema._flags.sensitive) ? false : value);\n        }\n\n        return { value };\n    },\n\n    validate(value, { error }) {\n\n        if (typeof value !== 'boolean') {\n            return { value, errors: error('boolean.base') };\n        }\n    },\n\n    rules: {\n        truthy: {\n            method(...values) {\n\n                Common.verifyFlat(values, 'truthy');\n\n                const obj = this.clone();\n                obj.$_terms.truthy = obj.$_terms.truthy || new Values();\n\n                for (let i = 0; i < values.length; ++i) {\n                    const value = values[i];\n\n                    Assert(value !== undefined, 'Cannot call truthy with undefined');\n                    obj.$_terms.truthy.add(value);\n                }\n\n                return obj;\n            }\n        },\n\n        falsy: {\n            method(...values) {\n\n                Common.verifyFlat(values, 'falsy');\n\n                const obj = this.clone();\n                obj.$_terms.falsy = obj.$_terms.falsy || new Values();\n\n                for (let i = 0; i < values.length; ++i) {\n                    const value = values[i];\n\n                    Assert(value !== undefined, 'Cannot call falsy with undefined');\n                    obj.$_terms.falsy.add(value);\n                }\n\n                return obj;\n            }\n        },\n\n        sensitive: {\n            method(enabled = true) {\n\n                return this.$_setFlag('sensitive', enabled);\n            }\n        }\n    },\n\n    cast: {\n        number: {\n            from: internals.isBool,\n            to(value, helpers) {\n\n                return value ? 1 : 0;\n            }\n        },\n        string: {\n            from: internals.isBool,\n            to(value, helpers) {\n\n                return value ? 'true' : 'false';\n            }\n        }\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            if (desc.truthy) {\n                obj = obj.truthy(...desc.truthy);\n            }\n\n            if (desc.falsy) {\n                obj = obj.falsy(...desc.falsy);\n            }\n\n            return obj;\n        }\n    },\n\n    messages: {\n        'boolean.base': '{{#label}} must be a boolean'\n    }\n});\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Any = require('./any');\nconst Common = require('../common');\nconst Template = require('../template');\n\n\nconst internals = {};\n\n\ninternals.isDate = function (value) {\n\n    return value instanceof Date;\n};\n\n\nmodule.exports = Any.extend({\n\n    type: 'date',\n\n    coerce: {\n        from: ['number', 'string'],\n        method(value, { schema }) {\n\n            return { value: internals.parse(value, schema._flags.format) || value };\n        }\n    },\n\n    validate(value, { schema, error, prefs }) {\n\n        if (value instanceof Date &&\n            !isNaN(value.getTime())) {\n\n            return;\n        }\n\n        const format = schema._flags.format;\n\n        if (!prefs.convert ||\n            !format ||\n            typeof value !== 'string') {\n\n            return { value, errors: error('date.base') };\n        }\n\n        return { value, errors: error('date.format', { format }) };\n    },\n\n    rules: {\n\n        compare: {\n            method: false,\n            validate(value, helpers, { date }, { name, operator, args }) {\n\n                const to = date === 'now' ? Date.now() : date.getTime();\n                if (Common.compare(value.getTime(), to, operator)) {\n                    return value;\n                }\n\n                return helpers.error('date.' + name, { limit: args.date, value });\n            },\n            args: [\n                {\n                    name: 'date',\n                    ref: true,\n                    normalize: (date) => {\n\n                        return date === 'now' ? date : internals.parse(date);\n                    },\n                    assert: (date) => date !== null,\n                    message: 'must have a valid date format'\n                }\n            ]\n        },\n\n        format: {\n            method(format) {\n\n                Assert(['iso', 'javascript', 'unix'].includes(format), 'Unknown date format', format);\n\n                return this.$_setFlag('format', format);\n            }\n        },\n\n        greater: {\n            method(date) {\n\n                return this.$_addRule({ name: 'greater', method: 'compare', args: { date }, operator: '>' });\n            }\n        },\n\n        iso: {\n            method() {\n\n                return this.format('iso');\n            }\n        },\n\n        less: {\n            method(date) {\n\n                return this.$_addRule({ name: 'less', method: 'compare', args: { date }, operator: '<' });\n            }\n        },\n\n        max: {\n            method(date) {\n\n                return this.$_addRule({ name: 'max', method: 'compare', args: { date }, operator: '<=' });\n            }\n        },\n\n        min: {\n            method(date) {\n\n                return this.$_addRule({ name: 'min', method: 'compare', args: { date }, operator: '>=' });\n            }\n        },\n\n        timestamp: {\n            method(type = 'javascript') {\n\n                Assert(['javascript', 'unix'].includes(type), '\"type\" must be one of \"javascript, unix\"');\n\n                return this.format(type);\n            }\n        }\n    },\n\n    cast: {\n        number: {\n            from: internals.isDate,\n            to(value, helpers) {\n\n                return value.getTime();\n            }\n        },\n        string: {\n            from: internals.isDate,\n            to(value, { prefs }) {\n\n                return Template.date(value, prefs);\n            }\n        }\n    },\n\n    messages: {\n        'date.base': '{{#label}} must be a valid date',\n        'date.format': '{{#label}} must be in {msg(\"date.format.\" + #format) || #format} format',\n        'date.greater': '{{#label}} must be greater than \"{{#limit}}\"',\n        'date.less': '{{#label}} must be less than \"{{#limit}}\"',\n        'date.max': '{{#label}} must be less than or equal to \"{{#limit}}\"',\n        'date.min': '{{#label}} must be larger than or equal to \"{{#limit}}\"',\n\n        // Messages used in date.format\n\n        'date.format.iso': 'ISO 8601 date',\n        'date.format.javascript': 'timestamp or number of milliseconds',\n        'date.format.unix': 'timestamp or number of seconds'\n    }\n});\n\n\n// Helpers\n\ninternals.parse = function (value, format) {\n\n    if (value instanceof Date) {\n        return value;\n    }\n\n    if (typeof value !== 'string' &&\n        (isNaN(value) || !isFinite(value))) {\n\n        return null;\n    }\n\n    if (/^\\s*$/.test(value)) {\n        return null;\n    }\n\n    // ISO\n\n    if (format === 'iso') {\n        if (!Common.isIsoDate(value)) {\n            return null;\n        }\n\n        return internals.date(value.toString());\n    }\n\n    // Normalize number string\n\n    const original = value;\n    if (typeof value === 'string' &&\n        /^[+-]?\\d+(\\.\\d+)?$/.test(value)) {\n\n        value = parseFloat(value);\n    }\n\n    // Timestamp\n\n    if (format) {\n        if (format === 'javascript') {\n            return internals.date(1 * value);        // Casting to number\n        }\n\n        if (format === 'unix') {\n            return internals.date(1000 * value);\n        }\n\n        if (typeof original === 'string') {\n            return null;\n        }\n    }\n\n    // Plain\n\n    return internals.date(value);\n};\n\n\ninternals.date = function (value) {\n\n    const date = new Date(value);\n    if (!isNaN(date.getTime())) {\n        return date;\n    }\n\n    return null;\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Keys = require('./keys');\n\n\nconst internals = {};\n\n\nmodule.exports = Keys.extend({\n\n    type: 'function',\n\n    properties: {\n        typeof: 'function'\n    },\n\n    rules: {\n        arity: {\n            method(n) {\n\n                Assert(Number.isSafeInteger(n) && n >= 0, 'n must be a positive integer');\n\n                return this.$_addRule({ name: 'arity', args: { n } });\n            },\n            validate(value, helpers, { n }) {\n\n                if (value.length === n) {\n                    return value;\n                }\n\n                return helpers.error('function.arity', { n });\n            }\n        },\n\n        class: {\n            method() {\n\n                return this.$_addRule('class');\n            },\n            validate(value, helpers) {\n\n                if ((/^\\s*class\\s/).test(value.toString())) {\n                    return value;\n                }\n\n                return helpers.error('function.class', { value });\n            }\n        },\n\n        minArity: {\n            method(n) {\n\n                Assert(Number.isSafeInteger(n) && n > 0, 'n must be a strict positive integer');\n\n                return this.$_addRule({ name: 'minArity', args: { n } });\n            },\n            validate(value, helpers, { n }) {\n\n                if (value.length >= n) {\n                    return value;\n                }\n\n                return helpers.error('function.minArity', { n });\n            }\n        },\n\n        maxArity: {\n            method(n) {\n\n                Assert(Number.isSafeInteger(n) && n >= 0, 'n must be a positive integer');\n\n                return this.$_addRule({ name: 'maxArity', args: { n } });\n            },\n            validate(value, helpers, { n }) {\n\n                if (value.length <= n) {\n                    return value;\n                }\n\n                return helpers.error('function.maxArity', { n });\n            }\n        }\n    },\n\n    messages: {\n        'function.arity': '{{#label}} must have an arity of {{#n}}',\n        'function.class': '{{#label}} must be a class',\n        'function.maxArity': '{{#label}} must have an arity lesser or equal to {{#n}}',\n        'function.minArity': '{{#label}} must have an arity greater or equal to {{#n}}'\n    }\n});\n","'use strict';\n\nconst ApplyToDefaults = require('@hapi/hoek/lib/applyToDefaults');\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\nconst Topo = require('@hapi/topo');\n\nconst Any = require('./any');\nconst Common = require('../common');\nconst Compile = require('../compile');\nconst Errors = require('../errors');\nconst Ref = require('../ref');\nconst Template = require('../template');\n\n\nconst internals = {\n    renameDefaults: {\n        alias: false,                   // Keep old value in place\n        multiple: false,                // Allow renaming multiple keys into the same target\n        override: false                 // Overrides an existing key\n    }\n};\n\n\nmodule.exports = Any.extend({\n\n    type: '_keys',\n\n    properties: {\n        typeof: 'object'\n    },\n\n    flags: {\n\n        unknown: { default: false }\n    },\n\n    terms: {\n\n        dependencies: { init: null },\n        keys: { init: null, manifest: { mapped: { from: 'schema', to: 'key' } } },\n        patterns: { init: null },\n        renames: { init: null }\n    },\n\n    args(schema, keys) {\n\n        return schema.keys(keys);\n    },\n\n    validate(value, { schema, error, state, prefs }) {\n\n        if (!value ||\n            typeof value !== schema.$_property('typeof') ||\n            Array.isArray(value)) {\n\n            return { value, errors: error('object.base', { type: schema.$_property('typeof') }) };\n        }\n\n        // Skip if there are no other rules to test\n\n        if (!schema.$_terms.renames &&\n            !schema.$_terms.dependencies &&\n            !schema.$_terms.keys &&                       // null allows any keys\n            !schema.$_terms.patterns &&\n            !schema.$_terms.externals) {\n\n            return;\n        }\n\n        // Shallow clone value\n\n        value = internals.clone(value, prefs);\n        const errors = [];\n\n        // Rename keys\n\n        if (schema.$_terms.renames &&\n            !internals.rename(schema, value, state, prefs, errors)) {\n\n            return { value, errors };\n        }\n\n        // Anything allowed\n\n        if (!schema.$_terms.keys &&                       // null allows any keys\n            !schema.$_terms.patterns &&\n            !schema.$_terms.dependencies) {\n\n            return { value, errors };\n        }\n\n        // Defined keys\n\n        const unprocessed = new Set(Object.keys(value));\n\n        if (schema.$_terms.keys) {\n            const ancestors = [value, ...state.ancestors];\n\n            for (const child of schema.$_terms.keys) {\n                const key = child.key;\n                const item = value[key];\n\n                unprocessed.delete(key);\n\n                const localState = state.localize([...state.path, key], ancestors, child);\n                const result = child.schema.$_validate(item, localState, prefs);\n\n                if (result.errors) {\n                    if (prefs.abortEarly) {\n                        return { value, errors: result.errors };\n                    }\n\n                    errors.push(...result.errors);\n                }\n                else if (child.schema._flags.result === 'strip' ||\n                    result.value === undefined && item !== undefined) {\n\n                    delete value[key];\n                }\n                else if (result.value !== undefined) {\n                    value[key] = result.value;\n                }\n            }\n        }\n\n        // Unknown keys\n\n        if (unprocessed.size ||\n            schema._flags._hasPatternMatch) {\n\n            const early = internals.unknown(schema, value, unprocessed, errors, state, prefs);\n            if (early) {\n                return early;\n            }\n        }\n\n        // Validate dependencies\n\n        if (schema.$_terms.dependencies) {\n            for (const dep of schema.$_terms.dependencies) {\n                if (dep.key &&\n                    dep.key.resolve(value, state, prefs, null, { shadow: false }) === undefined) {\n\n                    continue;\n                }\n\n                const failed = internals.dependencies[dep.rel](schema, dep, value, state, prefs);\n                if (failed) {\n                    const report = schema.$_createError(failed.code, value, failed.context, state, prefs);\n                    if (prefs.abortEarly) {\n                        return { value, errors: report };\n                    }\n\n                    errors.push(report);\n                }\n            }\n        }\n\n        return { value, errors };\n    },\n\n    rules: {\n\n        and: {\n            method(...peers /*, [options] */) {\n\n                Common.verifyFlat(peers, 'and');\n\n                return internals.dependency(this, 'and', null, peers);\n            }\n        },\n\n        append: {\n            method(schema) {\n\n                if (schema === null ||\n                    schema === undefined ||\n                    Object.keys(schema).length === 0) {\n\n                    return this;\n                }\n\n                return this.keys(schema);\n            }\n        },\n\n        assert: {\n            method(subject, schema, message) {\n\n                if (!Template.isTemplate(subject)) {\n                    subject = Compile.ref(subject);\n                }\n\n                Assert(message === undefined || typeof message === 'string', 'Message must be a string');\n\n                schema = this.$_compile(schema, { appendPath: true });\n\n                const obj = this.$_addRule({ name: 'assert', args: { subject, schema, message } });\n                obj.$_mutateRegister(subject);\n                obj.$_mutateRegister(schema);\n                return obj;\n            },\n            validate(value, { error, prefs, state }, { subject, schema, message }) {\n\n                const about = subject.resolve(value, state, prefs);\n                const path = Ref.isRef(subject) ? subject.absolute(state) : [];\n                if (schema.$_match(about, state.localize(path, [value, ...state.ancestors], schema), prefs)) {\n                    return value;\n                }\n\n                return error('object.assert', { subject, message });\n            },\n            args: ['subject', 'schema', 'message'],\n            multi: true\n        },\n\n        instance: {\n            method(constructor, name) {\n\n                Assert(typeof constructor === 'function', 'constructor must be a function');\n\n                name = name || constructor.name;\n\n                return this.$_addRule({ name: 'instance', args: { constructor, name } });\n            },\n            validate(value, helpers, { constructor, name }) {\n\n                if (value instanceof constructor) {\n                    return value;\n                }\n\n                return helpers.error('object.instance', { type: name, value });\n            },\n            args: ['constructor', 'name']\n        },\n\n        keys: {\n            method(schema) {\n\n                Assert(schema === undefined || typeof schema === 'object', 'Object schema must be a valid object');\n                Assert(!Common.isSchema(schema), 'Object schema cannot be a joi schema');\n\n                const obj = this.clone();\n\n                if (!schema) {                                      // Allow all\n                    obj.$_terms.keys = null;\n                }\n                else if (!Object.keys(schema).length) {             // Allow none\n                    obj.$_terms.keys = new internals.Keys();\n                }\n                else {\n                    obj.$_terms.keys = obj.$_terms.keys ? obj.$_terms.keys.filter((child) => !schema.hasOwnProperty(child.key)) : new internals.Keys();\n                    for (const key in schema) {\n                        Common.tryWithPath(() => obj.$_terms.keys.push({ key, schema: this.$_compile(schema[key]) }), key);\n                    }\n                }\n\n                return obj.$_mutateRebuild();\n            }\n        },\n\n        length: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'length', args: { limit }, operator: '=' });\n            },\n            validate(value, helpers, { limit }, { name, operator, args }) {\n\n                if (Common.compare(Object.keys(value).length, limit, operator)) {\n                    return value;\n                }\n\n                return helpers.error('object.' + name, { limit: args.limit, value });\n            },\n            args: [\n                {\n                    name: 'limit',\n                    ref: true,\n                    assert: Common.limit,\n                    message: 'must be a positive integer'\n                }\n            ]\n        },\n\n        max: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'max', method: 'length', args: { limit }, operator: '<=' });\n            }\n        },\n\n        min: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'min', method: 'length', args: { limit }, operator: '>=' });\n            }\n        },\n\n        nand: {\n            method(...peers /*, [options] */) {\n\n                Common.verifyFlat(peers, 'nand');\n\n                return internals.dependency(this, 'nand', null, peers);\n            }\n        },\n\n        or: {\n            method(...peers /*, [options] */) {\n\n                Common.verifyFlat(peers, 'or');\n\n                return internals.dependency(this, 'or', null, peers);\n            }\n        },\n\n        oxor: {\n            method(...peers /*, [options] */) {\n\n                return internals.dependency(this, 'oxor', null, peers);\n            }\n        },\n\n        pattern: {\n            method(pattern, schema, options = {}) {\n\n                const isRegExp = pattern instanceof RegExp;\n                if (!isRegExp) {\n                    pattern = this.$_compile(pattern, { appendPath: true });\n                }\n\n                Assert(schema !== undefined, 'Invalid rule');\n                Common.assertOptions(options, ['fallthrough', 'matches']);\n\n                if (isRegExp) {\n                    Assert(!pattern.flags.includes('g') && !pattern.flags.includes('y'), 'pattern should not use global or sticky mode');\n                }\n\n                schema = this.$_compile(schema, { appendPath: true });\n\n                const obj = this.clone();\n                obj.$_terms.patterns = obj.$_terms.patterns || [];\n                const config = { [isRegExp ? 'regex' : 'schema']: pattern, rule: schema };\n                if (options.matches) {\n                    config.matches = this.$_compile(options.matches);\n                    if (config.matches.type !== 'array') {\n                        config.matches = config.matches.$_root.array().items(config.matches);\n                    }\n\n                    obj.$_mutateRegister(config.matches);\n                    obj.$_setFlag('_hasPatternMatch', true, { clone: false });\n                }\n\n                if (options.fallthrough) {\n                    config.fallthrough = true;\n                }\n\n                obj.$_terms.patterns.push(config);\n                obj.$_mutateRegister(schema);\n                return obj;\n            }\n        },\n\n        ref: {\n            method() {\n\n                return this.$_addRule('ref');\n            },\n            validate(value, helpers) {\n\n                if (Ref.isRef(value)) {\n                    return value;\n                }\n\n                return helpers.error('object.refType', { value });\n            }\n        },\n\n        regex: {\n            method() {\n\n                return this.$_addRule('regex');\n            },\n            validate(value, helpers) {\n\n                if (value instanceof RegExp) {\n                    return value;\n                }\n\n                return helpers.error('object.regex', { value });\n            }\n        },\n\n        rename: {\n            method(from, to, options = {}) {\n\n                Assert(typeof from === 'string' || from instanceof RegExp, 'Rename missing the from argument');\n                Assert(typeof to === 'string' || to instanceof Template, 'Invalid rename to argument');\n                Assert(to !== from, 'Cannot rename key to same name:', from);\n\n                Common.assertOptions(options, ['alias', 'ignoreUndefined', 'override', 'multiple']);\n\n                const obj = this.clone();\n\n                obj.$_terms.renames = obj.$_terms.renames || [];\n                for (const rename of obj.$_terms.renames) {\n                    Assert(rename.from !== from, 'Cannot rename the same key multiple times');\n                }\n\n                if (to instanceof Template) {\n                    obj.$_mutateRegister(to);\n                }\n\n                obj.$_terms.renames.push({\n                    from,\n                    to,\n                    options: ApplyToDefaults(internals.renameDefaults, options)\n                });\n\n                return obj;\n            }\n        },\n\n        schema: {\n            method(type = 'any') {\n\n                return this.$_addRule({ name: 'schema', args: { type } });\n            },\n            validate(value, helpers, { type }) {\n\n                if (Common.isSchema(value) &&\n                    (type === 'any' || value.type === type)) {\n\n                    return value;\n                }\n\n                return helpers.error('object.schema', { type });\n            }\n        },\n\n        unknown: {\n            method(allow) {\n\n                return this.$_setFlag('unknown', allow !== false);\n            }\n        },\n\n        with: {\n            method(key, peers, options = {}) {\n\n                return internals.dependency(this, 'with', key, peers, options);\n            }\n        },\n\n        without: {\n            method(key, peers, options = {}) {\n\n                return internals.dependency(this, 'without', key, peers, options);\n            }\n        },\n\n        xor: {\n            method(...peers /*, [options] */) {\n\n                Common.verifyFlat(peers, 'xor');\n\n                return internals.dependency(this, 'xor', null, peers);\n            }\n        }\n    },\n\n    overrides: {\n\n        default(value, options) {\n\n            if (value === undefined) {\n                value = Common.symbols.deepDefault;\n            }\n\n            return this.$_super.default(value, options);\n        }\n    },\n\n    rebuild(schema) {\n\n        if (schema.$_terms.keys) {\n            const topo = new Topo.Sorter();\n            for (const child of schema.$_terms.keys) {\n                Common.tryWithPath(() => topo.add(child, { after: child.schema.$_rootReferences(), group: child.key }), child.key);\n            }\n\n            schema.$_terms.keys = new internals.Keys(...topo.nodes);\n        }\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            if (desc.keys) {\n                obj = obj.keys(desc.keys);\n            }\n\n            if (desc.dependencies) {\n                for (const { rel, key = null, peers, options } of desc.dependencies) {\n                    obj = internals.dependency(obj, rel, key, peers, options);\n                }\n            }\n\n            if (desc.patterns) {\n                for (const { regex, schema, rule, fallthrough, matches } of desc.patterns) {\n                    obj = obj.pattern(regex || schema, rule, { fallthrough, matches });\n                }\n            }\n\n            if (desc.renames) {\n                for (const { from, to, options } of desc.renames) {\n                    obj = obj.rename(from, to, options);\n                }\n            }\n\n            return obj;\n        }\n    },\n\n    messages: {\n        'object.and': '{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}',\n        'object.assert': '{{#label}} is invalid because {if(#subject.key, `\"` + #subject.key + `\" failed to ` + (#message || \"pass the assertion test\"), #message || \"the assertion failed\")}',\n        'object.base': '{{#label}} must be of type {{#type}}',\n        'object.instance': '{{#label}} must be an instance of \"{{#type}}\"',\n        'object.length': '{{#label}} must have {{#limit}} key{if(#limit == 1, \"\", \"s\")}',\n        'object.max': '{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, \"\", \"s\")}',\n        'object.min': '{{#label}} must have at least {{#limit}} key{if(#limit == 1, \"\", \"s\")}',\n        'object.missing': '{{#label}} must contain at least one of {{#peersWithLabels}}',\n        'object.nand': '\"{{#mainWithLabel}}\" must not exist simultaneously with {{#peersWithLabels}}',\n        'object.oxor': '{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}',\n        'object.pattern.match': '{{#label}} keys failed to match pattern requirements',\n        'object.refType': '{{#label}} must be a Joi reference',\n        'object.regex': '{{#label}} must be a RegExp object',\n        'object.rename.multiple': '{{#label}} cannot rename \"{{#from}}\" because multiple renames are disabled and another key was already renamed to \"{{#to}}\"',\n        'object.rename.override': '{{#label}} cannot rename \"{{#from}}\" because override is disabled and target \"{{#to}}\" exists',\n        'object.schema': '{{#label}} must be a Joi schema of {{#type}} type',\n        'object.unknown': '{{#label}} is not allowed',\n        'object.with': '\"{{#mainWithLabel}}\" missing required peer \"{{#peerWithLabel}}\"',\n        'object.without': '\"{{#mainWithLabel}}\" conflict with forbidden peer \"{{#peerWithLabel}}\"',\n        'object.xor': '{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}'\n    }\n});\n\n\n// Helpers\n\ninternals.clone = function (value, prefs) {\n\n    // Object\n\n    if (typeof value === 'object') {\n        if (prefs.nonEnumerables) {\n            return Clone(value, { shallow: true });\n        }\n\n        const clone = Object.create(Object.getPrototypeOf(value));\n        Object.assign(clone, value);\n        return clone;\n    }\n\n    // Function\n\n    const clone = function (...args) {\n\n        return value.apply(this, args);\n    };\n\n    clone.prototype = Clone(value.prototype);\n    Object.defineProperty(clone, 'name', { value: value.name, writable: false });\n    Object.defineProperty(clone, 'length', { value: value.length, writable: false });\n    Object.assign(clone, value);\n    return clone;\n};\n\n\ninternals.dependency = function (schema, rel, key, peers, options) {\n\n    Assert(key === null || typeof key === 'string', rel, 'key must be a strings');\n\n    // Extract options from peers array\n\n    if (!options) {\n        options = peers.length > 1 && typeof peers[peers.length - 1] === 'object' ? peers.pop() : {};\n    }\n\n    Common.assertOptions(options, ['separator']);\n\n    peers = [].concat(peers);\n\n    // Cast peer paths\n\n    const separator = Common.default(options.separator, '.');\n    const paths = [];\n    for (const peer of peers) {\n        Assert(typeof peer === 'string', rel, 'peers must be a string or a reference');\n        paths.push(Compile.ref(peer, { separator, ancestor: 0, prefix: false }));\n    }\n\n    // Cast key\n\n    if (key !== null) {\n        key = Compile.ref(key, { separator, ancestor: 0, prefix: false });\n    }\n\n    // Add rule\n\n    const obj = schema.clone();\n    obj.$_terms.dependencies = obj.$_terms.dependencies || [];\n    obj.$_terms.dependencies.push(new internals.Dependency(rel, key, paths, peers));\n    return obj;\n};\n\n\ninternals.dependencies = {\n\n    and(schema, dep, value, state, prefs) {\n\n        const missing = [];\n        const present = [];\n        const count = dep.peers.length;\n        for (const peer of dep.peers) {\n            if (peer.resolve(value, state, prefs, null, { shadow: false }) === undefined) {\n                missing.push(peer.key);\n            }\n            else {\n                present.push(peer.key);\n            }\n        }\n\n        if (missing.length !== count &&\n            present.length !== count) {\n\n            return {\n                code: 'object.and',\n                context: {\n                    present,\n                    presentWithLabels: internals.keysToLabels(schema, present),\n                    missing,\n                    missingWithLabels: internals.keysToLabels(schema, missing)\n                }\n            };\n        }\n    },\n\n    nand(schema, dep, value, state, prefs) {\n\n        const present = [];\n        for (const peer of dep.peers) {\n            if (peer.resolve(value, state, prefs, null, { shadow: false }) !== undefined) {\n                present.push(peer.key);\n            }\n        }\n\n        if (present.length !== dep.peers.length) {\n            return;\n        }\n\n        const main = dep.paths[0];\n        const values = dep.paths.slice(1);\n        return {\n            code: 'object.nand',\n            context: {\n                main,\n                mainWithLabel: internals.keysToLabels(schema, main),\n                peers: values,\n                peersWithLabels: internals.keysToLabels(schema, values)\n            }\n        };\n    },\n\n    or(schema, dep, value, state, prefs) {\n\n        for (const peer of dep.peers) {\n            if (peer.resolve(value, state, prefs, null, { shadow: false }) !== undefined) {\n                return;\n            }\n        }\n\n        return {\n            code: 'object.missing',\n            context: {\n                peers: dep.paths,\n                peersWithLabels: internals.keysToLabels(schema, dep.paths)\n            }\n        };\n    },\n\n    oxor(schema, dep, value, state, prefs) {\n\n        const present = [];\n        for (const peer of dep.peers) {\n            if (peer.resolve(value, state, prefs, null, { shadow: false }) !== undefined) {\n                present.push(peer.key);\n            }\n        }\n\n        if (!present.length ||\n            present.length === 1) {\n\n            return;\n        }\n\n        const context = { peers: dep.paths, peersWithLabels: internals.keysToLabels(schema, dep.paths) };\n        context.present = present;\n        context.presentWithLabels = internals.keysToLabels(schema, present);\n        return { code: 'object.oxor', context };\n    },\n\n    with(schema, dep, value, state, prefs) {\n\n        for (const peer of dep.peers) {\n            if (peer.resolve(value, state, prefs, null, { shadow: false }) === undefined) {\n                return {\n                    code: 'object.with',\n                    context: {\n                        main: dep.key.key,\n                        mainWithLabel: internals.keysToLabels(schema, dep.key.key),\n                        peer: peer.key,\n                        peerWithLabel: internals.keysToLabels(schema, peer.key)\n                    }\n                };\n            }\n        }\n    },\n\n    without(schema, dep, value, state, prefs) {\n\n        for (const peer of dep.peers) {\n            if (peer.resolve(value, state, prefs, null, { shadow: false }) !== undefined) {\n                return {\n                    code: 'object.without',\n                    context: {\n                        main: dep.key.key,\n                        mainWithLabel: internals.keysToLabels(schema, dep.key.key),\n                        peer: peer.key,\n                        peerWithLabel: internals.keysToLabels(schema, peer.key)\n                    }\n                };\n            }\n        }\n    },\n\n    xor(schema, dep, value, state, prefs) {\n\n        const present = [];\n        for (const peer of dep.peers) {\n            if (peer.resolve(value, state, prefs, null, { shadow: false }) !== undefined) {\n                present.push(peer.key);\n            }\n        }\n\n        if (present.length === 1) {\n            return;\n        }\n\n        const context = { peers: dep.paths, peersWithLabels: internals.keysToLabels(schema, dep.paths) };\n        if (present.length === 0) {\n            return { code: 'object.missing', context };\n        }\n\n        context.present = present;\n        context.presentWithLabels = internals.keysToLabels(schema, present);\n        return { code: 'object.xor', context };\n    }\n};\n\n\ninternals.keysToLabels = function (schema, keys) {\n\n    if (Array.isArray(keys)) {\n        return keys.map((key) => schema.$_mapLabels(key));\n    }\n\n    return schema.$_mapLabels(keys);\n};\n\n\ninternals.rename = function (schema, value, state, prefs, errors) {\n\n    const renamed = {};\n    for (const rename of schema.$_terms.renames) {\n        const matches = [];\n        const pattern = typeof rename.from !== 'string';\n\n        if (!pattern) {\n            if (Object.prototype.hasOwnProperty.call(value, rename.from) &&\n                (value[rename.from] !== undefined || !rename.options.ignoreUndefined)) {\n\n                matches.push(rename);\n            }\n        }\n        else {\n            for (const from in value) {\n                if (value[from] === undefined &&\n                    rename.options.ignoreUndefined) {\n\n                    continue;\n                }\n\n                if (from === rename.to) {\n                    continue;\n                }\n\n                const match = rename.from.exec(from);\n                if (!match) {\n                    continue;\n                }\n\n                matches.push({ from, to: rename.to, match });\n            }\n        }\n\n        for (const match of matches) {\n            const from = match.from;\n            let to = match.to;\n            if (to instanceof Template) {\n                to = to.render(value, state, prefs, match.match);\n            }\n\n            if (from === to) {\n                continue;\n            }\n\n            if (!rename.options.multiple &&\n                renamed[to]) {\n\n                errors.push(schema.$_createError('object.rename.multiple', value, { from, to, pattern }, state, prefs));\n                if (prefs.abortEarly) {\n                    return false;\n                }\n            }\n\n            if (Object.prototype.hasOwnProperty.call(value, to) &&\n                !rename.options.override &&\n                !renamed[to]) {\n\n                errors.push(schema.$_createError('object.rename.override', value, { from, to, pattern }, state, prefs));\n                if (prefs.abortEarly) {\n                    return false;\n                }\n            }\n\n            if (value[from] === undefined) {\n                delete value[to];\n            }\n            else {\n                value[to] = value[from];\n            }\n\n            renamed[to] = true;\n\n            if (!rename.options.alias) {\n                delete value[from];\n            }\n        }\n    }\n\n    return true;\n};\n\n\ninternals.unknown = function (schema, value, unprocessed, errors, state, prefs) {\n\n    if (schema.$_terms.patterns) {\n        let hasMatches = false;\n        const matches = schema.$_terms.patterns.map((pattern) => {\n\n            if (pattern.matches) {\n                hasMatches = true;\n                return [];\n            }\n        });\n\n        const ancestors = [value, ...state.ancestors];\n\n        for (const key of unprocessed) {\n            const item = value[key];\n            const path = [...state.path, key];\n\n            for (let i = 0; i < schema.$_terms.patterns.length; ++i) {\n                const pattern = schema.$_terms.patterns[i];\n                if (pattern.regex) {\n                    const match = pattern.regex.test(key);\n                    state.mainstay.tracer.debug(state, 'rule', `pattern.${i}`, match ? 'pass' : 'error');\n                    if (!match) {\n                        continue;\n                    }\n                }\n                else {\n                    if (!pattern.schema.$_match(key, state.nest(pattern.schema, `pattern.${i}`), prefs)) {\n                        continue;\n                    }\n                }\n\n                unprocessed.delete(key);\n\n                const localState = state.localize(path, ancestors, { schema: pattern.rule, key });\n                const result = pattern.rule.$_validate(item, localState, prefs);\n                if (result.errors) {\n                    if (prefs.abortEarly) {\n                        return { value, errors: result.errors };\n                    }\n\n                    errors.push(...result.errors);\n                }\n\n                if (pattern.matches) {\n                    matches[i].push(key);\n                }\n\n                value[key] = result.value;\n                if (!pattern.fallthrough) {\n                    break;\n                }\n            }\n        }\n\n        // Validate pattern matches rules\n\n        if (hasMatches) {\n            for (let i = 0; i < matches.length; ++i) {\n                const match = matches[i];\n                if (!match) {\n                    continue;\n                }\n\n                const stpm = schema.$_terms.patterns[i].matches;\n                const localState = state.localize(state.path, ancestors, stpm);\n                const result = stpm.$_validate(match, localState, prefs);\n                if (result.errors) {\n                    const details = Errors.details(result.errors, { override: false });\n                    details.matches = match;\n                    const report = schema.$_createError('object.pattern.match', value, details, state, prefs);\n                    if (prefs.abortEarly) {\n                        return { value, errors: report };\n                    }\n\n                    errors.push(report);\n                }\n            }\n        }\n    }\n\n    if (!unprocessed.size ||\n        !schema.$_terms.keys && !schema.$_terms.patterns) {     // If no keys or patterns specified, unknown keys allowed\n\n        return;\n    }\n\n    if (prefs.stripUnknown && !schema._flags.unknown ||\n        prefs.skipFunctions) {\n\n        const stripUnknown = prefs.stripUnknown ? (prefs.stripUnknown === true ? true : !!prefs.stripUnknown.objects) : false;\n\n        for (const key of unprocessed) {\n            if (stripUnknown) {\n                delete value[key];\n                unprocessed.delete(key);\n            }\n            else if (typeof value[key] === 'function') {\n                unprocessed.delete(key);\n            }\n        }\n    }\n\n    const forbidUnknown = !Common.default(schema._flags.unknown, prefs.allowUnknown);\n    if (forbidUnknown) {\n        for (const unprocessedKey of unprocessed) {\n            const localState = state.localize([...state.path, unprocessedKey], []);\n            const report = schema.$_createError('object.unknown', value[unprocessedKey], { child: unprocessedKey }, localState, prefs, { flags: false });\n            if (prefs.abortEarly) {\n                return { value, errors: report };\n            }\n\n            errors.push(report);\n        }\n    }\n};\n\n\ninternals.Dependency = class {\n\n    constructor(rel, key, peers, paths) {\n\n        this.rel = rel;\n        this.key = key;\n        this.peers = peers;\n        this.paths = paths;\n    }\n\n    describe() {\n\n        const desc = {\n            rel: this.rel,\n            peers: this.paths\n        };\n\n        if (this.key !== null) {\n            desc.key = this.key.key;\n        }\n\n        if (this.peers[0].separator !== '.') {\n            desc.options = { separator: this.peers[0].separator };\n        }\n\n        return desc;\n    }\n};\n\n\ninternals.Keys = class extends Array {\n\n    concat(source) {\n\n        const result = this.slice();\n\n        const keys = new Map();\n        for (let i = 0; i < result.length; ++i) {\n            keys.set(result[i].key, i);\n        }\n\n        for (const item of source) {\n            const key = item.key;\n            const pos = keys.get(key);\n            if (pos !== undefined) {\n                result[pos] = { key, schema: result[pos].schema.concat(item.schema) };\n            }\n            else {\n                result.push(item);\n            }\n        }\n\n        return result;\n    }\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Any = require('./any');\nconst Common = require('../common');\nconst Compile = require('../compile');\nconst Errors = require('../errors');\n\n\nconst internals = {};\n\n\nmodule.exports = Any.extend({\n\n    type: 'link',\n\n    properties: {\n        schemaChain: true\n    },\n\n    terms: {\n\n        link: { init: null, manifest: 'single', register: false }\n    },\n\n    args(schema, ref) {\n\n        return schema.ref(ref);\n    },\n\n    validate(value, { schema, state, prefs }) {\n\n        Assert(schema.$_terms.link, 'Uninitialized link schema');\n\n        const linked = internals.generate(schema, value, state, prefs);\n        const ref = schema.$_terms.link[0].ref;\n        return linked.$_validate(value, state.nest(linked, `link:${ref.display}:${linked.type}`), prefs);\n    },\n\n    generate(schema, value, state, prefs) {\n\n        return internals.generate(schema, value, state, prefs);\n    },\n\n    rules: {\n\n        ref: {\n            method(ref) {\n\n                Assert(!this.$_terms.link, 'Cannot reinitialize schema');\n\n                ref = Compile.ref(ref);\n\n                Assert(ref.type === 'value' || ref.type === 'local', 'Invalid reference type:', ref.type);\n                Assert(ref.type === 'local' || ref.ancestor === 'root' || ref.ancestor > 0, 'Link cannot reference itself');\n\n                const obj = this.clone();\n                obj.$_terms.link = [{ ref }];\n                return obj;\n            }\n        },\n\n        relative: {\n            method(enabled = true) {\n\n                return this.$_setFlag('relative', enabled);\n            }\n        }\n    },\n\n    overrides: {\n\n        concat(source) {\n\n            Assert(this.$_terms.link, 'Uninitialized link schema');\n            Assert(Common.isSchema(source), 'Invalid schema object');\n            Assert(source.type !== 'link', 'Cannot merge type link with another link');\n\n            const obj = this.clone();\n\n            if (!obj.$_terms.whens) {\n                obj.$_terms.whens = [];\n            }\n\n            obj.$_terms.whens.push({ concat: source });\n            return obj.$_mutateRebuild();\n        }\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            Assert(desc.link, 'Invalid link description missing link');\n            return obj.ref(desc.link);\n        }\n    }\n});\n\n\n// Helpers\n\ninternals.generate = function (schema, value, state, prefs) {\n\n    let linked = state.mainstay.links.get(schema);\n    if (linked) {\n        return linked._generate(value, state, prefs).schema;\n    }\n\n    const ref = schema.$_terms.link[0].ref;\n    const { perspective, path } = internals.perspective(ref, state);\n    internals.assert(perspective, 'which is outside of schema boundaries', ref, schema, state, prefs);\n\n    try {\n        linked = path.length ? perspective.$_reach(path) : perspective;\n    }\n    catch (ignoreErr) {\n        internals.assert(false, 'to non-existing schema', ref, schema, state, prefs);\n    }\n\n    internals.assert(linked.type !== 'link', 'which is another link', ref, schema, state, prefs);\n\n    if (!schema._flags.relative) {\n        state.mainstay.links.set(schema, linked);\n    }\n\n    return linked._generate(value, state, prefs).schema;\n};\n\n\ninternals.perspective = function (ref, state) {\n\n    if (ref.type === 'local') {\n        for (const { schema, key } of state.schemas) {                              // From parent to root\n            const id = schema._flags.id || key;\n            if (id === ref.path[0]) {\n                return { perspective: schema, path: ref.path.slice(1) };\n            }\n\n            if (schema.$_terms.shared) {\n                for (const shared of schema.$_terms.shared) {\n                    if (shared._flags.id === ref.path[0]) {\n                        return { perspective: shared, path: ref.path.slice(1) };\n                    }\n                }\n            }\n        }\n\n        return { perspective: null, path: null };\n    }\n\n    if (ref.ancestor === 'root') {\n        return { perspective: state.schemas[state.schemas.length - 1].schema, path: ref.path };\n    }\n\n    return { perspective: state.schemas[ref.ancestor] && state.schemas[ref.ancestor].schema, path: ref.path };\n};\n\n\ninternals.assert = function (condition, message, ref, schema, state, prefs) {\n\n    if (condition) {                // Manual check to avoid generating error message on success\n        return;\n    }\n\n    Assert(false, `\"${Errors.label(schema._flags, state, prefs)}\" contains link reference \"${ref.display}\" ${message}`);\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Any = require('./any');\nconst Common = require('../common');\n\n\nconst internals = {\n    numberRx: /^\\s*[+-]?(?:(?:\\d+(?:\\.\\d*)?)|(?:\\.\\d+))(?:e([+-]?\\d+))?\\s*$/i,\n    precisionRx: /(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/\n};\n\n\nmodule.exports = Any.extend({\n\n    type: 'number',\n\n    flags: {\n\n        unsafe: { default: false }\n    },\n\n    coerce: {\n        from: 'string',\n        method(value, { schema, error }) {\n\n            const matches = value.match(internals.numberRx);\n            if (!matches) {\n                return;\n            }\n\n            value = value.trim();\n            const result = { value: parseFloat(value) };\n\n            if (result.value === 0) {\n                result.value = 0;           // -0\n            }\n\n            if (!schema._flags.unsafe) {\n                if (value.match(/e/i)) {\n                    const constructed = internals.normalizeExponent(`${result.value / Math.pow(10, matches[1])}e${matches[1]}`);\n                    if (constructed !== internals.normalizeExponent(value)) {\n                        result.errors = error('number.unsafe');\n                        return result;\n                    }\n                }\n                else {\n                    const string = result.value.toString();\n                    if (string.match(/e/i)) {\n                        return result;\n                    }\n\n                    if (string !== internals.normalizeDecimal(value)) {\n                        result.errors = error('number.unsafe');\n                        return result;\n                    }\n                }\n            }\n\n            return result;\n        }\n    },\n\n    validate(value, { schema, error, prefs }) {\n\n        if (value === Infinity ||\n            value === -Infinity) {\n\n            return { value, errors: error('number.infinity') };\n        }\n\n        if (!Common.isNumber(value)) {\n            return { value, errors: error('number.base') };\n        }\n\n        const result = { value };\n\n        if (prefs.convert) {\n            const rule = schema.$_getRule('precision');\n            if (rule) {\n                const precision = Math.pow(10, rule.args.limit);                    // This is conceptually equivalent to using toFixed but it should be much faster\n                result.value = Math.round(result.value * precision) / precision;\n            }\n        }\n\n        if (result.value === 0) {\n            result.value = 0;           // -0\n        }\n\n        if (!schema._flags.unsafe &&\n            (value > Number.MAX_SAFE_INTEGER || value < Number.MIN_SAFE_INTEGER)) {\n\n            result.errors = error('number.unsafe');\n        }\n\n        return result;\n    },\n\n    rules: {\n\n        compare: {\n            method: false,\n            validate(value, helpers, { limit }, { name, operator, args }) {\n\n                if (Common.compare(value, limit, operator)) {\n                    return value;\n                }\n\n                return helpers.error('number.' + name, { limit: args.limit, value });\n            },\n            args: [\n                {\n                    name: 'limit',\n                    ref: true,\n                    assert: Common.isNumber,\n                    message: 'must be a number'\n                }\n            ]\n        },\n\n        greater: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'greater', method: 'compare', args: { limit }, operator: '>' });\n            }\n        },\n\n        integer: {\n            method() {\n\n                return this.$_addRule('integer');\n            },\n            validate(value, helpers) {\n\n                if (Math.trunc(value) - value === 0) {\n                    return value;\n                }\n\n                return helpers.error('number.integer');\n            }\n        },\n\n        less: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'less', method: 'compare', args: { limit }, operator: '<' });\n            }\n        },\n\n        max: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'max', method: 'compare', args: { limit }, operator: '<=' });\n            }\n        },\n\n        min: {\n            method(limit) {\n\n                return this.$_addRule({ name: 'min', method: 'compare', args: { limit }, operator: '>=' });\n            }\n        },\n\n        multiple: {\n            method(base) {\n\n                return this.$_addRule({ name: 'multiple', args: { base } });\n            },\n            validate(value, helpers, { base }, options) {\n\n                if (value % base === 0) {\n                    return value;\n                }\n\n                return helpers.error('number.multiple', { multiple: options.args.base, value });\n            },\n            args: [\n                {\n                    name: 'base',\n                    ref: true,\n                    assert: (value) => typeof value === 'number' && isFinite(value) && value > 0,\n                    message: 'must be a positive number'\n                }\n            ],\n            multi: true\n        },\n\n        negative: {\n            method() {\n\n                return this.sign('negative');\n            }\n        },\n\n        port: {\n            method() {\n\n                return this.$_addRule('port');\n            },\n            validate(value, helpers) {\n\n                if (Number.isSafeInteger(value) &&\n                    value >= 0 &&\n                    value <= 65535) {\n\n                    return value;\n                }\n\n                return helpers.error('number.port');\n            }\n        },\n\n        positive: {\n            method() {\n\n                return this.sign('positive');\n            }\n        },\n\n        precision: {\n            method(limit) {\n\n                Assert(Number.isSafeInteger(limit), 'limit must be an integer');\n\n                return this.$_addRule({ name: 'precision', args: { limit } });\n            },\n            validate(value, helpers, { limit }) {\n\n                const places = value.toString().match(internals.precisionRx);\n                const decimals = Math.max((places[1] ? places[1].length : 0) - (places[2] ? parseInt(places[2], 10) : 0), 0);\n                if (decimals <= limit) {\n                    return value;\n                }\n\n                return helpers.error('number.precision', { limit, value });\n            },\n            convert: true\n        },\n\n        sign: {\n            method(sign) {\n\n                Assert(['negative', 'positive'].includes(sign), 'Invalid sign', sign);\n\n                return this.$_addRule({ name: 'sign', args: { sign } });\n            },\n            validate(value, helpers, { sign }) {\n\n                if (sign === 'negative' && value < 0 ||\n                    sign === 'positive' && value > 0) {\n\n                    return value;\n                }\n\n                return helpers.error(`number.${sign}`);\n            }\n        },\n\n        unsafe: {\n            method(enabled = true) {\n\n                Assert(typeof enabled === 'boolean', 'enabled must be a boolean');\n\n                return this.$_setFlag('unsafe', enabled);\n            }\n        }\n    },\n\n    cast: {\n        string: {\n            from: (value) => typeof value === 'number',\n            to(value, helpers) {\n\n                return value.toString();\n            }\n        }\n    },\n\n    messages: {\n        'number.base': '{{#label}} must be a number',\n        'number.greater': '{{#label}} must be greater than {{#limit}}',\n        'number.infinity': '{{#label}} cannot be infinity',\n        'number.integer': '{{#label}} must be an integer',\n        'number.less': '{{#label}} must be less than {{#limit}}',\n        'number.max': '{{#label}} must be less than or equal to {{#limit}}',\n        'number.min': '{{#label}} must be larger than or equal to {{#limit}}',\n        'number.multiple': '{{#label}} must be a multiple of {{#multiple}}',\n        'number.negative': '{{#label}} must be a negative number',\n        'number.port': '{{#label}} must be a valid port',\n        'number.positive': '{{#label}} must be a positive number',\n        'number.precision': '{{#label}} must have no more than {{#limit}} decimal places',\n        'number.unsafe': '{{#label}} must be a safe number'\n    }\n});\n\n\n// Helpers\n\ninternals.normalizeExponent = function (str) {\n\n    return str\n        .replace(/E/, 'e')\n        .replace(/\\.(\\d*[1-9])?0+e/, '.$1e')\n        .replace(/\\.e/, 'e')\n        .replace(/e\\+/, 'e')\n        .replace(/^\\+/, '')\n        .replace(/^(-?)0+([1-9])/, '$1$2');\n};\n\n\ninternals.normalizeDecimal = function (str) {\n\n    str = str\n        .replace(/^\\+/, '')\n        .replace(/\\.0+$/, '')\n        .replace(/^(-?)\\.([^\\.]*)$/, '$10.$2')\n        .replace(/^(-?)0+([1-9])/, '$1$2');\n\n    if (str.includes('.') &&\n        str.endsWith('0')) {\n\n        str = str.replace(/0+$/, '');\n    }\n\n    if (str === '-0') {\n        return '0';\n    }\n\n    return str;\n};\n","'use strict';\n\nconst Keys = require('./keys');\n\n\nconst internals = {};\n\n\nmodule.exports = Keys.extend({\n\n    type: 'object',\n\n    cast: {\n        map: {\n            from: (value) => value && typeof value === 'object',\n            to(value, helpers) {\n\n                return new Map(Object.entries(value));\n            }\n        }\n    }\n});\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Domain = require('@hapi/address/lib/domain');\nconst Email = require('@hapi/address/lib/email');\nconst Ip = require('@hapi/address/lib/ip');\nconst EscapeRegex = require('@hapi/hoek/lib/escapeRegex');\nconst Tlds = require('@hapi/address/lib/tlds');\nconst Uri = require('@hapi/address/lib/uri');\n\nconst Any = require('./any');\nconst Common = require('../common');\n\n\nconst internals = {\n    tlds: Tlds instanceof Set ? { tlds: { allow: Tlds, deny: null } } : false,              // $lab:coverage:ignore$\n    base64Regex: {\n        // paddingRequired\n        true: {\n            // urlSafe\n            true: /^(?:[\\w\\-]{2}[\\w\\-]{2})*(?:[\\w\\-]{2}==|[\\w\\-]{3}=)?$/,\n            false: /^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/\n        },\n        false: {\n            true: /^(?:[\\w\\-]{2}[\\w\\-]{2})*(?:[\\w\\-]{2}(==)?|[\\w\\-]{3}=?)?$/,\n            false: /^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?$/\n        }\n    },\n    dataUriRegex: /^data:[\\w+.-]+\\/[\\w+.-]+;((charset=[\\w-]+|base64),)?(.*)$/,\n    hexRegex: /^[a-f0-9]+$/i,\n    ipRegex: Ip.regex().regex,\n    isoDurationRegex: /^P(?!$)(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?$/,\n\n    guidBrackets: {\n        '{': '}', '[': ']', '(': ')', '': ''\n    },\n    guidVersions: {\n        uuidv1: '1',\n        uuidv2: '2',\n        uuidv3: '3',\n        uuidv4: '4',\n        uuidv5: '5'\n    },\n\n    cidrPresences: ['required', 'optional', 'forbidden'],\n    normalizationForms: ['NFC', 'NFD', 'NFKC', 'NFKD']\n};\n\n\nmodule.exports = Any.extend({\n\n    type: 'string',\n\n    flags: {\n\n        insensitive: { default: false },\n        truncate: { default: false }\n    },\n\n    terms: {\n\n        replacements: { init: null }\n    },\n\n    coerce: {\n        from: 'string',\n        method(value, { schema, state, prefs }) {\n\n            const normalize = schema.$_getRule('normalize');\n            if (normalize) {\n                value = value.normalize(normalize.args.form);\n            }\n\n            const casing = schema.$_getRule('case');\n            if (casing) {\n                value = casing.args.direction === 'upper' ? value.toLocaleUpperCase() : value.toLocaleLowerCase();\n            }\n\n            const trim = schema.$_getRule('trim');\n            if (trim &&\n                trim.args.enabled) {\n\n                value = value.trim();\n            }\n\n            if (schema.$_terms.replacements) {\n                for (const replacement of schema.$_terms.replacements) {\n                    value = value.replace(replacement.pattern, replacement.replacement);\n                }\n            }\n\n            const hex = schema.$_getRule('hex');\n            if (hex &&\n                hex.args.options.byteAligned &&\n                value.length % 2 !== 0) {\n\n                value = `0${value}`;\n            }\n\n            if (schema.$_getRule('isoDate')) {\n                const iso = internals.isoDate(value);\n                if (iso) {\n                    value = iso;\n                }\n            }\n\n            if (schema._flags.truncate) {\n                const rule = schema.$_getRule('max');\n                if (rule) {\n                    let limit = rule.args.limit;\n                    if (Common.isResolvable(limit)) {\n                        limit = limit.resolve(value, state, prefs);\n                        if (!Common.limit(limit)) {\n                            return { value, errors: schema.$_createError('any.ref', limit, { ref: rule.args.limit, arg: 'limit', reason: 'must be a positive integer' }, state, prefs) };\n                        }\n                    }\n\n                    value = value.slice(0, limit);\n                }\n            }\n\n            return { value };\n        }\n    },\n\n    validate(value, { error }) {\n\n        if (typeof value !== 'string') {\n            return { value, errors: error('string.base') };\n        }\n\n        if (value === '') {\n            return { value, errors: error('string.empty') };\n        }\n    },\n\n    rules: {\n\n        alphanum: {\n            method() {\n\n                return this.$_addRule('alphanum');\n            },\n            validate(value, helpers) {\n\n                if (/^[a-zA-Z0-9]+$/.test(value)) {\n                    return value;\n                }\n\n                return helpers.error('string.alphanum');\n            }\n        },\n\n        base64: {\n            method(options = {}) {\n\n                Common.assertOptions(options, ['paddingRequired', 'urlSafe']);\n\n                options = { urlSafe: false, paddingRequired: true, ...options };\n                Assert(typeof options.paddingRequired === 'boolean', 'paddingRequired must be boolean');\n                Assert(typeof options.urlSafe === 'boolean', 'urlSafe must be boolean');\n\n                return this.$_addRule({ name: 'base64', args: { options } });\n            },\n            validate(value, helpers, { options }) {\n\n                const regex = internals.base64Regex[options.paddingRequired][options.urlSafe];\n                if (regex.test(value)) {\n                    return value;\n                }\n\n                return helpers.error('string.base64');\n            }\n        },\n\n        case: {\n            method(direction) {\n\n                Assert(['lower', 'upper'].includes(direction), 'Invalid case:', direction);\n\n                return this.$_addRule({ name: 'case', args: { direction } });\n            },\n            validate(value, helpers, { direction }) {\n\n                if (direction === 'lower' && value === value.toLocaleLowerCase() ||\n                    direction === 'upper' && value === value.toLocaleUpperCase()) {\n\n                    return value;\n                }\n\n                return helpers.error(`string.${direction}case`);\n            },\n            convert: true\n        },\n\n        creditCard: {\n            method() {\n\n                return this.$_addRule('creditCard');\n            },\n            validate(value, helpers) {\n\n                let i = value.length;\n                let sum = 0;\n                let mul = 1;\n\n                while (i--) {\n                    const char = value.charAt(i) * mul;\n                    sum = sum + (char - (char > 9) * 9);\n                    mul = mul ^ 3;\n                }\n\n                if (sum > 0 &&\n                    sum % 10 === 0) {\n\n                    return value;\n                }\n\n                return helpers.error('string.creditCard');\n            }\n        },\n\n        dataUri: {\n            method(options = {}) {\n\n                Common.assertOptions(options, ['paddingRequired']);\n\n                options = { paddingRequired: true, ...options };\n                Assert(typeof options.paddingRequired === 'boolean', 'paddingRequired must be boolean');\n\n                return this.$_addRule({ name: 'dataUri', args: { options } });\n            },\n            validate(value, helpers, { options }) {\n\n                const matches = value.match(internals.dataUriRegex);\n\n                if (matches) {\n                    if (!matches[2]) {\n                        return value;\n                    }\n\n                    if (matches[2] !== 'base64') {\n                        return value;\n                    }\n\n                    const base64regex = internals.base64Regex[options.paddingRequired].false;\n                    if (base64regex.test(matches[3])) {\n                        return value;\n                    }\n                }\n\n                return helpers.error('string.dataUri');\n            }\n        },\n\n        domain: {\n            method(options) {\n\n                if (options) {\n                    Common.assertOptions(options, ['allowUnicode', 'minDomainSegments', 'tlds']);\n                }\n\n                const address = internals.addressOptions(options);\n                return this.$_addRule({ name: 'domain', args: { options }, address });\n            },\n            validate(value, helpers, args, { address }) {\n\n                if (Domain.isValid(value, address)) {\n                    return value;\n                }\n\n                return helpers.error('string.domain');\n            }\n        },\n\n        email: {\n            method(options = {}) {\n\n                Common.assertOptions(options, ['allowUnicode', 'ignoreLength', 'minDomainSegments', 'multiple', 'separator', 'tlds']);\n                Assert(options.multiple === undefined || typeof options.multiple === 'boolean', 'multiple option must be an boolean');\n\n                const address = internals.addressOptions(options);\n                const regex = new RegExp(`\\\\s*[${options.separator ? EscapeRegex(options.separator) : ','}]\\\\s*`);\n\n                return this.$_addRule({ name: 'email', args: { options }, regex, address });\n            },\n            validate(value, helpers, { options }, { regex, address }) {\n\n                const emails = options.multiple ? value.split(regex) : [value];\n                const invalids = [];\n                for (const email of emails) {\n                    if (!Email.isValid(email, address)) {\n                        invalids.push(email);\n                    }\n                }\n\n                if (!invalids.length) {\n                    return value;\n                }\n\n                return helpers.error('string.email', { value, invalids });\n            }\n        },\n\n        guid: {\n            alias: 'uuid',\n            method(options = {}) {\n\n                Common.assertOptions(options, ['version']);\n\n                let versionNumbers = '';\n\n                if (options.version) {\n                    const versions = [].concat(options.version);\n\n                    Assert(versions.length >= 1, 'version must have at least 1 valid version specified');\n                    const set = new Set();\n\n                    for (let i = 0; i < versions.length; ++i) {\n                        const version = versions[i];\n                        Assert(typeof version === 'string', 'version at position ' + i + ' must be a string');\n                        const versionNumber = internals.guidVersions[version.toLowerCase()];\n                        Assert(versionNumber, 'version at position ' + i + ' must be one of ' + Object.keys(internals.guidVersions).join(', '));\n                        Assert(!set.has(versionNumber), 'version at position ' + i + ' must not be a duplicate');\n\n                        versionNumbers += versionNumber;\n                        set.add(versionNumber);\n                    }\n                }\n\n                const regex = new RegExp(`^([\\\\[{\\\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\\\2?[${versionNumbers || '0-9A-F'}][0-9A-F]{3}\\\\2?[${versionNumbers ? '89AB' : '0-9A-F'}][0-9A-F]{3}\\\\2?[0-9A-F]{12}([\\\\]}\\\\)]?)$`, 'i');\n\n                return this.$_addRule({ name: 'guid', args: { options }, regex });\n            },\n            validate(value, helpers, args, { regex }) {\n\n                const results = regex.exec(value);\n\n                if (!results) {\n                    return helpers.error('string.guid');\n                }\n\n                // Matching braces\n\n                if (internals.guidBrackets[results[1]] !== results[results.length - 1]) {\n                    return helpers.error('string.guid');\n                }\n\n                return value;\n            }\n        },\n\n        hex: {\n            method(options = {}) {\n\n                Common.assertOptions(options, ['byteAligned']);\n\n                options = { byteAligned: false, ...options };\n                Assert(typeof options.byteAligned === 'boolean', 'byteAligned must be boolean');\n\n                return this.$_addRule({ name: 'hex', args: { options } });\n            },\n            validate(value, helpers, { options }) {\n\n                if (!internals.hexRegex.test(value)) {\n                    return helpers.error('string.hex');\n                }\n\n                if (options.byteAligned &&\n                    value.length % 2 !== 0) {\n\n                    return helpers.error('string.hexAlign');\n                }\n\n                return value;\n            }\n        },\n\n        hostname: {\n            method() {\n\n                return this.$_addRule('hostname');\n            },\n            validate(value, helpers) {\n\n                if (Domain.isValid(value, { minDomainSegments: 1 }) ||\n                    internals.ipRegex.test(value)) {\n\n                    return value;\n                }\n\n                return helpers.error('string.hostname');\n            }\n        },\n\n        insensitive: {\n            method() {\n\n                return this.$_setFlag('insensitive', true);\n            }\n        },\n\n        ip: {\n            method(options = {}) {\n\n                Common.assertOptions(options, ['cidr', 'version']);\n\n                const { cidr, versions, regex } = Ip.regex(options);\n                const version = options.version ? versions : undefined;\n                return this.$_addRule({ name: 'ip', args: { options: { cidr, version } }, regex });\n            },\n            validate(value, helpers, { options }, { regex }) {\n\n                if (regex.test(value)) {\n                    return value;\n                }\n\n                if (options.version) {\n                    return helpers.error('string.ipVersion', { value, cidr: options.cidr, version: options.version });\n                }\n\n                return helpers.error('string.ip', { value, cidr: options.cidr });\n            }\n        },\n\n        isoDate: {\n            method() {\n\n                return this.$_addRule('isoDate');\n            },\n            validate(value, { error }) {\n\n                if (internals.isoDate(value)) {\n                    return value;\n                }\n\n                return error('string.isoDate');\n            }\n        },\n\n        isoDuration: {\n            method() {\n\n                return this.$_addRule('isoDuration');\n            },\n            validate(value, helpers) {\n\n                if (internals.isoDurationRegex.test(value)) {\n                    return value;\n                }\n\n                return helpers.error('string.isoDuration');\n            }\n        },\n\n        length: {\n            method(limit, encoding) {\n\n                return internals.length(this, 'length', limit, '=', encoding);\n            },\n            validate(value, helpers, { limit, encoding }, { name, operator, args }) {\n\n                const length = encoding ? Buffer && Buffer.byteLength(value, encoding) : value.length;      // $lab:coverage:ignore$\n                if (Common.compare(length, limit, operator)) {\n                    return value;\n                }\n\n                return helpers.error('string.' + name, { limit: args.limit, value, encoding });\n            },\n            args: [\n                {\n                    name: 'limit',\n                    ref: true,\n                    assert: Common.limit,\n                    message: 'must be a positive integer'\n                },\n                'encoding'\n            ]\n        },\n\n        lowercase: {\n            method() {\n\n                return this.case('lower');\n            }\n        },\n\n        max: {\n            method(limit, encoding) {\n\n                return internals.length(this, 'max', limit, '<=', encoding);\n            },\n            args: ['limit', 'encoding']\n        },\n\n        min: {\n            method(limit, encoding) {\n\n                return internals.length(this, 'min', limit, '>=', encoding);\n            },\n            args: ['limit', 'encoding']\n        },\n\n        normalize: {\n            method(form = 'NFC') {\n\n                Assert(internals.normalizationForms.includes(form), 'normalization form must be one of ' + internals.normalizationForms.join(', '));\n\n                return this.$_addRule({ name: 'normalize', args: { form } });\n            },\n            validate(value, { error }, { form }) {\n\n                if (value === value.normalize(form)) {\n                    return value;\n                }\n\n                return error('string.normalize', { value, form });\n            },\n            convert: true\n        },\n\n        pattern: {\n            alias: 'regex',\n            method(regex, options = {}) {\n\n                Assert(regex instanceof RegExp, 'regex must be a RegExp');\n                Assert(!regex.flags.includes('g') && !regex.flags.includes('y'), 'regex should not use global or sticky mode');\n\n                if (typeof options === 'string') {\n                    options = { name: options };\n                }\n\n                Common.assertOptions(options, ['invert', 'name']);\n\n                const errorCode = ['string.pattern', options.invert ? '.invert' : '', options.name ? '.name' : '.base'].join('');\n                return this.$_addRule({ name: 'pattern', args: { regex, options }, errorCode });\n            },\n            validate(value, helpers, { regex, options }, { errorCode }) {\n\n                const patternMatch = regex.test(value);\n\n                if (patternMatch ^ options.invert) {\n                    return value;\n                }\n\n                return helpers.error(errorCode, { name: options.name, regex, value });\n            },\n            args: ['regex', 'options'],\n            multi: true\n        },\n\n        replace: {\n            method(pattern, replacement) {\n\n                if (typeof pattern === 'string') {\n                    pattern = new RegExp(EscapeRegex(pattern), 'g');\n                }\n\n                Assert(pattern instanceof RegExp, 'pattern must be a RegExp');\n                Assert(typeof replacement === 'string', 'replacement must be a String');\n\n                const obj = this.clone();\n\n                if (!obj.$_terms.replacements) {\n                    obj.$_terms.replacements = [];\n                }\n\n                obj.$_terms.replacements.push({ pattern, replacement });\n                return obj;\n            }\n        },\n\n        token: {\n            method() {\n\n                return this.$_addRule('token');\n            },\n            validate(value, helpers) {\n\n                if (/^\\w+$/.test(value)) {\n                    return value;\n                }\n\n                return helpers.error('string.token');\n            }\n        },\n\n        trim: {\n            method(enabled = true) {\n\n                Assert(typeof enabled === 'boolean', 'enabled must be a boolean');\n\n                return this.$_addRule({ name: 'trim', args: { enabled } });\n            },\n            validate(value, helpers, { enabled }) {\n\n                if (!enabled ||\n                    value === value.trim()) {\n\n                    return value;\n                }\n\n                return helpers.error('string.trim');\n            },\n            convert: true\n        },\n\n        truncate: {\n            method(enabled = true) {\n\n                Assert(typeof enabled === 'boolean', 'enabled must be a boolean');\n\n                return this.$_setFlag('truncate', enabled);\n            }\n        },\n\n        uppercase: {\n            method() {\n\n                return this.case('upper');\n            }\n        },\n\n        uri: {\n            method(options = {}) {\n\n                Common.assertOptions(options, ['allowRelative', 'allowQuerySquareBrackets', 'domain', 'relativeOnly', 'scheme']);\n\n                if (options.domain) {\n                    Common.assertOptions(options.domain, ['allowUnicode', 'minDomainSegments', 'tlds']);\n                }\n\n                const { regex, scheme } = Uri.regex(options);\n                const domain = options.domain ? internals.addressOptions(options.domain) : null;\n                return this.$_addRule({ name: 'uri', args: { options }, regex, domain, scheme });\n            },\n            validate(value, helpers, { options }, { regex, domain, scheme }) {\n\n                if (['http:/', 'https:/'].includes(value)) {            // scheme:/ is technically valid but makes no sense\n                    return helpers.error('string.uri');\n                }\n\n                const match = regex.exec(value);\n                if (match) {\n                    if (domain) {\n                        const matched = match[1] || match[2];\n                        if (!Domain.isValid(matched, domain)) {\n                            return helpers.error('string.domain', { value: matched });\n                        }\n                    }\n\n                    return value;\n                }\n\n                if (options.relativeOnly) {\n                    return helpers.error('string.uriRelativeOnly');\n                }\n\n                if (options.scheme) {\n                    return helpers.error('string.uriCustomScheme', { scheme, value });\n                }\n\n                return helpers.error('string.uri');\n            }\n        }\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            if (desc.replacements) {\n                for (const { pattern, replacement } of desc.replacements) {\n                    obj = obj.replace(pattern, replacement);\n                }\n            }\n\n            return obj;\n        }\n    },\n\n    messages: {\n        'string.alphanum': '{{#label}} must only contain alpha-numeric characters',\n        'string.base': '{{#label}} must be a string',\n        'string.base64': '{{#label}} must be a valid base64 string',\n        'string.creditCard': '{{#label}} must be a credit card',\n        'string.dataUri': '{{#label}} must be a valid dataUri string',\n        'string.domain': '{{#label}} must contain a valid domain name',\n        'string.email': '{{#label}} must be a valid email',\n        'string.empty': '{{#label}} is not allowed to be empty',\n        'string.guid': '{{#label}} must be a valid GUID',\n        'string.hex': '{{#label}} must only contain hexadecimal characters',\n        'string.hexAlign': '{{#label}} hex decoded representation must be byte aligned',\n        'string.hostname': '{{#label}} must be a valid hostname',\n        'string.ip': '{{#label}} must be a valid ip address with a {{#cidr}} CIDR',\n        'string.ipVersion': '{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR',\n        'string.isoDate': '{{#label}} must be in iso format',\n        'string.isoDuration': '{{#label}} must be a valid ISO 8601 duration',\n        'string.length': '{{#label}} length must be {{#limit}} characters long',\n        'string.lowercase': '{{#label}} must only contain lowercase characters',\n        'string.max': '{{#label}} length must be less than or equal to {{#limit}} characters long',\n        'string.min': '{{#label}} length must be at least {{#limit}} characters long',\n        'string.normalize': '{{#label}} must be unicode normalized in the {{#form}} form',\n        'string.token': '{{#label}} must only contain alpha-numeric and underscore characters',\n        'string.pattern.base': '{{#label}} with value \"{[.]}\" fails to match the required pattern: {{#regex}}',\n        'string.pattern.name': '{{#label}} with value \"{[.]}\" fails to match the {{#name}} pattern',\n        'string.pattern.invert.base': '{{#label}} with value \"{[.]}\" matches the inverted pattern: {{#regex}}',\n        'string.pattern.invert.name': '{{#label}} with value \"{[.]}\" matches the inverted {{#name}} pattern',\n        'string.trim': '{{#label}} must not have leading or trailing whitespace',\n        'string.uri': '{{#label}} must be a valid uri',\n        'string.uriCustomScheme': '{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern',\n        'string.uriRelativeOnly': '{{#label}} must be a valid relative uri',\n        'string.uppercase': '{{#label}} must only contain uppercase characters'\n    }\n});\n\n\n// Helpers\n\ninternals.addressOptions = function (options) {\n\n    if (!options) {\n        return options;\n    }\n\n    // minDomainSegments\n\n    Assert(options.minDomainSegments === undefined ||\n        Number.isSafeInteger(options.minDomainSegments) && options.minDomainSegments > 0, 'minDomainSegments must be a positive integer');\n\n    // tlds\n\n    if (options.tlds === false) {\n        return options;\n    }\n\n    if (options.tlds === true ||\n        options.tlds === undefined) {\n\n        Assert(internals.tlds, 'Built-in TLD list disabled');\n        return Object.assign({}, options, internals.tlds);\n    }\n\n    Assert(typeof options.tlds === 'object', 'tlds must be true, false, or an object');\n\n    const deny = options.tlds.deny;\n    if (deny) {\n        if (Array.isArray(deny)) {\n            options = Object.assign({}, options, { tlds: { deny: new Set(deny) } });\n        }\n\n        Assert(options.tlds.deny instanceof Set, 'tlds.deny must be an array, Set, or boolean');\n        Assert(!options.tlds.allow, 'Cannot specify both tlds.allow and tlds.deny lists');\n        return options;\n    }\n\n    const allow = options.tlds.allow;\n    if (!allow) {\n        return options;\n    }\n\n    if (allow === true) {\n        Assert(internals.tlds, 'Built-in TLD list disabled');\n        return Object.assign({}, options, internals.tlds);\n    }\n\n    if (Array.isArray(allow)) {\n        options = Object.assign({}, options, { tlds: { allow: new Set(allow) } });\n    }\n\n    Assert(options.tlds.allow instanceof Set, 'tlds.allow must be an array, Set, or boolean');\n    return options;\n};\n\n\ninternals.isoDate = function (value) {\n\n    if (!Common.isIsoDate(value)) {\n        return null;\n    }\n\n    const date = new Date(value);\n    if (isNaN(date.getTime())) {\n        return null;\n    }\n\n    return date.toISOString();\n};\n\n\ninternals.length = function (schema, name, limit, operator, encoding) {\n\n    Assert(!encoding || Buffer && Buffer.isEncoding(encoding), 'Invalid encoding:', encoding);      // $lab:coverage:ignore$\n\n    return schema.$_addRule({ name, method: 'length', args: { limit, encoding }, operator });\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Any = require('./any');\n\n\nconst internals = {};\n\n\ninternals.Map = class extends Map {\n\n    slice() {\n\n        return new internals.Map(this);\n    }\n};\n\n\nmodule.exports = Any.extend({\n\n    type: 'symbol',\n\n    terms: {\n\n        map: { init: new internals.Map() }\n    },\n\n    coerce: {\n        method(value, { schema, error }) {\n\n            const lookup = schema.$_terms.map.get(value);\n            if (lookup) {\n                value = lookup;\n            }\n\n            if (!schema._flags.only ||\n                typeof value === 'symbol') {\n\n                return { value };\n            }\n\n            return { value, errors: error('symbol.map', { map: schema.$_terms.map }) };\n        }\n    },\n\n    validate(value, { error }) {\n\n        if (typeof value !== 'symbol') {\n            return { value, errors: error('symbol.base') };\n        }\n    },\n\n    rules: {\n        map: {\n            method(iterable) {\n\n                if (iterable &&\n                    !iterable[Symbol.iterator] &&\n                    typeof iterable === 'object') {\n\n                    iterable = Object.entries(iterable);\n                }\n\n                Assert(iterable && iterable[Symbol.iterator], 'Iterable must be an iterable or object');\n\n                const obj = this.clone();\n\n                const symbols = [];\n                for (const entry of iterable) {\n                    Assert(entry && entry[Symbol.iterator], 'Entry must be an iterable');\n                    const [key, value] = entry;\n\n                    Assert(typeof key !== 'object' && typeof key !== 'function' && typeof key !== 'symbol', 'Key must not be of type object, function, or Symbol');\n                    Assert(typeof value === 'symbol', 'Value must be a Symbol');\n\n                    obj.$_terms.map.set(key, value);\n                    symbols.push(value);\n                }\n\n                return obj.valid(...symbols);\n            }\n        }\n    },\n\n    manifest: {\n\n        build(obj, desc) {\n\n            if (desc.map) {\n                obj = obj.map(desc.map);\n            }\n\n            return obj;\n        }\n    },\n\n    messages: {\n        'symbol.base': '{{#label}} must be a symbol',\n        'symbol.map': '{{#label}} must be one of {{#map}}'\n    }\n});\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\nconst Ignore = require('@hapi/hoek/lib/ignore');\nconst Reach = require('@hapi/hoek/lib/reach');\n\nconst Common = require('./common');\nconst Errors = require('./errors');\nconst State = require('./state');\n\n\nconst internals = {\n    result: Symbol('result')\n};\n\n\nexports.entry = function (value, schema, prefs) {\n\n    let settings = Common.defaults;\n    if (prefs) {\n        Assert(prefs.warnings === undefined, 'Cannot override warnings preference in synchronous validation');\n        settings = Common.preferences(Common.defaults, prefs);\n    }\n\n    const result = internals.entry(value, schema, settings);\n    Assert(!result.mainstay.externals.length, 'Schema with external rules must use validateAsync()');\n    const outcome = { value: result.value };\n\n    if (result.error) {\n        outcome.error = result.error;\n    }\n\n    if (result.mainstay.warnings.length) {\n        outcome.warning = Errors.details(result.mainstay.warnings);\n    }\n\n    if (result.mainstay.debug) {\n        outcome.debug = result.mainstay.debug;\n    }\n\n    return outcome;\n};\n\n\nexports.entryAsync = async function (value, schema, prefs) {\n\n    let settings = Common.defaults;\n    if (prefs) {\n        settings = Common.preferences(Common.defaults, prefs);\n    }\n\n    const result = internals.entry(value, schema, settings);\n    const mainstay = result.mainstay;\n    if (result.error) {\n        if (mainstay.debug) {\n            result.error.debug = mainstay.debug;\n        }\n\n        throw result.error;\n    }\n\n    if (mainstay.externals.length) {\n        let root = result.value;\n        for (const { method, path, label } of mainstay.externals) {\n            let node = root;\n            let key;\n            let parent;\n\n            if (path.length) {\n                key = path[path.length - 1];\n                parent = Reach(root, path.slice(0, -1));\n                node = parent[key];\n            }\n\n            try {\n                const output = await method(node);\n                if (output === undefined ||\n                    output === node) {\n\n                    continue;\n                }\n\n                if (parent) {\n                    parent[key] = output;\n                }\n                else {\n                    root = output;\n                }\n            }\n            catch (err) {\n                err.message += ` (${label})`;       // Change message to include path\n                throw err;\n            }\n        }\n\n        result.value = root;\n    }\n\n    if (!settings.warnings &&\n        !settings.debug) {\n\n        return result.value;\n    }\n\n    const outcome = { value: result.value };\n    if (mainstay.warnings.length) {\n        outcome.warning = Errors.details(mainstay.warnings);\n    }\n\n    if (mainstay.debug) {\n        outcome.debug = mainstay.debug;\n    }\n\n    return outcome;\n};\n\n\ninternals.entry = function (value, schema, prefs) {\n\n    // Prepare state\n\n    const { tracer, cleanup } = internals.tracer(schema, prefs);\n    const debug = prefs.debug ? [] : null;\n    const links = schema._ids._schemaChain ? new Map() : null;\n    const mainstay = { externals: [], warnings: [], tracer, debug, links };\n    const schemas = schema._ids._schemaChain ? [{ schema }] : null;\n    const state = new State([], [], { mainstay, schemas });\n\n    // Validate value\n\n    const result = exports.validate(value, schema, state, prefs);\n\n    // Process value and errors\n\n    if (cleanup) {\n        schema.$_root.untrace();\n    }\n\n    const error = Errors.process(result.errors, value, prefs);\n    return { value: result.value, error, mainstay };\n};\n\n\ninternals.tracer = function (schema, prefs) {\n\n    if (schema.$_root._tracer) {\n        return { tracer: schema.$_root._tracer._register(schema) };\n    }\n\n    if (prefs.debug) {\n        Assert(schema.$_root.trace, 'Debug mode not supported');\n        return { tracer: schema.$_root.trace()._register(schema), cleanup: true };\n    }\n\n    return { tracer: internals.ignore };\n};\n\n\nexports.validate = function (value, schema, state, prefs, overrides = {}) {\n\n    if (schema.$_terms.whens) {\n        schema = schema._generate(value, state, prefs).schema;\n    }\n\n    // Setup state and settings\n\n    if (schema._preferences) {\n        prefs = internals.prefs(schema, prefs);\n    }\n\n    // Cache\n\n    if (schema._cache &&\n        prefs.cache) {\n\n        const result = schema._cache.get(value);\n        state.mainstay.tracer.debug(state, 'validate', 'cached', !!result);\n        if (result) {\n            return result;\n        }\n    }\n\n    // Helpers\n\n    const createError = (code, local, localState) => schema.$_createError(code, value, local, localState || state, prefs);\n    const helpers = {\n        original: value,\n        prefs,\n        schema,\n        state,\n        error: createError,\n        warn: (code, local, localState) => state.mainstay.warnings.push(createError(code, local, localState)),\n        message: (messages, local) => schema.$_createError('custom', value, local, state, prefs, { messages })\n    };\n\n    // Prepare\n\n    state.mainstay.tracer.entry(schema, state);\n\n    const def = schema._definition;\n    if (def.prepare &&\n        value !== undefined &&\n        prefs.convert) {\n\n        const prepared = def.prepare(value, helpers);\n        if (prepared) {\n            state.mainstay.tracer.value(state, 'prepare', value, prepared.value);\n            if (prepared.errors) {\n                return internals.finalize(prepared.value, [].concat(prepared.errors), helpers);         // Prepare error always aborts early\n            }\n\n            value = prepared.value;\n        }\n    }\n\n    // Type coercion\n\n    if (def.coerce &&\n        value !== undefined &&\n        prefs.convert &&\n        (!def.coerce.from || def.coerce.from.includes(typeof value))) {\n\n        const coerced = def.coerce.method(value, helpers);\n        if (coerced) {\n            state.mainstay.tracer.value(state, 'coerced', value, coerced.value);\n            if (coerced.errors) {\n                return internals.finalize(coerced.value, [].concat(coerced.errors), helpers);           // Coerce error always aborts early\n            }\n\n            value = coerced.value;\n        }\n    }\n\n    // Empty value\n\n    const empty = schema._flags.empty;\n    if (empty &&\n        empty.$_match(internals.trim(value, schema), state.nest(empty), Common.defaults)) {\n\n        state.mainstay.tracer.value(state, 'empty', value, undefined);\n        value = undefined;\n    }\n\n    // Presence requirements (required, optional, forbidden)\n\n    const presence = overrides.presence || schema._flags.presence || (schema._flags._endedSwitch ? 'ignore' : prefs.presence);\n    if (value === undefined) {\n        if (presence === 'forbidden') {\n            return internals.finalize(value, null, helpers);\n        }\n\n        if (presence === 'required') {\n            return internals.finalize(value, [schema.$_createError('any.required', value, null, state, prefs)], helpers);\n        }\n\n        if (presence === 'optional') {\n            if (schema._flags.default !== Common.symbols.deepDefault) {\n                return internals.finalize(value, null, helpers);\n            }\n\n            state.mainstay.tracer.value(state, 'default', value, {});\n            value = {};\n        }\n    }\n    else if (presence === 'forbidden') {\n        return internals.finalize(value, [schema.$_createError('any.unknown', value, null, state, prefs)], helpers);\n    }\n\n    // Allowed values\n\n    const errors = [];\n\n    if (schema._valids) {\n        const match = schema._valids.get(value, state, prefs, schema._flags.insensitive);\n        if (match) {\n            if (prefs.convert) {\n                state.mainstay.tracer.value(state, 'valids', value, match.value);\n                value = match.value;\n            }\n\n            state.mainstay.tracer.filter(schema, state, 'valid', match);\n            return internals.finalize(value, null, helpers);\n        }\n\n        if (schema._flags.only) {\n            const report = schema.$_createError('any.only', value, { valids: schema._valids.values({ display: true }) }, state, prefs);\n            if (prefs.abortEarly) {\n                return internals.finalize(value, [report], helpers);\n            }\n\n            errors.push(report);\n        }\n    }\n\n    // Denied values\n\n    if (schema._invalids) {\n        const match = schema._invalids.get(value, state, prefs, schema._flags.insensitive);\n        if (match) {\n            state.mainstay.tracer.filter(schema, state, 'invalid', match);\n            const report = schema.$_createError('any.invalid', value, { invalids: schema._invalids.values({ display: true }) }, state, prefs);\n            if (prefs.abortEarly) {\n                return internals.finalize(value, [report], helpers);\n            }\n\n            errors.push(report);\n        }\n    }\n\n    // Base type\n\n    if (def.validate) {\n        const base = def.validate(value, helpers);\n        if (base) {\n            state.mainstay.tracer.value(state, 'base', value, base.value);\n            value = base.value;\n\n            if (base.errors) {\n                if (!Array.isArray(base.errors)) {\n                    errors.push(base.errors);\n                    return internals.finalize(value, errors, helpers);          // Base error always aborts early\n                }\n\n                if (base.errors.length) {\n                    errors.push(...base.errors);\n                    return internals.finalize(value, errors, helpers);          // Base error always aborts early\n                }\n            }\n        }\n    }\n\n    // Validate tests\n\n    if (!schema._rules.length) {\n        return internals.finalize(value, errors, helpers);\n    }\n\n    return internals.rules(value, errors, helpers);\n};\n\n\ninternals.rules = function (value, errors, helpers) {\n\n    const { schema, state, prefs } = helpers;\n\n    for (const rule of schema._rules) {\n        const definition = schema._definition.rules[rule.method];\n\n        // Skip rules that are also applied in coerce step\n\n        if (definition.convert &&\n            prefs.convert) {\n\n            state.mainstay.tracer.log(schema, state, 'rule', rule.name, 'full');\n            continue;\n        }\n\n        // Resolve references\n\n        let ret;\n        let args = rule.args;\n        if (rule._resolve.length) {\n            args = Object.assign({}, args);                                     // Shallow copy\n            for (const key of rule._resolve) {\n                const resolver = definition.argsByName.get(key);\n\n                const resolved = args[key].resolve(value, state, prefs);\n                const normalized = resolver.normalize ? resolver.normalize(resolved) : resolved;\n\n                const invalid = Common.validateArg(normalized, null, resolver);\n                if (invalid) {\n                    ret = schema.$_createError('any.ref', resolved, { arg: key, ref: args[key], reason: invalid }, state, prefs);\n                    break;\n                }\n\n                args[key] = normalized;\n            }\n        }\n\n        // Test rule\n\n        ret = ret || definition.validate(value, helpers, args, rule);           // Use ret if already set to reference error\n\n        const result = internals.rule(ret, rule);\n        if (result.errors) {\n            state.mainstay.tracer.log(schema, state, 'rule', rule.name, 'error');\n\n            if (rule.warn) {\n                state.mainstay.warnings.push(...result.errors);\n                continue;\n            }\n\n            if (prefs.abortEarly) {\n                return internals.finalize(value, result.errors, helpers);\n            }\n\n            errors.push(...result.errors);\n        }\n        else {\n            state.mainstay.tracer.log(schema, state, 'rule', rule.name, 'pass');\n            state.mainstay.tracer.value(state, 'rule', value, result.value, rule.name);\n            value = result.value;\n        }\n    }\n\n    return internals.finalize(value, errors, helpers);\n};\n\n\ninternals.rule = function (ret, rule) {\n\n    if (ret instanceof Errors.Report) {\n        internals.error(ret, rule);\n        return { errors: [ret], value: null };\n    }\n\n    if (Array.isArray(ret) &&\n        (ret[0] instanceof Errors.Report || ret[0] instanceof Error)) {\n\n        ret.forEach((report) => internals.error(report, rule));\n        return { errors: ret, value: null };\n    }\n\n    return { errors: null, value: ret };\n};\n\n\ninternals.error = function (report, rule) {\n\n    if (rule.message) {\n        report._setTemplate(rule.message);\n    }\n\n    return report;\n};\n\n\ninternals.finalize = function (value, errors, helpers) {\n\n    errors = errors || [];\n    const { schema, state, prefs } = helpers;\n\n    // Failover value\n\n    if (errors.length) {\n        const failover = internals.default('failover', undefined, errors, helpers);\n        if (failover !== undefined) {\n            state.mainstay.tracer.value(state, 'failover', value, failover);\n            value = failover;\n            errors = [];\n        }\n    }\n\n    // Error override\n\n    if (errors.length &&\n        schema._flags.error) {\n\n        if (typeof schema._flags.error === 'function') {\n            errors = schema._flags.error(errors);\n            if (!Array.isArray(errors)) {\n                errors = [errors];\n            }\n\n            for (const error of errors) {\n                Assert(error instanceof Error || error instanceof Errors.Report, 'error() must return an Error object');\n            }\n        }\n        else {\n            errors = [schema._flags.error];\n        }\n    }\n\n    // Default\n\n    if (value === undefined) {\n        const defaulted = internals.default('default', value, errors, helpers);\n        state.mainstay.tracer.value(state, 'default', value, defaulted);\n        value = defaulted;\n    }\n\n    // Cast\n\n    if (schema._flags.cast &&\n        value !== undefined) {\n\n        const caster = schema._definition.cast[schema._flags.cast];\n        if (caster.from(value)) {\n            const casted = caster.to(value, helpers);\n            state.mainstay.tracer.value(state, 'cast', value, casted, schema._flags.cast);\n            value = casted;\n        }\n    }\n\n    // Externals\n\n    if (schema.$_terms.externals &&\n        prefs.externals &&\n        prefs._externals !== false) {                       // Disabled for matching\n\n        for (const { method } of schema.$_terms.externals) {\n            state.mainstay.externals.push({ method, path: state.path, label: Errors.label(schema._flags, state, prefs) });\n        }\n    }\n\n    // Result\n\n    const result = { value, errors: errors.length ? errors : null };\n\n    if (schema._flags.result) {\n        result.value = schema._flags.result === 'strip' ? undefined : /* raw */ helpers.original;\n        state.mainstay.tracer.value(state, schema._flags.result, value, result.value);\n        state.shadow(value, schema._flags.result);\n    }\n\n    // Cache\n\n    if (schema._cache &&\n        prefs.cache !== false &&\n        !schema._refs.length) {\n\n        schema._cache.set(helpers.original, result);\n    }\n\n    return result;\n};\n\n\ninternals.prefs = function (schema, prefs) {\n\n    const isDefaultOptions = prefs === Common.defaults;\n    if (isDefaultOptions &&\n        schema._preferences[Common.symbols.prefs]) {\n\n        return schema._preferences[Common.symbols.prefs];\n    }\n\n    prefs = Common.preferences(prefs, schema._preferences);\n    if (isDefaultOptions) {\n        schema._preferences[Common.symbols.prefs] = prefs;\n    }\n\n    return prefs;\n};\n\n\ninternals.default = function (flag, value, errors, helpers) {\n\n    const { schema, state, prefs } = helpers;\n    const source = schema._flags[flag];\n    if (prefs.noDefaults ||\n        source === undefined) {\n\n        return value;\n    }\n\n    state.mainstay.tracer.log(schema, state, 'rule', flag, 'full');\n\n    if (!source) {\n        return source;\n    }\n\n    if (typeof source === 'function') {\n        const args = source.length ? [Clone(state.ancestors[0]), helpers] : [];\n\n        try {\n            return source(...args);\n        }\n        catch (err) {\n            errors.push(schema.$_createError(`any.${flag}`, null, { error: err }, state, prefs));\n            return;\n        }\n    }\n\n    if (typeof source !== 'object') {\n        return source;\n    }\n\n    if (source[Common.symbols.literal]) {\n        return source.literal;\n    }\n\n    if (Common.isResolvable(source)) {\n        return source.resolve(value, state, prefs);\n    }\n\n    return Clone(source);\n};\n\n\ninternals.trim = function (value, schema) {\n\n    if (typeof value !== 'string') {\n        return value;\n    }\n\n    const trim = schema.$_getRule('trim');\n    if (!trim ||\n        !trim.args.enabled) {\n\n        return value;\n    }\n\n    return value.trim();\n};\n\n\ninternals.ignore = {\n    active: false,\n    debug: Ignore,\n    entry: Ignore,\n    filter: Ignore,\n    log: Ignore,\n    resolve: Ignore,\n    value: Ignore\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst DeepEqual = require('@hapi/hoek/lib/deepEqual');\n\nconst Common = require('./common');\n\n\nconst internals = {};\n\n\nmodule.exports = internals.Values = class {\n\n    constructor(values, refs) {\n\n        this._values = new Set(values);\n        this._refs = new Set(refs);\n        this._lowercase = internals.lowercases(values);\n\n        this._override = false;\n    }\n\n    get length() {\n\n        return this._values.size + this._refs.size;\n    }\n\n    add(value, refs) {\n\n        // Reference\n\n        if (Common.isResolvable(value)) {\n            if (!this._refs.has(value)) {\n                this._refs.add(value);\n\n                if (refs) {                     // Skipped in a merge\n                    refs.register(value);\n                }\n            }\n\n            return;\n        }\n\n        // Value\n\n        if (!this.has(value, null, null, false)) {\n            this._values.add(value);\n\n            if (typeof value === 'string') {\n                this._lowercase.set(value.toLowerCase(), value);\n            }\n        }\n    }\n\n    static merge(target, source, remove) {\n\n        target = target || new internals.Values();\n\n        if (source) {\n            if (source._override) {\n                return source.clone();\n            }\n\n            for (const item of [...source._values, ...source._refs]) {\n                target.add(item);\n            }\n        }\n\n        if (remove) {\n            for (const item of [...remove._values, ...remove._refs]) {\n                target.remove(item);\n            }\n        }\n\n        return target.length ? target : null;\n    }\n\n    remove(value) {\n\n        // Reference\n\n        if (Common.isResolvable(value)) {\n            this._refs.delete(value);\n            return;\n        }\n\n        // Value\n\n        this._values.delete(value);\n\n        if (typeof value === 'string') {\n            this._lowercase.delete(value.toLowerCase());\n        }\n    }\n\n    has(value, state, prefs, insensitive) {\n\n        return !!this.get(value, state, prefs, insensitive);\n    }\n\n    get(value, state, prefs, insensitive) {\n\n        if (!this.length) {\n            return false;\n        }\n\n        // Simple match\n\n        if (this._values.has(value)) {\n            return { value };\n        }\n\n        // Case insensitive string match\n\n        if (typeof value === 'string' &&\n            value &&\n            insensitive) {\n\n            const found = this._lowercase.get(value.toLowerCase());\n            if (found) {\n                return { value: found };\n            }\n        }\n\n        if (!this._refs.size &&\n            typeof value !== 'object') {\n\n            return false;\n        }\n\n        // Objects\n\n        if (typeof value === 'object') {\n            for (const item of this._values) {\n                if (DeepEqual(item, value)) {\n                    return { value: item };\n                }\n            }\n        }\n\n        // References\n\n        if (state) {\n            for (const ref of this._refs) {\n                const resolved = ref.resolve(value, state, prefs, null, { in: true });\n                if (resolved === undefined) {\n                    continue;\n                }\n\n                const items = !ref.in || typeof resolved !== 'object'\n                    ? [resolved]\n                    : Array.isArray(resolved) ? resolved : Object.keys(resolved);\n\n                for (const item of items) {\n                    if (typeof item !== typeof value) {\n                        continue;\n                    }\n\n                    if (insensitive &&\n                        value &&\n                        typeof value === 'string') {\n\n                        if (item.toLowerCase() === value.toLowerCase()) {\n                            return { value: item, ref };\n                        }\n                    }\n                    else {\n                        if (DeepEqual(item, value)) {\n                            return { value: item, ref };\n                        }\n                    }\n                }\n            }\n        }\n\n        return false;\n    }\n\n    override() {\n\n        this._override = true;\n    }\n\n    values(options) {\n\n        if (options &&\n            options.display) {\n\n            const values = [];\n\n            for (const item of [...this._values, ...this._refs]) {\n                if (item !== undefined) {\n                    values.push(item);\n                }\n            }\n\n            return values;\n        }\n\n        return Array.from([...this._values, ...this._refs]);\n    }\n\n    clone() {\n\n        const set = new internals.Values(this._values, this._refs);\n        set._override = this._override;\n        return set;\n    }\n\n    concat(source) {\n\n        Assert(!source._override, 'Cannot concat override set of values');\n\n        const set = new internals.Values([...this._values, ...source._values], [...this._refs, ...source._refs]);\n        set._override = this._override;\n        return set;\n    }\n\n    describe() {\n\n        const normalized = [];\n\n        if (this._override) {\n            normalized.push({ override: true });\n        }\n\n        for (const value of this._values.values()) {\n            normalized.push(value && typeof value === 'object' ? { value } : value);\n        }\n\n        for (const value of this._refs.values()) {\n            normalized.push(value.describe());\n        }\n\n        return normalized;\n    }\n};\n\n\ninternals.Values.prototype[Common.symbols.values] = true;\n\n\n// Aliases\n\ninternals.Values.prototype.slice = internals.Values.prototype.clone;\n\n\n// Helpers\n\ninternals.lowercases = function (from) {\n\n    const map = new Map();\n\n    if (from) {\n        for (const value of from) {\n            if (typeof value === 'string') {\n                map.set(value.toLowerCase(), value);\n            }\n        }\n    }\n\n    return map;\n};\n","'use strict';\n\nconst internals = {};\n\n\nexports.location = function (depth = 0) {\n\n    const orig = Error.prepareStackTrace;\n    Error.prepareStackTrace = (ignore, stack) => stack;\n\n    const capture = {};\n    Error.captureStackTrace(capture, this);\n    const line = capture.stack[depth + 1];\n\n    Error.prepareStackTrace = orig;\n\n    return {\n        filename: line.getFileName(),\n        line: line.getLineNumber()\n    };\n};\n","'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\n\nconst internals = {};\n\n\nexports.Sorter = class {\n\n    constructor() {\n\n        this._items = [];\n        this.nodes = [];\n    }\n\n    add(nodes, options) {\n\n        options = options || {};\n\n        // Validate rules\n\n        const before = [].concat(options.before || []);\n        const after = [].concat(options.after || []);\n        const group = options.group || '?';\n        const sort = options.sort || 0;                   // Used for merging only\n\n        Assert(!before.includes(group), `Item cannot come before itself: ${group}`);\n        Assert(!before.includes('?'), 'Item cannot come before unassociated items');\n        Assert(!after.includes(group), `Item cannot come after itself: ${group}`);\n        Assert(!after.includes('?'), 'Item cannot come after unassociated items');\n\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n\n        for (const node of nodes) {\n            const item = {\n                seq: this._items.length,\n                sort,\n                before,\n                after,\n                group,\n                node\n            };\n\n            this._items.push(item);\n        }\n\n        // Insert event\n\n        const valid = this._sort();\n        Assert(valid, 'item', group !== '?' ? `added into group ${group}` : '', 'created a dependencies error');\n\n        return this.nodes;\n    }\n\n    merge(others) {\n\n        if (!Array.isArray(others)) {\n            others = [others];\n        }\n\n        for (const other of others) {\n            if (other) {\n                for (const item of other._items) {\n                    this._items.push(Object.assign({}, item));      // Shallow cloned\n                }\n            }\n        }\n\n        // Sort items\n\n        this._items.sort(internals.mergeSort);\n        for (let i = 0; i < this._items.length; ++i) {\n            this._items[i].seq = i;\n        }\n\n        const valid = this._sort();\n        Assert(valid, 'merge created a dependencies error');\n\n        return this.nodes;\n    }\n\n    _sort() {\n\n        // Construct graph\n\n        const graph = {};\n        const graphAfters = Object.create(null);            // A prototype can bungle lookups w/ false positives\n        const groups = Object.create(null);\n\n        for (const item of this._items) {\n            const seq = item.seq;                           // Unique across all items\n            const group = item.group;\n\n            // Determine Groups\n\n            groups[group] = groups[group] || [];\n            groups[group].push(seq);\n\n            // Build intermediary graph using 'before'\n\n            graph[seq] = item.before;\n\n            // Build second intermediary graph with 'after'\n\n            for (const after of item.after) {\n                graphAfters[after] = graphAfters[after] || [];\n                graphAfters[after].push(seq);\n            }\n        }\n\n        // Expand intermediary graph\n\n        for (const node in graph) {\n            const expandedGroups = [];\n\n            for (const graphNodeItem in graph[node]) {\n                const group = graph[node][graphNodeItem];\n                groups[group] = groups[group] || [];\n                expandedGroups.push(...groups[group]);\n            }\n\n            graph[node] = expandedGroups;\n        }\n\n        // Merge intermediary graph using graphAfters into final graph\n\n        for (const group in graphAfters) {\n            if (groups[group]) {\n                for (const node of groups[group]) {\n                    graph[node].push(...graphAfters[group]);\n                }\n            }\n        }\n\n        // Compile ancestors\n\n        const ancestors = {};\n        for (const node in graph) {\n            const children = graph[node];\n            for (const child of children) {\n                ancestors[child] = ancestors[child] || [];\n                ancestors[child].push(node);\n            }\n        }\n\n        // Topo sort\n\n        const visited = {};\n        const sorted = [];\n\n        for (let i = 0; i < this._items.length; ++i) {          // Looping through item.seq values out of order\n            let next = i;\n\n            if (ancestors[i]) {\n                next = null;\n                for (let j = 0; j < this._items.length; ++j) {  // As above, these are item.seq values\n                    if (visited[j] === true) {\n                        continue;\n                    }\n\n                    if (!ancestors[j]) {\n                        ancestors[j] = [];\n                    }\n\n                    const shouldSeeCount = ancestors[j].length;\n                    let seenCount = 0;\n                    for (let k = 0; k < shouldSeeCount; ++k) {\n                        if (visited[ancestors[j][k]]) {\n                            ++seenCount;\n                        }\n                    }\n\n                    if (seenCount === shouldSeeCount) {\n                        next = j;\n                        break;\n                    }\n                }\n            }\n\n            if (next !== null) {\n                visited[next] = true;\n                sorted.push(next);\n            }\n        }\n\n        if (sorted.length !== this._items.length) {\n            return false;\n        }\n\n        const seqIndex = {};\n        for (const item of this._items) {\n            seqIndex[item.seq] = item;\n        }\n\n        this._items = [];\n        this.nodes = [];\n\n        for (const value of sorted) {\n            const sortedItem = seqIndex[value];\n            this.nodes.push(sortedItem.node);\n            this._items.push(sortedItem);\n        }\n\n        return true;\n    }\n};\n\n\ninternals.mergeSort = (a, b) => {\n\n    return a.sort === b.sort ? 0 : (a.sort < b.sort ? -1 : 1);\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nmodule.exports = function(updatedModules, renewedModules) {\n\tvar unacceptedModules = updatedModules.filter(function(moduleId) {\n\t\treturn renewedModules && renewedModules.indexOf(moduleId) < 0;\n\t});\n\tvar log = require(\"./log\");\n\n\tif (unacceptedModules.length > 0) {\n\t\tlog(\n\t\t\t\"warning\",\n\t\t\t\"[HMR] The following modules couldn't be hot updated: (They would need a full reload!)\"\n\t\t);\n\t\tunacceptedModules.forEach(function(moduleId) {\n\t\t\tlog(\"warning\", \"[HMR]  - \" + moduleId);\n\t\t});\n\t}\n\n\tif (!renewedModules || renewedModules.length === 0) {\n\t\tlog(\"info\", \"[HMR] Nothing hot updated.\");\n\t} else {\n\t\tlog(\"info\", \"[HMR] Updated modules:\");\n\t\trenewedModules.forEach(function(moduleId) {\n\t\t\tif (typeof moduleId === \"string\" && moduleId.indexOf(\"!\") !== -1) {\n\t\t\t\tvar parts = moduleId.split(\"!\");\n\t\t\t\tlog.groupCollapsed(\"info\", \"[HMR]  - \" + parts.pop());\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\n\t\t\t\tlog.groupEnd(\"info\");\n\t\t\t} else {\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\n\t\t\t}\n\t\t});\n\t\tvar numberIds = renewedModules.every(function(moduleId) {\n\t\t\treturn typeof moduleId === \"number\";\n\t\t});\n\t\tif (numberIds)\n\t\t\tlog(\n\t\t\t\t\"info\",\n\t\t\t\t\"[HMR] Consider using the NamedModulesPlugin for module names.\"\n\t\t\t);\n\t}\n};\n","var logLevel = \"info\";\n\nfunction dummy() {}\n\nfunction shouldLog(level) {\n\tvar shouldLog =\n\t\t(logLevel === \"info\" && level === \"info\") ||\n\t\t([\"info\", \"warning\"].indexOf(logLevel) >= 0 && level === \"warning\") ||\n\t\t([\"info\", \"warning\", \"error\"].indexOf(logLevel) >= 0 && level === \"error\");\n\treturn shouldLog;\n}\n\nfunction logGroup(logFn) {\n\treturn function(level, msg) {\n\t\tif (shouldLog(level)) {\n\t\t\tlogFn(msg);\n\t\t}\n\t};\n}\n\nmodule.exports = function(level, msg) {\n\tif (shouldLog(level)) {\n\t\tif (level === \"info\") {\n\t\t\tconsole.log(msg);\n\t\t} else if (level === \"warning\") {\n\t\t\tconsole.warn(msg);\n\t\t} else if (level === \"error\") {\n\t\t\tconsole.error(msg);\n\t\t}\n\t}\n};\n\n/* eslint-disable node/no-unsupported-features/node-builtins */\nvar group = console.group || dummy;\nvar groupCollapsed = console.groupCollapsed || dummy;\nvar groupEnd = console.groupEnd || dummy;\n/* eslint-enable node/no-unsupported-features/node-builtins */\n\nmodule.exports.group = logGroup(group);\n\nmodule.exports.groupCollapsed = logGroup(groupCollapsed);\n\nmodule.exports.groupEnd = logGroup(groupEnd);\n\nmodule.exports.setLogLevel = function(level) {\n\tlogLevel = level;\n};\n\nmodule.exports.formatError = function(err) {\n\tvar message = err.message;\n\tvar stack = err.stack;\n\tif (!stack) {\n\t\treturn message;\n\t} else if (stack.indexOf(message) < 0) {\n\t\treturn message + \"\\n\" + stack;\n\t} else {\n\t\treturn stack;\n\t}\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n/*globals __resourceQuery */\nif (module.hot) {\n\tvar hotPollInterval = +__resourceQuery.substr(1) || 10 * 60 * 1000;\n\tvar log = require(\"./log\");\n\n\tvar checkForUpdate = function checkForUpdate(fromUpdate) {\n\t\tif (module.hot.status() === \"idle\") {\n\t\t\tmodule.hot\n\t\t\t\t.check(true)\n\t\t\t\t.then(function(updatedModules) {\n\t\t\t\t\tif (!updatedModules) {\n\t\t\t\t\t\tif (fromUpdate) log(\"info\", \"[HMR] Update applied.\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\trequire(\"./log-apply-result\")(updatedModules, updatedModules);\n\t\t\t\t\tcheckForUpdate(true);\n\t\t\t\t})\n\t\t\t\t.catch(function(err) {\n\t\t\t\t\tvar status = module.hot.status();\n\t\t\t\t\tif ([\"abort\", \"fail\"].indexOf(status) >= 0) {\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] Cannot apply update.\");\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] \" + log.formatError(err));\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] You need to restart the application!\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] Update failed: \" + log.formatError(err));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\tsetInterval(checkForUpdate, hotPollInterval);\n} else {\n\tthrow new Error(\"[HMR] Hot Module Replacement is disabled.\");\n}\n","import React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { StaticRouter, matchPath } from 'react-router-dom';\n\nimport Page from '../src/Page.jsx';\nimport template from './template.js';\nimport store from '../src/store.js';\nimport routes from '../src/routes.js';\n\nasync function render(req, res) {\n\n    // to find the component that is being rendered (activeRoute)\n    // we use matchPatch from RRD to return the correct route\n    // which matches our current url (req.path)\n    const activeRoute = routes.find(\n        route => matchPath(req.path, route)\n    );\n\n    console.log(req.path, 'activeRoute: ', activeRoute);\n\n    let initialData;\n    if (activeRoute && activeRoute.component.fetchData) {\n        // get the this.props.match to find the /edit/2 id from url, and send with fetchData function\n        const match = matchPath(req.path, activeRoute);\n\n        // get the index search query of the url\n        const index = req.url.indexOf('?');\n\n        // index -1 is given when there is no ? sign\n        const search = index !== -1 ? req.url.substr(index) : null;\n\n        initialData = await activeRoute.component.fetchData(match, search);\n\n        console.log(initialData);\n    }\n    store.initialData = initialData;\n\n    const context = {};\n    const element = (\n        <StaticRouter location={req.url} context={context}>\n            <Page />\n        </StaticRouter>\n    );\n    const body = ReactDOMServer.renderToString(element);\n\n    if (context.status === 404) {\n        res.status(404);\n    }\n    if (context.url) {\n        return res.redirect(301, context.url);\n    } else {\n        res.send(template(body, initialData));\n    }\n}\n\nexport default render;\n","import serialize from 'serialize-javascript';\n\nexport default function template(body, data) {\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n    <title>template joe Pro MERN Stack</title>\n    <style>\n        table.table-hover tr {\n            cursor: pointer;\n        }\n\n        a.active {\n            background-color: #D8D8F5;\n        }\n\n        input.invalid {\n            border-color: red;\n        }\n\n        div.error {\n            color: red;\n        }\n    </style>\n</head>\n\n\n<body>\n  <!-- Page generated from template. -->\n  <div id=\"contents\">${body}</div>\n  <script>window.__INITIAL_DATA__ = ${serialize(data)}</script>\n  <script src=\"/env.js\"></script>\n  <script src=\"/vendor.bundle.js\"></script>\n  <script src=\"/app.bundle.js\"></script>\n</body>\n</html>\n`;\n}","import dotenv from 'dotenv';\nimport express from 'express';\nimport proxy from 'http-proxy-middleware';\nimport SourceMapSupport from 'source-map-support';\n\nimport render from './render.jsx';\n\nconst app = express();\n\nSourceMapSupport.install();\ndotenv.config();\nconst enableHMR = (process.env.ENABLE_HMR || 'true') === 'true';\nif (enableHMR && (process.env.NODE_ENV !== 'production')) {\n  console.log('Adding dev middleware, enabling HMR');\n  /* eslint \"global-require\":\"off\"*/\n  /* eslint \"import/no-extraneous-dependencies\":\"off\"*/\n  const webpack = require('webpack');\n  const devMiddleware = require('webpack-dev-middleware');\n  const hotMiddleware = require('webpack-hot-middleware');\n\n  const config = require('../webpack.config.js')[0];\n  config.entry.app.push('webpack-hot-middleware/client');\n  config.plugins = config.plugins || [];\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\n  const compiler = webpack(config);\n  app.use(devMiddleware(compiler));\n  app.use(hotMiddleware(compiler));\n}\n\napp.use(express.static('public'));\n\nconst apiProxyTarget = process.env.API_PROXY_TARGET;\n\nif (apiProxyTarget) {\n  app.use('/graphql', proxy({ target: apiProxyTarget }));\n}\n\nif (!process.env.UI_API_ENDPOINT) {\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\n}\n\nif (!process.env.UI_SERVER_API_ENDPOINT) {\n  process.env.UI_SERVER_API_ENDPOINT = process.env.UI_API_ENDPOINT;\n}\n\nif (!process.env.UI_API_IMAGE_ENDPOINT) {\n  process.env.UI_API_IMAGE_ENDPOINT = 'http://localhost:3000/api/images/upload';\n}\n\nif (!process.env.UI_SERVER_API_IMAGE_ENDPOINT) {\n  process.env.UI_SERVER_API_IMAGE_ENDPOINT = process.env.UI_API_IMAGE_ENDPOINT;\n}\n\napp.get('/env.js', (req, res) => {\n  const env = { UI_API_ENDPOINT: process.env.UI_API_ENDPOINT, UI_API_IMAGE_ENDPOINT: process.env.UI_SERVER_API_IMAGE_ENDPOINT };\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\n});\n\napp.get('*', (req, res, next) => {\n  render(req, res, next);\n});\n\nconst port = process.env.UI_SERVER_PORT || 8000;\n\napp.listen(port, () => {\n  console.log(`UI started on port ${port}`);\n});\n\nif (module.hot) {\n  module.hot.accept('./render.jsx');\n}","import React from 'react';\nimport store from './store.js';\nimport graphQLFetch from './graphQLFetch.js';\n\nexport default class About extends React.Component {\n    static async fetchData() {\n        const data = await graphQLFetch('query {about}');\n        return data;\n    }\n\n    constructor(props) {\n        super(props);\n        const apiAbout = store.initialData ? store.initialData.about : null;\n        this.state = { apiAbout };\n    }\n\n    async componentDidMount() {\n        const { apiAbout } = this.state;\n        if (apiAbout == null) {\n            const data = await About.fetchData();\n            this.setState({ apiAbout: data.about });\n        }\n    }\n\n    render() {\n        const { apiAbout } = this.state;\n        return (\n            <div className=\"text-center\">\n                <h3>Issue Tracker version 0.9</h3>\n                <h4>\n                    {apiAbout}\n                </h4>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { AiOutlineLoading3Quarters } from 'react-icons/ai';\nimport { FiTrash2 } from 'react-icons/fi';\n\nfunction AddPhoto(props) {\n    if (props.currentStep && props.currentStep !== 1) {\n        return null\n    }\n\n    const { date, shutterspeed, iso, aperture, camera, focalLength, title } = props.state.photo;\n    const { photoLoading, tempFile } = props.state;\n\n    let showInputClass = \"relative border-2 border-dashed rounded mb-2 p-4 text-center cursor-pointer hover:border-green-500\";\n    showInputClass += (!tempFile && !photoLoading) ? ' block' : ' hidden';\n    showInputClass += (props.state.onDragOver && !props.state.invalidFields.blob) ? \" border-green-400\" : \" border-gray-400\";\n    if (props.state.invalidFields.blob) showInputClass += \" border-red-400\";\n\n\n    return (\n        <React.Fragment>\n            <div id=\"fileInput\" className={showInputClass}>\n                <input\n                    type=\"file\"\n                    name=\"blob\"\n                    ref={props.fileInput}\n                    onChange={props.onFileChange}\n                    onDrop={props.handleOnDrop}\n                    onDragOver={props.handleOnDragOver}\n                    onDragLeave={props.handleOnDragLeave}\n                    className=\"absolute m-0 p-0 w-full h-full outline-none pointer opacity-0 top-0 left-0\"\n                />\n                <p className=\"text-xl text-black font-semibold\">Drag en drop een afbeelding</p>\n                <p className=\"text-base\"> of <a href=\"#\">selecteer</a> een bestand <span className=\"text-sm block text-gray-300\"> (Hoge resolutie aangeraden, maximaal 27MB)</span></p>\n            </div>\n            <div className=\"text-red-500\">{props.state.invalidFields.blob}</div>\n            {photoLoading && <AiOutlineLoading3Quarters className=\"fill-current text-green-500\" />}\n            {tempFile &&\n                <div id=\"imagePreview\" className=\"relative relative bg-gray-300 p-4 mb-2\">\n\n                    <div onClick={props.removeImage} className=\"border border-gray-600 rounded p-4 m-4 absolute top-0 right-0 cursor-pointer bg-black opacity-50 hover:opacity-100\">\n                        <FiTrash2 className=\"stroke-current text-gray-100\" />\n                    </div>\n                    <img src={tempFile} id=\"output_image\" className=\"max-w-full rounded mb-2\" />\n                </div>\n            }\n            <input\n                type=\"text\"\n                name=\"title\"\n                placeholder=\"Titel\"\n                value={title || \"\"}\n                onChange={props.onChange}\n            />\n            <div className=\"text-red-500\">{props.state.invalidFields.title}</div>\n            <input\n                type=\"date\"\n                name=\"date\"\n                placeholder=\"Datum\"\n                value={date || \"\"}\n                onChange={props.onChange}\n\n            />\n\n            <div className=\"flex\">\n\n                <div className=\"flex flex-wrap items-stretch w-full relative mb-2 mr-2\">\n\n                    <input\n                        type=\"text\"\n                        name=\"shutterspeed\"\n                        placeholder=\"Sluitertijd\"\n                        value={shutterspeed || \"\"}\n                        onChange={props.onChange}\n                        className=\"mb-0 flex-shrink flex-grow flex-auto  w-px flex-1 border h-10 border-gray-400 rounded rounded-r-none py-2 px-3 relative text-sm\"\n                    />\n                    <div className=\"flex -mr-px\">\n                        <span className=\"flex items-center  bg-grey-lighter rounded rounded-l-none border border-l-0 border-gray-400 py-2 px-3 whitespace-no-wrap text-grey-dark text-sm\">s</span>\n                    </div>\n                </div>\n\n\n                <div className=\"flex flex-wrap items-stretch w-full relative mb-2 mr-2\">\n\n                    <div className=\"flex -mr-px\">\n                        <span className=\"flex items-center  bg-grey-lighter rounded rounded-r-none border border-r-0 border-gray-400 py-2 px-3 whitespace-no-wrap text-grey-dark text-sm\">iso</span>\n                    </div>\n                    <input\n                        type=\"number\"\n                        name=\"iso\"\n                        placeholder=\"iso\"\n                        value={iso || \"\"}\n                        onChange={props.onChange}\n                        className=\"mb-0 flex-shrink flex-grow flex-auto  w-px flex-1 border h-10 border-gray-400 rounded rounded-l-none py-2 px-3 relative text-sm\"\n                    />\n                </div>\n\n                <div className=\"flex flex-wrap items-stretch w-full relative mb-2\">\n\n                    <div className=\"flex -mr-px\">\n                        <span className=\"flex items-center  bg-grey-lighter rounded rounded-r-none border border-r-0 border-gray-400 py-2 px-3 whitespace-no-wrap text-grey-dark text-sm\">f/</span>\n                    </div>\n                    <input\n                        type=\"number\"\n                        name=\"aperture\"\n                        placeholder=\"Diafragma\"\n                        onChange={props.onChange}\n                        value={aperture || \"\"}\n                        className=\"mb-0 flex-shrink flex-grow flex-auto  w-px flex-1 border h-10 border-gray-400 rounded rounded-l-none py-2 px-3 relative text-sm\"\n                    />\n                </div>\n\n            </div>\n            <input\n                type=\"text\"\n                name=\"camera\"\n                placeholder=\"camera\"\n                onChange={props.onChange}\n                value={camera || \"\"}\n\n            />\n            <input\n                type=\"text\"\n                name=\"focalLength\"\n                value={focalLength || \"\"}\n                onChange={props.onChange}\n                placeholder=\"focalLength\"\n\n            />\n            <textarea\n                type=\"text\"\n                name=\"desc\"\n                onChange={props.onChange}\n                placeholder=\"Beschrijving\"\n\n            />\n\n        </React.Fragment>\n    );\n}\nexport default AddPhoto;","import React from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport store from \"./store.js\";\nimport { Redirect } from \"react-router-dom\";\n\nexport default class BlogPost extends React.Component {\n\n    static async fetchData(match, search, showError) {\n        // build the graphql query\n        const query = `query articleBySlug($slug: String!){\n            articleBySlug(slug: $slug) {\n                id\n                title\n                body\n                slug\n            }\n        }`;\n\n        let { params: { [0]: slug } } = match;\n        slug = slug.replace(/\\//g, \"\");\n        const result = await graphQLFetch(query, { slug }, true);\n        return result;\n    }\n\n    constructor() {\n        super();\n        const articleBySlug = store.initialData != null ? store.initialData.articleBySlug : null;\n        delete store.initialData;\n        this.state = {\n            articleBySlug,\n            slug: null\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        // const { match: { params: { id: prevId } } } = prevProps;\n        // const { match: { params: { id } } } = this.props;\n        // if (prevId !== id) {\n        //     this.loadData();\n        // }\n    }\n\n    componentDidMount() {\n        const { articleBySlug } = this.state;\n        if (articleBySlug === null) {\n            this.loadData();\n        }\n    }\n\n    async loadData() {\n        // get the search query string form url\n        const { match } = this.props;\n        // provide the query with the variables \n        const data = await BlogPost.fetchData(match);\n        if (data) {\n            this.setState({ articleBySlug: data.articleBySlug });\n        }\n    }\n\n    render() {\n        const { articleBySlug } = this.state;\n        if (articleBySlug === null) {\n            console.log('slug is nullllll');\n            return <Redirect to='/niet-gevonden' />;\n        };\n\n        return (\n            <div id=\"page\" className=\"p-6\">\n                <h1>{articleBySlug.title}</h1>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport routes from './routes';\n\nexport default function Contents() {\n    return (\n        <Switch>\n\n            <Redirect\n                from=\"/\"\n                to=\"/fotos\"\n                exact\n            />\n\n            {routes.map(attrs => <Route {...attrs} key={attrs.path} />)}\n        </Switch>\n    )\n}","import React, { Component } from 'react';\n\nfunction displayFormat(date) {\n    return (date != null) ? date.toDateString() : '';\n}\n\nfunction editFormat(date) {\n    // to ISOString returns 2011-10-05T14:48:00.000Z, and we only want to have first 10 characters\n    return (date != null) ? date.toISOString().substr(0, 10) : '';\n}\n\nfunction unformat(str) {\n    // we want to store a correct Date format in db\n    const val = new Date(str);\n    // check if the number (val) is a valid number and return the value\n    return Number.isNaN(val.getTime()) ? null : val;\n}\n\nclass DateInput extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: editFormat(props.value),\n            focused: false,\n            valid: true\n        }\n        this.onFocus = this.onFocus.bind(this);\n        this.onBlur = this.onBlur.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    onFocus() {\n        this.setState({ focused: true });\n    }\n\n    onBlur(e) {\n        // get the input value and oldValid from state\n        const { value, valid: oldValid } = this.state;\n\n        // get the functions from parent\n        const { onValidityChange, onChange } = this.props;\n\n        // get date in javascript-readable Format\n        const dateValue = unformat(value);\n\n        // valid is if value is empty string, or dateValue is not null\n        const valid = value === \"\" || dateValue != null;\n\n        // if the valid state changed, the function is called with current event and valid property\n        if (valid !== oldValid && onValidityChange) {\n            onValidityChange(e, valid);\n        }\n        // set own state with new info\n        this.setState({ focused: false, valid });\n\n        // change the parents state value if the form is valid\n        if (valid) onChange(e, dateValue);\n    }\n\n    onChange(e) {\n        if (e.target.value.match(/^[\\d-]*$/)) {\n            this.setState({ value: e.target.value });\n        }\n    }\n\n    render() {\n        const { valid, focused, value } = this.state;\n        const { value: origValue, name } = this.props;\n        const className = (!valid && !focused) ? 'invalid' : null;\n        const displayValue = (focused || !valid) ? value : displayFormat(origValue);\n        return (\n            <input\n                type=\"text\"\n                size={20}\n                name={name}\n                className={className}\n                value={displayValue}\n                placeholder={focused ? 'yyyy-mm-dd' : null}\n                onFocus={this.onFocus}\n                onBlur={this.onBlur}\n                onChange={this.onChange}\n            />\n        );\n    }\n}\n\nexport default DateInput;","import React, { Component } from 'react';\nimport Joi from '@hapi/joi';\nimport Input from './Input.jsx';\n\nclass Form extends Component {\n    state = {\n        data: {},\n        errors: {}\n    }\n\n    handleChange = ({ currentTarget: input }) => {\n        const errors = { ...this.state.errors }\n        const errorMessage = this.validateProperty(input);\n        if (errorMessage) errors[input.name] = errorMessage;\n        else delete errors[input.name];\n\n        const data = { ...this.state.data };\n        data[input.name] = input.value;\n        this.setState({ data, errors });\n    }\n\n    validate = () => {\n\n        const options = { abortEarly: false };\n        const schema = Joi.object({ ...this.schema });\n        const { error } = schema.validate(this.state.data, options);\n        if (!error) return null\n\n        const errors = {};\n        for (let item of error.details) {\n            errors[item.path[0]] = item.message;\n        }\n        return errors;\n    }\n\n    validateProperty = ({ name, value }) => {\n        const object = { [name]: value }\n        const schema = Joi.object({ [name]: this.schema[name] });\n        const result = schema.validate(object);\n        console.log(result)\n        const error = result.error\n        console.log('returning', error)\n        return error ? error.details[0].message : null;\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const errors = this.validate();\n        this.setState({ errors: errors || {} });\n        if (errors) return;\n\n        this.doSubmit();\n    }\n\n    renderButton(label) {\n        return (\n            <button\n                className={\"text-white font-bold py-2 px-4 rounded\" + (this.validate() ? \" bg-gray-500 hover:bg-gray-600\" : \" bg-blue-500 hover:bg-blue-600\")}\n                type=\"submit\"\n                disabled={this.validate()}>\n                {label}\n            </button>\n        )\n\n    }\n\n    renderInput(name, label, placeholder, type = 'text', classes = 'w-full') {\n        const { data, errors } = this.state;\n        return (\n            <Input\n                classes={classes}\n                name={name}\n                label={label}\n                value={data[name]}\n                onChange={this.handleChange}\n                placeholder={placeholder}\n                error={errors[name]}\n                type={type}\n            />\n        )\n    }\n}\n\nexport default Form;","import React from 'react';\n\nconst Input = ({ classes, name, label, error, ...rest }) => {\n    const className = \"mb-2 \" + classes;\n    return (\n        <div className={className}>\n            <label className=\"block text-grey-darker text-sm font-bold mb-2\" htmlFor={name}>\n                {label}\n            </label>\n            <input\n                autoFocus\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700\"\n                id={name}\n                name={name}\n                {...rest} />\n            {error && <div className=\"text-red-500\">{error}</div>}\n        </div>\n    );\n}\n\nexport default Input;","import React, { Component } from 'react';\nimport { FaCheck } from \"react-icons/fa\";\n\n\nclass LocationCard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            active: false\n        };\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.activeLocation !== this.props.activeLocation) {\n            const active = this.props.location === this.props.activeLocation ? true : false;\n            this.setState({ active });\n        }\n    }\n\n    onClickHandler = () => {\n        this.props.onClick(this.props.location);\n    }\n\n    render() {\n        const { active } = this.state;\n        let className = \"locationCard relative shadow-xs border-4 overflow-hidden hover:border-green-500\";\n        className += active ? ' border-green-500' : '';\n        return (\n            <React.Fragment>\n                <div className=\"w-full inline-block md:w-1/2 lg:w-1/3 m-2 rounded relative\" onClick={this.onClickHandler}>\n                    {active && <div className=\"absolute top-0 right-0 transform z-10 p-1 translate-x-1/2 -translate-y-1/2 rounded-full bg-green-500 text-white\"><FaCheck /></div>}\n                    <div className={className}>\n                        <div className=\"relative overflow-hidden\">\n                            <img\n                                src={this.props.location.photos[0].photo[0].url}\n                                className=\"object-cover  w-full h-48  block\"\n                                alt=\"Foto\"\n                            />\n\n                            <div className=\"photoContent p-4 absolute bottom-0 left-0\">\n                                <div className=\"photoInfo\">\n                                    <h3 className=\"text-white\">{this.props.location.title}</h3>\n                                    {/* <p className=\"text-white\">{photo.category}</p> */}\n                                </div>\n                                <div className=\"clear\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default LocationCard;","/* globals React */\n/* eslint \"react/jsx-no-undef\":\"off\" */\n\nimport React, { Component, Fragment } from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet-universal';\nimport { Link } from 'react-router-dom';\nimport store from \"./store.js\";\nimport { Redirect } from \"react-router-dom\";\nimport userIcon from \"./images/userMarker.svg\";\nimport locationIcon from \"./images/locationMarker.svg\";\nimport shadowIcon from \"./images/markerShadow.png\";\nimport { NavLink } from 'react-router-dom';\n\n\nexport default class LocationDetailStrapi extends React.Component {\n\n    static async fetchData(match, search, showError) {\n\n        // build the graphql query\n        const query = `query locationBySlug($slug: String!){\n            locationBySlug(slug: $slug) {\n                title\n                photos {\n                    likes\n                    id\n                    title\n                    slug\n                    photo {\n                        id\n                        name\n                        url\n                    }\n                }\n                desc\n                slug\n                id\n                longitude\n                latitude\n            }\n        }`;\n\n        let { params: { id: slug } } = match;\n        console.log(match);\n        const result = await graphQLFetch(query, { slug }, true);\n        return result;\n    }\n\n    constructor() {\n        super();\n        const locationBySlug = store.initialData ? store.initialData.locationBySlug : null;\n        delete store.initialData;\n        this.state = {\n            locationBySlug,\n            redirect: false,\n            zoom: 13,\n            userLocationKnown: false,\n            userMarker: null,\n            userLocation: {\n                longitude: null,\n                latitude: null\n            }\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const { match: { params: { id: prevId } } } = prevProps;\n        const { match: { params: { id } } } = this.props;\n        if (prevId !== id) {\n            this.loadData();\n        }\n    }\n\n    componentDidMount() {\n        const { locationBySlug } = this.state;\n        if (locationBySlug === null) {\n            this.loadData();\n        }\n\n        // loading leaflet in componentDidMount because it doenst support SSR\n        const L = require(\"leaflet\");\n\n        const userMarker = new L.Icon({\n            iconUrl: userIcon,\n            iconRetinaUrl: userIcon,\n\n            iconAnchor: [16, 40],\n            popupAnchor: [0, -40],\n            shadowUrl: require('leaflet/dist/images/marker-shadow.png').default,\n            shadowAnchor: [13, 40],\n            iconSize: new L.Point(32, 40),\n        });\n\n        delete L.Icon.Default.prototype._getIconUrl;\n\n        L.Icon.Default.mergeOptions({\n            iconUrl: locationIcon,\n            iconRetinaUrl: locationIcon,\n            iconAnchor: [16, 40],\n            popupAnchor: [0, -40],\n            shadowUrl: require('leaflet/dist/images/marker-shadow.png').default,\n            shadowAnchor: [13, 40],\n            iconSize: new L.Point(32, 40),\n        });\n\n        // get users position\n        var options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n        };\n\n        const success = (pos) => {\n            var crd = pos.coords;\n\n            console.log('Your current position is:');\n            console.log(`Latitude : ${crd.latitude}`);\n            console.log(`Longitude: ${crd.longitude}`);\n            console.log(`More or less ${crd.accuracy} meters.`);\n\n            this.setState(\n                (prevState) => ({\n                    ...prevState, userMarker, userLocationKnown: true, userLocation: { longitude: crd.longitude, latitude: crd.latitude }\n                })\n            )\n        }\n\n        const error = (err) => {\n            console.warn(`ERROR(${err.code}): ${err.message}`);\n\n            fetch('https://ipapi.co/json')\n                .then(res => res.json())\n                .then(location => {\n                    this.setState(\n                        (prevState) => ({\n                            ...prevState, userMarker, userLocationKnown: true, userLocation: { longitude: location.longitude, latitude: location.latitude }\n                        })\n                    )\n                });\n        }\n\n        navigator.geolocation.getCurrentPosition(success, error, options);\n\n    }\n\n    async loadData() {\n        // get the search query string form url\n        const { match } = this.props;\n        // provide the query with the variables \n        const data = await LocationDetailStrapi.fetchData(match);\n        if (data.locationBySlug != null) {\n            this.setState({ locationBySlug: data.locationBySlug });\n        } else {\n            console.log('return not found');\n            this.setState({ redirect: true });\n            console.log(this.state);\n        }\n    }\n\n    render() {\n        const { locationBySlug, redirect } = this.state;\n        if (redirect) {\n            console.log('redirect', redirect);\n            return <Redirect to=\"/niet-gevonden\" />;\n        }\n        if (locationBySlug === null) return null;\n\n        const { userLocation, userLocationKnown, userMarker, } = this.state;\n        const { photos } = locationBySlug;\n\n        const position = [locationBySlug.latitude, locationBySlug.longitude];\n        const calculatedUserLocation = userLocation.latitude ? [userLocation.latitude, userLocation.longitude] : null;\n\n        return (\n            <div id=\"page\">\n                <div id=\"photoInfo\" className=\"p-6\">\n                    <img src={photos.sort((a, b) => b.likes - a.likes)[0].photo[0].url} />\n                    <h1 className=\"text-2xl font-bold mb-1 text-gray-800 block\">{locationBySlug.title}</h1>\n                    <p className=\"text-gray-600\">{locationBySlug.desc}</p>\n                    <Map className=\"map\" id=\"photoLocation\" center={position} zoom={this.state.zoom}>\n                        <TileLayer\n                            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        />\n                        <Marker position={position}>\n                            <Popup>\n                                Foto locatie\n                            </Popup>\n                        </Marker>\n                        {userLocationKnown && <Marker position={calculatedUserLocation} icon={userMarker}>\n                            <Popup>\n                                Jouw locatie\n                            </Popup>\n                        </Marker>}\n                    </Map>\n                    <h2 className=\"text-xl font-bold mb-1 text-gray-800 block\">Foto's gemaakt op fotolocatie {locationBySlug.title}</h2>\n                    <div className=\"-mx-2\">\n                        {photos.map(\n                            photoItem => {\n                                return <LocationPhotoItem item={photoItem} key={photoItem.id} />\n                            }\n                        )}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction LocationPhotoItem(props) {\n    const itemPhoto = props.item.photo[0];\n    const selectedLocation = `/foto/${props.item.slug}`;\n    return (\n        <React.Fragment>\n            <div className=\"w-full inline-block md:w-1/2 lg:w-1/3 p-2\">\n                <div className=\"photoCard rounded relative shadow-xs\">\n                    <div className=\"relative rounded overflow-hidden\">\n                        <NavLink\n                            to={selectedLocation}\n                            className=\"absolute w-full h-full z-10\"\n                            title=\"Bekijk foto nu\"\n                        ></NavLink>\n                        <img\n                            src={itemPhoto.url}\n                            className=\"object-cover  w-full h-48  block\"\n                            alt=\"Foto\"\n                        />\n\n                        <div className=\"photoContent p-4 absolute bottom-0 left-0\">\n                            <div className=\"photoInfo\">\n                                <h3 className=\"text-white\">{props.item.title}</h3>\n                            </div>\n                            <div className=\"clear\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n\n    );;\n}","import React from 'react';\nimport Joi from '@hapi/joi';\nimport Form from './Form.jsx';\nimport { NavLink } from 'react-router-dom';\nimport graphQLFetch from './graphQLFetch.js';\n\nclass LoginForm extends Form {\n    state = {\n        data: {\n            email: '',\n            password: ''\n        },\n        errors: {}\n    }\n\n    schema = {\n        email: Joi.string().email({ tlds: { allow: false } })\n            .required().messages({\n                \"string.empty\": `Vul je je email nog even in? 😉.`,\n                \"any.required\": `Vul je je email nog even in? 😉.`,\n                \"string.email\": `Vul je een geldig adres in? 😉.`\n            }),\n        password: Joi.string()\n            .required().messages({\n                \"string.empty\": `Vul je je wachtwoord nog even in? 😉.`,\n                \"any.required\": `Vul je je wachtwoord nog even in? 😉.`\n            })\n    };\n\n    loginUser = async () => {\n        const query = `mutation login($input: UsersPermissionsLoginInput!) {\n            login(input: $input) {\n              jwt\n              user {\n                id\n                email\n                username\n              }\n            }\n          } `;\n\n        const { data } = this.state;\n\n        let input = { ...data };\n\n        Object.defineProperty(input, \"identifier\", Object.getOwnPropertyDescriptor(input, \"email\"));\n        delete input[\"email\"];\n\n        console.log(input);\n\n        const result = await graphQLFetch(query, { input }, true, true);\n        if (result) {\n            if (result.errors) {\n                const error = result.errors[0];\n                // Error, email or password wrong\n                console.log(error);\n\n            } else {\n                // user logged in!\n                const { login } = result;\n                const { jwt, user: { email, id, username } } = login;\n                console.log(jwt, id, email, username);\n                localStorage.setItem('token', jwt);\n                this.props.history.push('/');\n            }\n        }\n    }\n\n    doSubmit = () => {\n        // call server\n        // redirect user to homepage\n        console.log('submitted');\n        this.loginUser();\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"m-6\">\n                    <form onSubmit={this.handleSubmit} className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col border\">\n                        <h1 className=\"font-bold text-xl text-green-500\">Inloggen bij Spotshare</h1>\n\n                        {this.renderInput('email', 'Email', 'Emailadres')}\n                        {this.renderInput('password', 'Wachtwoord', 'Vul je wachtwoord in', 'password')}\n\n\n                        <div className=\"flex items-center justify-between\">\n                            {this.renderButton('Log in')}\n                            <a className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-600\" href=\"#\">\n                                Wachtwoord vergeten?\n                            </a> |\n                            <NavLink className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-600\" to=\"/aanmelden\">Aanmelden</NavLink>\n                        </div>\n                    </form>\n                </div>\n            </div >\n        );\n    }\n}\n\nexport default LoginForm;","import React from 'react';\n\nexport default ({ staticContext = {} }) => {\n    staticContext.status = 404;\n    return <h1>Sorry, pagina niet gevonden</h1>;\n};","import React, { Component } from 'react';\nimport Contents from './Contents.jsx';\nimport { NavLink } from 'react-router-dom';\nimport { FiMenu, FiX } from 'react-icons/fi';\nimport { ToastContainer } from 'react-toastify';\n\nclass NavBar extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isOpen: false\n        }\n    }\n\n    closeMenu = () => {\n        this.setState({ isOpen: false });\n    }\n\n    toggleOpen = () => {\n        const { isOpen } = this.state;\n        this.setState({ isOpen: !isOpen });\n    }\n\n    render() {\n        let menuClassName = 'px-2 pt-2 pb-4 sm:p-0 sm:flex';\n        menuClassName += this.state.isOpen ? ' block' : ' hidden';\n\n        return (\n            <header className=\"bg-gray-900 sm:flex sm:justify-between sm:px-6 sm:py-3 sm:items-center\">\n                <div className=\"flex items-center justify-between px-4 py-3 sm:p-0 bg-gray-900\">\n                    <div>\n                        <NavLink onClick={this.closeMenu} exact to=\"/\">\n                            <img src=\"http://dkotwt30gflnm.cloudfront.net/assets/spotshare-logo.png\" className=\"h-8\" alt=\"Spotshare, de mooiste fotolocaties bij jou in de buurt\" />\n                        </NavLink>\n                    </div>\n                    <div className=\"sm:hidden\">\n                        <button onClick={this.toggleOpen} type=\"button\" className=\"text-gray-400 hover:text-white focus:text-white focus:outline-none\">\n                            {this.state.isOpen ? <FiX className=\"fill-current text-white\" /> : <FiMenu className=\"fill-current text-white\" />}\n                        </button>\n                    </div>\n                </div>\n                <nav className={menuClassName}>\n                    <NavLink onClick={this.closeMenu} to=\"/fotolocatie/volendam\" className=\"block text-white font-semibold rounded hover:bg-gray-800 px-2 py-1\">TestLocatie</NavLink>\n                    <NavLink onClick={this.closeMenu} to=\"/foto/mooi-valencia\" className=\"block text-white font-semibold rounded hover:bg-gray-800 px-2 py-1\">TestFoto</NavLink>\n                    <NavLink onClick={this.closeMenu} to=\"/foto/toevoegen\" className=\"block text-white font-semibold rounded hover:bg-gray-800 px-2 py-1\">Uploaden</NavLink>\n                    <NavLink onClick={this.closeMenu} exact to=\"/\" className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\">Home</NavLink>\n                    <NavLink onClick={this.closeMenu} exact to=\"/fotos\" className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\">Photos</NavLink>\n                    <NavLink onClick={this.closeMenu} to=\"/aanmelden\" className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\">Aanmelden</NavLink>\n                    <NavLink onClick={this.closeMenu} to=\"/inloggen\" className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\">Inloggen</NavLink>\n                </nav >\n            </header >\n        );\n    }\n}\n\n\nexport default function Page() {\n    return (\n        <div>\n            <NavBar />\n            <Contents />\n            <ToastContainer />\n        </div>\n    );\n\n}","/* globals React */\nimport React, { Component } from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport http from \"./services/httpService\";\nimport EXIF from 'exif-js'\nimport { FaSpinner } from 'react-icons/fa';\nimport DateInput from \"./DateInput.jsx\";\nimport exifr from 'exifr';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet-universal';\nimport userIcon from \"./images/userMarker.svg\";\nimport locationIcon from \"./images/locationMarker.svg\";\nimport shadowIcon from \"./images/markerShadow.png\";\nimport LocationCard from \"./LocationCard.jsx\";\nimport CreatableSelect from 'react-select/creatable';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/animated';\n//import ReactLeafletSearch from \"react-leaflet-search\";\nimport slugify from 'slugify';\nimport AddPhoto from \"./AddPhoto.jsx\";\n\nconst animatedComponents = makeAnimated();\n\nexport default class PhotoAddStrapi extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            currentStep: 1,\n            photo: {},\n            photoLoading: false,\n            tempFile: null,\n            onDrop: false,\n            onDragOver: false,\n            uploadPercentage: 0,\n            invalidFields: {},\n            blob: null,\n            map: {\n                longitude: null,\n                latitude: null,\n                zoom: 13,\n            },\n            locationKnown: false,\n            selectedLocation: null,\n            locationCategoryValues: [],\n            monthValues: [],\n            months: null,\n            location_categories: null,\n            newLocation: false\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.onFileChange = this.onFileChange.bind(this);\n        this.fileInput = React.createRef();\n    }\n\n    onNewLocationClick = (e) => {\n        this.setNewLocation();\n        this.resetSelectedLocation();\n    }\n\n    setNewLocation = () => {\n        this.setState({ newLocation: true });\n    }\n\n    _next = () => {\n        let currentStep = this.state.currentStep\n        currentStep = currentStep >= 2 ? 3 : currentStep + 1\n        this.setState({\n            currentStep: currentStep\n        })\n    }\n\n    _prev = () => {\n        let currentStep = this.state.currentStep\n        currentStep = currentStep <= 1 ? 1 : currentStep - 1\n        this.setState({\n            currentStep: currentStep\n        })\n    }\n\n    previousButton() {\n        let currentStep = this.state.currentStep;\n        if (currentStep !== 1) {\n            return (\n                <button\n                    className=\"block px-3 py- my-2 text-white rounded text-l bg-gray-700\"\n                    type=\"button\" onClick={this._prev}>\n                    Vorige\n                </button>\n            )\n        }\n        return null;\n    }\n\n    nextButton(disabled, btnClass) {\n        let currentStep = this.state.currentStep;\n        if (currentStep < 2) {\n            return (\n                <button\n                    disabled={disabled}\n                    className={btnClass}\n                    type=\"button\" onClick={this._next}>\n                    Volgende\n                </button>\n            )\n        }\n        return null;\n    }\n\n    changeMarkers = () => {\n        // loading leaflet in componentDidMount because it doenst support SSR\n        const L = require(\"leaflet\");\n\n        const userMarker = new L.Icon({\n            iconUrl: userIcon,\n            iconRetinaUrl: userIcon,\n\n            iconAnchor: [16, 40],\n            popupAnchor: [0, -40],\n            shadowUrl: require('leaflet/dist/images/marker-shadow.png').default,\n            shadowAnchor: [13, 40],\n            iconSize: new L.Point(32, 40),\n        });\n\n        delete L.Icon.Default.prototype._getIconUrl;\n\n        L.Icon.Default.mergeOptions({\n            iconUrl: locationIcon,\n            iconRetinaUrl: locationIcon,\n            iconAnchor: [16, 40],\n            popupAnchor: [0, -40],\n            shadowUrl: require('leaflet/dist/images/marker-shadow.png').default,\n            shadowAnchor: [13, 40],\n            iconSize: new L.Point(32, 40),\n        });\n    }\n\n    componentDidMount(prevProps, prevState) {\n        // handle blob in 'onFileChange' from state\n        // blob gets set on choosing file\n        this.changeMarkers();\n    }\n\n    onCategoryCreate = async (option) => {\n        const label = option;\n\n        // check if slug is available, if not, add number\n        const value = slugify(option, {\n            replacement: '-',  // replace spaces with replacement character, defaults to `-`\n            remove: undefined, // remove characters that match regex, defaults to `undefined`\n            lower: true,      // convert to lower case, defaults to `false`\n            strict: true,     // strip special characters except replacement, defaults to `false`\n        })\n\n        const query = `mutation CreateLocationCategory($input: createLocationCategoryInput) {\n            createLocationCategory(input: $input){\n            locationCategory{\n              label\n              value\n              id\n            }\n          }\n          }`;\n\n        let input = {};\n        input['data'] = {\n            \"label\": label,\n            \"value\": value\n        };\n\n        const data = await graphQLFetch(query, { input }, true);\n\n        if (data) {\n            const { label, value, id } = data.createLocationCategory.locationCategory;\n            this.setState((prevState) => {\n                const oldCategories = [...this.state.locationCategoryValues];\n                const newCategory = {\n                    \"label\": label,\n                    \"value\": value,\n                    \"id\": id\n                }\n                oldCategories.push(newCategory);\n\n                const selectedValues = this.state.location_categories != null ? this.state.location_categories : [];\n                selectedValues.push(newCategory);\n\n                const categoryIds = this.state.location.location_categories ? this.state.location.location_categories : [];\n                categoryIds.push(newCategory.id);\n\n                return ({\n                    location: { ...prevState.location, location_categories: [...categoryIds] },\n                    locationCategoryValues: [...oldCategories],\n                    location_categories: selectedValues\n                })\n            });\n            return {\n                label: label,\n                value: value\n            };\n        }\n    }\n\n    handleSelect = (newValue, name) => {\n        /*\n        set the ID of the location_categories to location object\n        and update the selected values in object location_categories in the state\n        */\n        let ids;\n        if (newValue !== null) {\n            ids = newValue.map((item) => {\n                return item.id;\n            })\n        } else {\n            ids = [];\n        }\n\n        this.setState((prevState) => ({\n            ...prevState,\n            location: { ...prevState.location, [name]: ids },\n            [name]: newValue\n        }));\n    }\n\n    createLocation = async () => {\n        console.log('creating location');\n\n        const { location, location: { title } } = this.state;\n\n        console.log(location, title);\n\n        const slug = slugify(title, {\n            replacement: '-',  // replace spaces with replacement character, defaults to `-`\n            remove: undefined, // remove characters that match regex, defaults to `undefined`\n            lower: true,      // convert to lower case, defaults to `false`\n            strict: true,     // strip special characters except replacement, defaults to `false`\n        })\n\n        const query = `mutation CreateLocation($input: createLocationInput) {\n            createLocation(input: $input){\n            location{\n              slug\n              id\n            }\n          }\n          }`;\n\n        let input = {};\n        location['slug'] = slug;\n        input['data'] = location;\n\n        console.log(input);\n        const data = await graphQLFetch(query, { input }, true);\n\n        if (data) {\n            return data.createLocation;\n        }\n    }\n\n    handleInputChange = (event, property) => {\n        console.log('handling on input chagne')\n        const target = event.target;\n        const value = target.type === \"checkbox\" ? target.checked : target.value;\n        const name = target.name;\n\n        this.setState((prevState) => {\n            let stateFields;\n            if (property === 'location') {\n                console.log('setting location state');\n                stateFields = { ...prevState, location: { ...prevState.location, [name]: value } };\n            } else {\n                stateFields = { ...prevState, photo: { ...prevState.photo, [name]: value } };\n            }\n\n            const invalidFields = { ...prevState.invalidFields };\n            if (this.state.photo.title && this.state.invalidFields.title) delete invalidFields['title'];\n            stateFields['invalidFields'] = invalidFields;\n            return stateFields;\n        });\n\n    };\n\n    removeImage = () => {\n        console.log('remove');\n        this.setState({ tempFile: null, photo: {}, blob: null, locationKnown: false })\n    }\n\n    photoValidation = (file) => {\n        if (file.size > 27000000) {\n            this.setState((prevState) => ({\n                ...prevState, invalidFields: { ...prevState.invalidFields, blob: 'Selecteer een afbeelding kleiner dan 27MB.' }\n            }));\n            return;\n        } else {\n            this.setState((prevState) => {\n                const invalidFields = { ...prevState.invalidFields }\n                if (invalidFields.hasOwnProperty(\"blob\")) delete invalidFields['blob'];\n                return { invalidFields };\n            });\n        }\n    }\n\n    onFileChange = async (e) => {\n        const file = e.target.files[0];\n        this.setState({ blob: e.target.files[0] });\n\n        this.photoValidation(file);\n\n        this.setState({\n            photoLoading: true\n        })\n\n        var reader = new FileReader();\n        reader.onload = () => {\n            this.setState({ photoLoading: false, tempFile: URL.createObjectURL(file) });\n        };\n        reader.readAsDataURL(file);\n\n\n        // TODO: extract lensmodel, and write location suggestion\n        let exifrGps = await exifr.gps(file);\n        let output = await exifr.parse(file, ['LensModel']);\n\n        // if the photo contains gps data\n        if (exifrGps) {\n            let { longitude, latitude } = exifrGps;\n            this.setState((prevState) => ({ ...prevState, locationKnown: true, photo: { ...prevState.photo, longitude, latitude } }));\n        }\n\n        if (file && file.name) {\n            EXIF.getData(file, () => {\n                let exifData = EXIF.pretty(file);\n                if (exifData && EXIF.getTag(file, \"ExposureTime\") && EXIF.getTag(file, \"ISOSpeedRatings\") && EXIF.getTag(file, \"FNumber\")) {\n\n\n                    let date = EXIF.getTag(file, \"DateTime\");\n                    if (date) {\n                        let splittedDate = EXIF.getTag(file, \"DateTime\").substr(0, 10).split(\":\");\n                        const year = splittedDate[0];\n                        const month = splittedDate[1];\n                        const day = splittedDate[2];\n                        let dateVal = `${year}-${month}-${day}`;\n\n                        this.setState((prevState) => ({\n                            ...prevState, photo: { ...prevState.photo, date: dateVal }\n                        }));\n                    }\n\n\n                    const shutterVal = (EXIF.getTag(file, \"ExposureTime\").numerator / EXIF.getTag(file, \"ExposureTime\").denominator);\n                    let shutterspeedVal = shutterVal > 1 ? shutterVal : '1/' + (1 / shutterVal);\n                    let ISOVal = EXIF.getTag(file, \"ISOSpeedRatings\");\n                    let apertureVal = EXIF.getTag(file, \"FNumber\").numerator / EXIF.getTag(file, \"FNumber\").denominator;\n                    let focalLengthVal = EXIF.getTag(file, \"FocalLength\") + 'mm';\n                    let cameraVal = EXIF.getTag(file, \"Model\");\n\n                    this.setState((prevState) => ({\n                        ...prevState, photo: { ...prevState.photo, shutterspeed: shutterspeedVal, iso: ISOVal, aperture: apertureVal, focalLength: focalLengthVal, camera: cameraVal }\n                    }));\n\n                } else {\n                    this.setState((prevState) => ({\n                        ...prevState, photo: { ...prevState.photo, date: '', shutterspeed: '', iso: '', aperture: '', focalLength: '', camera: '' }\n                    }));\n                }\n            });\n        } else {\n            this.setState((prevState) => ({\n                ...prevState, photo: { ...prevState.photo, date: '', shutterspeed: '', iso: '', aperture: '', focalLength: '', camera: '' }\n            }));\n        }\n    }\n\n    handleOnDrop = (e) => {\n        console.log('handleOnDrop fired', e);\n    }\n    handleOnDragOver = (e) => {\n        this.setState({ onDragOver: true });\n    }\n    handleOnDragLeave = (e) => {\n        this.setState({ onDragOver: false });\n    }\n\n    checkForAvailableSlug = async (slug) => {\n        let query = `query photoBySlug($slug: String!){\n            photoBySlug(slug: $slug) {\n                title\n            }\n        }`;\n\n        const result = await graphQLFetch(query, { slug }, true);\n        return result;\n    }\n\n    createSlug = async (slug, suffix, previousSuffix) => {\n\n        var result = await this.checkForAvailableSlug(slug);\n\n        if (!result.photoBySlug) {\n            // slug is available, proceed\n            return slug;\n        } else {\n            // slug is not available, try again\n\n            if (!suffix) {\n                suffix = 1;\n            } else {\n                suffix++;\n            }\n            var n = str.lastIndexOf(previousSuffix);\n            slug.replace(previousSlug, '');\n\n\n            const createdSuffix = '-' + suffix;\n            let adjustedSlug = slug + reactedSlug;\n            return this.createSlug(adjustedSlug, suffix, createdSuffix);\n        }\n    }\n\n\n    fetchCategories = async () => {\n        // build the graphql query\n        const query = `query locationCategories{\n            locationCategories {\n              label\n              value\n              id\n            }\n            months {\n              label\n              value\n              id\n            }\n          }`;\n        const result = await graphQLFetch(query, {}, true);\n        this.setState({ locationCategoryValues: result.locationCategories, monthValues: result.months });\n    }\n\n    async handleSubmit(e) {\n        console.log('submitted');\n        e.preventDefault();\n        e.persist();\n\n        const { blob, newLocation, photo: { title } } = this.state;\n\n        // check if an image is given, and title, if not show error and return null;\n        if (!blob || !title) {\n            if (!blob) {\n                console.log('no blob in state');\n                this.setState((prevState) => ({\n                    ...prevState, invalidFields: { ...prevState.invalidFields, blob: 'Voeg je nog een foto toe? 📸' }\n                }));\n            }\n            if (!title) {\n                console.log('no title in state.photo');\n                this.setState((prevState) => ({\n                    ...prevState, invalidFields: { ...prevState.invalidFields, title: 'Wat is de titel van je foto? 📸' }\n                }));\n            }\n            console.log('returning');\n            return;\n        }\n\n        let createdLocation = null;\n        if (newLocation) {\n            createdLocation = await this.createLocation();\n            console.log(createdLocation);\n        } else {\n            console.log('no new location found');\n        }\n\n        // check if slug is available, if not, add number\n        let slug = slugify(title, {\n            replacement: '-',  // replace spaces with replacement character, defaults to `-`\n            remove: undefined, // remove characters that match regex, defaults to `undefined`\n            lower: true,      // convert to lower case, defaults to `false`\n            strict: true,     // strip special characters except replacement, defaults to `false`\n        })\n\n        const createdSlug = await this.createSlug(slug);\n\n        // if slug is available, add to the state\n        this.setState((prevState) => {\n\n            return ({\n                ...prevState,\n                photo: {\n                    ...prevState.photo,\n                    slug: createdSlug,\n                    location: createdLocation !== null ? createdLocation.location.id : prevState.photo.location,\n                    date: prevState.photo.date ? new Date(prevState.photo.date) : null,\n                    iso: prevState.photo.iso ? prevState.photo.iso.toString() : null,\n                    aperture: prevState.photo.aperture ? prevState.photo.aperture.toString() : null,\n                    shutterspeed: prevState.photo.shutterspeed ? prevState.photo.shutterspeed.toString() : null\n                }\n            })\n        });\n\n        //create photo page with info\n        // query for new photo\n        const query = `mutation CreatePhoto($input: createPhotoInput) {\n            createPhoto(input: $input){\n                photo{\n                    title\n                    desc\n                    slug\n                    date\n                    brand\n                    shutterspeed\n                    iso\n                    aperture\n                    camera\n                    focalLength\n                    id\n                    location {\n                        id\n                        title\n                        longitude\n                        latitude\n                    }\n                }\n            }\n        }`;\n\n        let input = {};\n        input['data'] = this.state.photo;\n        delete input.data.blob;\n        delete input.data.longitude;\n        delete input.data.latitude;\n\n        const data = await graphQLFetch(query, { input }, true);\n\n\n        if (data) {\n            console.log('photo page created, uploading foto..')\n            //after pages is created, use refId to upload files with xhr request\n\n            const redirect = () => {\n                //if the query returns an id in data, the photo is created\n                // redirect to created photo\n                const { slug } = data.createPhoto.photo;\n                const { history } = this.props;\n                history.push({\n                    pathname: `/foto/${slug}`\n                })\n            }\n\n            const formData = new FormData();\n\n            const { blob: uploadedFile } = this.state;\n\n            formData.append(`files`, uploadedFile, uploadedFile.name);\n            formData.append('ref', 'photo');\n            formData.append('field', 'photo');\n            formData.append('refId', data.createPhoto.photo.id);\n\n            const request = new XMLHttpRequest();\n            request.open('POST', `http://localhost:1337/upload`);\n            request.send(formData);\n            request.addEventListener(\"load\", redirect);\n        } else {\n            console.log('failed');\n        }\n    }\n\n    onLocationSelect = (location) => {\n        // if existing location is selected, add to the state\n        this.setState((prevState) => ({\n            ...prevState, selectedLocation: location, photo: { ...prevState.photo, location: location.id }\n        }));\n    }\n\n    resetSelectedLocation = () => {\n        this.setState((prevState) => ({\n            ...prevState, selectedLocation: null, photo: { ...prevState.photo, location: null }\n        }));\n    }\n\n    updateNewLocationCoords = (lat, lng) => {\n        console.log(lat, lng);\n        this.setState((prevState) => ({\n            ...prevState, newLocation: false, location: { ...prevState.location, longitude: lng, latitude: lat }\n        }));\n    }\n\n    findNearbyLocations = async (lat, lng) => {\n\n        // calculate min and max latitudes\n        //echo 'submit';\n        //const lat = this.state.photo.latitude;\n        //const lng = this.state.photo.longitude;\n\n        const distance = 30;\t\t//in km\n        const radius = 6371;\t\t// earth's radius in km = ~6371\n\n        function rad2deg(angle) {\n            return angle * 57.29577951308232 // angle / Math.PI * 180\n        }\n\n        function deg2rad(angle) {\n            return angle * 0.017453292519943295 // (angle / 180) * Math.PI;\n        }\n\n        // latitude boundaries\n        const maxlat = lat + rad2deg(distance / radius);\n        const minlat = lat - rad2deg(distance / radius);\n\n        // longitude boundaries (longitude gets smaller when latitude increases)\n        const maxlng = lng + rad2deg(distance / radius / Math.cos(deg2rad(lat)));\n        const minlng = lng - rad2deg(distance / radius / Math.cos(deg2rad(lat)));\n\n        function distanceFromLocation(lat1, lon1, lat2, lon2) {\n            const theta = lon1 - lon2;\n            let dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2)) + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\n            dist = Math.acos(dist);\n            dist = rad2deg(dist);\n            const miles = dist * 60 * 1.1515;\n            return (miles * 1.609344);\n        }\n\n        //$query = \"template=location, place.lat>=$minlat, place.lat<=$maxlat, place.lng>=$minlng, place.lng<=$maxlng \";\n\n        const query = `query locationsInRange($minlat:Float!, $maxlat:Float!, $minlng:Float!, $maxlng:Float!){\n            locations(where:{latitude_gte:$minlat,latitude_lte:$maxlat,longitude_gte:$minlng,longitude_lte:$maxlng}) {\n            title\n            longitude\n            latitude\n            id\n            photos {\n                id\n                likes\n                title\n                slug\n                photo {\n                    url \n                }\n            }\n            }\n          }`\n\n        const search = { \"minlat\": minlat, \"maxlat\": maxlat, \"minlng\": minlng, \"maxlng\": maxlng }\n        const result = await graphQLFetch(query, search, true);\n\n        if (result.locations.length > 0) {\n            console.log('found locations', result.locations)\n            const locations = result.locations;\n            //sort items on distance\n            locations.forEach((location) => {\n                // lat and lng are from this.state.photo\n                const locDistance = distanceFromLocation(location.latitude, location.longitude, lat, lng);\n                location['distance'] = locDistance;\n            })\n\n            locations.sort(function (a, b) {\n                var keyA = new Date(a.distance),\n                    keyB = new Date(b.distance);\n                // Compare the 2 dates\n                if (keyA < keyB) return -1;\n                if (keyA > keyB) return 1;\n                return 0;\n            });\n\n            return locations;\n        } else {\n            return null;\n        }\n    }\n\n\n    render() {\n        let btnClass = \"block px-3 py- my-2 text-white rounded text-l\";\n        let disabled = (this.state.currentStep == 1) ? this.state.photo.title === undefined || this.state.photo.title === \"\" || this.state.blob === null : false;\n        btnClass += disabled ? \" bg-gray-400\" : \" bg-blue-600\";\n\n        return (\n            <React.Fragment>\n                <form\n                    name=\"photoAdd\"\n                    encType=\"multipart/form-data\"\n                    onSubmit={this.handleSubmit}\n                    className=\"block py-3 px-4 border border-gray-300 rounded md:mx-auto md:my-6 md:w-9/12 lg:w-1/2 rounded md:shadow-lg md:p-6\"\n                >\n                    <h1 className=\"my-2 font-bold\">Starpi Foto toevoegen</h1>\n\n                    <AddPhoto\n                        currentStep={this.state.currentStep}\n                        state={this.state}\n                        fileInput={this.fileInput}\n                        onFileChange={this.onFileChange}\n                        onChange={this.handleInputChange}\n                        handleOnDrop={this.handleOnDrop}\n                        handleOnDragOver={this.handleOnDragOver}\n                        handleOnDragLeave={this.handleOnDragLeave}\n                        removeImage={this.removeImage}\n                    />\n                    {this.state.currentStep === 2 && <Step2\n                        currentStep={this.state.currentStep}\n                        state={this.state}\n                        findNearbyLocations={this.findNearbyLocations}\n                        onLocationSelect={this.onLocationSelect}\n                        resetSelectedLocation={this.resetSelectedLocation}\n                        activeLocation={this.state.selectedLocation}\n                        onChange={this.handleInputChange}\n                        updateNewLocationCoords={this.updateNewLocationCoords}\n                        handleSelect={this.handleSelect}\n                        onCategoryCreate={this.onCategoryCreate}\n                        fetchCategories={this.fetchCategories}\n                        onNewLocationClick={this.onNewLocationClick}\n                        setNewLocation={this.setNewLocation}\n                    />}\n\n                    <div className=\"shadow w-full bg-grey-light\">\n                        <div className=\"bg-blue-500 text-xs leading-none py-1 text-center text-white\" style={{ width: this.state.uploadPercentage + '%' }}>{this.state.uploadPercentage + '%'}</div>\n                    </div>\n\n                    {this.previousButton()}\n                    {this.nextButton(disabled, btnClass)}\n                </form>\n            </React.Fragment>\n        );\n    }\n}\n\nclass Step2 extends React.Component {\n\n    constructor(props) {\n        console.log(props);\n        super(props)\n\n        const { locationKnown } = props.state;\n        const zoom = locationKnown ? props.state.map.zoom : 6;\n\n        this.state = {\n            nearbyLocations: null,\n            draggable: !props.locationKnown,\n            marker: {\n                lat: 52.243712,\n                lng: 5.4411363,\n            },\n            zoom,\n            loadingNearbyLocations: false\n        }\n    }\n\n    displayLocations = async (lat, lng) => {\n        const nearbyLocations = await this.props.findNearbyLocations(lat, lng);\n        if (nearbyLocations === null) {\n            this.props.setNewLocation();\n        }\n        this.setState({ nearbyLocations, loadingNearbyLocations: false });\n    }\n\n    async componentDidMount() {\n        if (this.props.currentStep == 2) {\n            console.log('mounting');\n            const { locationKnown } = this.props.state;\n            if (locationKnown) {\n                console.log('location known');\n                const { latitude, longitude } = this.props.state.photo;\n                console.log('getting long lat', latitude, longitude);\n                this.props.updateNewLocationCoords(latitude, longitude);\n                this.displayLocations(latitude, longitude);\n                this.setState({\n                    marker: { lat: latitude, lng: longitude }\n                })\n            }\n            this.props.fetchCategories();\n        }\n    }\n\n\n\n    refmarker = React.createRef();\n    map = React.createRef();\n\n    updatePosition = () => {\n        const marker = this.refmarker.current;\n        const map = this.map.current;\n        if (marker != null) {\n            console.log('updating position', marker.leafletElement.getLatLng())\n            this.setState({\n                marker: marker.leafletElement.getLatLng(),\n                zoom: map.leafletElement.getZoom(),\n                loadingNearbyLocations: true\n            })\n        }\n        this.displayLocations(this.state.marker.lat, this.state.marker.lng);\n        console.log(marker.leafletElement.getLatLng().lat, marker.leafletElement.getLatLng().lng);\n        this.props.updateNewLocationCoords(marker.leafletElement.getLatLng().lat, marker.leafletElement.getLatLng().lng);\n    }\n\n    onChange = (e) => {\n        this.props.onChange(e, 'location');\n    }\n\n    render() {\n        if (this.props.currentStep !== 2) {\n            return null\n        }\n\n        const { locationCategoryValues, location_categories, newLocation, monthValues } = this.props.state;\n        const { marker } = this.state;\n        const position = [marker.lat, marker.lng];\n\n        const { nearbyLocations, zoom, loadingNearbyLocations } = this.state;\n\n        return (\n            <div className=\"form-group\">\n\n                <Map\n                    className=\"map\"\n                    id=\"photoLocation\"\n                    center={position}\n                    zoom={zoom}\n                    ref={this.map}\n                >\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <Marker\n                        position={position}\n                        ref={this.refmarker}\n                        draggable={this.state.draggable}\n                        onDragend={this.updatePosition}\n                    >\n                        <Popup>\n                            Foto locatie\n                        </Popup>\n                    </Marker>\n                </Map>\n\n                {loadingNearbyLocations && <FaSpinner />}\n                {nearbyLocations && !newLocation &&\n                    <div>\n                        <div className=\"\">Bedoel je misschien deze locatie?</div>\n                        <div className=\"flex -mx-2\">\n                            {\n                                nearbyLocations.map((location) =>\n                                    <LocationCard activeLocation={this.props.activeLocation} key={location.id} location={location} onClick={this.props.onLocationSelect} />\n                                )\n                            }\n                        </div>\n                        <div onClick={this.props.onNewLocationClick} className=\"rounded bg-blue-500 text-white w-full p-2\">Nee, nieuwe locatie toevoegen</div>\n                    </div>\n                }\n                {newLocation &&\n                    <React.Fragment>\n                        <h2>Nieuwe locatie toevoegen</h2>\n                        <input\n                            type=\"text\"\n                            name=\"title\"\n                            placeholder=\"Titel\"\n                            onChange={this.onChange}\n                        />\n                        <textarea\n                            type=\"text\"\n                            name=\"desc\"\n                            onChange={this.onChange}\n                            placeholder=\"Beschrijving van de locatie\"\n                        />\n                        <textarea\n                            type=\"text\"\n                            name=\"directions\"\n                            onChange={this.onChange}\n                            placeholder=\"Beste manier om hier naar toe te reizen? Is bijvoorbeeld er een parkeerplaats dichtbij, stopt er een bus?\"\n                        />\n                        <textarea\n                            type=\"text\"\n                            name=\"whattoshoot\"\n                            onChange={this.onChange}\n                            placeholder=\"Tips en advies, wat kan je fotograferen op deze locatie?\"\n                        />\n                        <Select\n                            components={animatedComponents}\n                            closeMenuOnSelect={false}\n                            isMulti\n                            options={monthValues}\n                            placeholder=\"Beste maand om te fotograferen\"\n                            onChange={(e) => { this.props.handleSelect(e, 'months') }}\n                        />\n                        <CreatableSelect\n                            components={animatedComponents}\n                            isMulti\n                            onChange={(e) => { this.props.handleSelect(e, 'location_categories') }}\n                            options={locationCategoryValues}\n                            placeholder=\"Categorieën\"\n                            value={location_categories}\n                            onCreateOption={this.props.onCategoryCreate}\n                            formatCreateLabel={label => `Maak nieuwe categorie: \"${label}`}\n\n                        />\n                    </React.Fragment>\n                }\n                <button type=\"submit\" className=\"block px-3 py- my-2 text-white rounded text-l bg-blue-500\">\n                    Uploaden\n                </button>\n            </div>\n        );\n    }\n}","/* globals React */\nimport React from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport http from \"./services/httpService\";\nimport EXIF from 'exif-js'\nimport exifr from 'exifr';\nimport slugify from 'slugify';\nimport AddPhoto from \"./AddPhoto.jsx\";\n\nexport default class PhotoAddToLocation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            photo: {},\n            photoLoading: false,\n            tempFile: null,\n            onDrop: false,\n            onDragOver: false,\n            uploadPercentage: 0,\n            invalidFields: {},\n            blob: null,\n            location: null,\n        };\n        this.fileInput = React.createRef();\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    fetchLocation = async () => {\n        const query = `query location($id:ID!) {\n            location(id:$id) {\n              title\n              id\n              slug\n            }\n          }`;\n\n\n        let { params: { id } } = this.props.match;\n\n        const data = await graphQLFetch(query, { id }, true);\n        return data;\n    }\n\n    async componentDidMount() {\n        const data = await this.fetchLocation();\n        if (data) {\n            this.setState({ location: data.location, photo: { location: data.location.id } });\n        } else {\n            this.setState({ location: null });\n        }\n    }\n\n    async handleSubmit(e) {\n        console.log('submitted');\n        e.preventDefault();\n        e.persist();\n\n        const { blob, newLocation, photo: { title } } = this.state;\n\n        // check if an image is given, and title, if not show error and return null;\n        if (!blob || !title) {\n            if (!blob) {\n                console.log('no blob in state');\n                this.setState((prevState) => ({\n                    ...prevState, invalidFields: { ...prevState.invalidFields, blob: 'Voeg je nog een foto toe? 📸' }\n                }));\n            }\n            if (!title) {\n                console.log('no title in state.photo');\n                this.setState((prevState) => ({\n                    ...prevState, invalidFields: { ...prevState.invalidFields, title: 'Wat is de titel van je foto? 📸' }\n                }));\n            }\n            console.log('returning');\n            return;\n        }\n\n        // check if slug is available, if not, add number\n        let slug = slugify(title, {\n            replacement: '-',  // replace spaces with replacement character, defaults to `-`\n            remove: undefined, // remove characters that match regex, defaults to `undefined`\n            lower: true,      // convert to lower case, defaults to `false`\n            strict: true,     // strip special characters except replacement, defaults to `false`\n        })\n\n        const createdSlug = await this.createSlug(slug);\n\n        // if slug is available, add to the state\n        this.setState((prevState) => {\n\n            return ({\n                ...prevState,\n                photo: {\n                    ...prevState.photo,\n                    slug: createdSlug,\n                    date: prevState.photo.date ? new Date(prevState.photo.date) : null,\n                    iso: prevState.photo.iso ? prevState.photo.iso.toString() : null,\n                    aperture: prevState.photo.aperture ? prevState.photo.aperture.toString() : null,\n                    shutterspeed: prevState.photo.shutterspeed ? prevState.photo.shutterspeed.toString() : null\n                }\n            })\n        });\n\n        //create photo page with info\n        // query for new photo\n        const query = `mutation CreatePhoto($input: createPhotoInput) {\n            createPhoto(input: $input){\n                photo{\n                    title\n                    desc\n                    slug\n                    date\n                    brand\n                    shutterspeed\n                    iso\n                    aperture\n                    camera\n                    focalLength\n                    id\n                    location {\n                        id\n                        title\n                        longitude\n                        latitude\n                    }\n                }\n            }\n        }`;\n\n        let input = {};\n        input['data'] = this.state.photo;\n        delete input.data.blob;\n        delete input.data.longitude;\n        delete input.data.latitude;\n\n        const data = await graphQLFetch(query, { input }, true);\n\n\n        if (data) {\n            console.log('photo page created, uploading foto..')\n            //after pages is created, use refId to upload files with xhr request\n\n            const redirect = () => {\n                //if the query returns an id in data, the photo is created\n                // redirect to created photo\n                const { slug } = data.createPhoto.photo;\n                const { history } = this.props;\n                history.push({\n                    pathname: `/foto/${slug}`\n                })\n            }\n\n            const formData = new FormData();\n\n            const { blob: uploadedFile } = this.state;\n\n            formData.append(`files`, uploadedFile, uploadedFile.name);\n            formData.append('ref', 'photo');\n            formData.append('field', 'photo');\n            formData.append('refId', data.createPhoto.photo.id);\n\n            const request = new XMLHttpRequest();\n            request.open('POST', `http://localhost:1337/upload`);\n            request.send(formData);\n            request.addEventListener(\"load\", redirect);\n        } else {\n            console.log('failed');\n        }\n    }\n\n    photoValidation = (file) => {\n        if (file.size > 27000000) {\n            this.setState((prevState) => ({\n                ...prevState, invalidFields: { ...prevState.invalidFields, blob: 'Selecteer een afbeelding kleiner dan 27MB.' }\n            }));\n            return;\n        } else {\n            this.setState((prevState) => {\n                const invalidFields = { ...prevState.invalidFields }\n                if (invalidFields.hasOwnProperty(\"blob\")) delete invalidFields['blob'];\n                return { invalidFields };\n            });\n        }\n    }\n\n    onFileChange = async (e) => {\n        const file = e.target.files[0];\n        this.setState({ blob: e.target.files[0] });\n\n        this.photoValidation(file);\n\n        this.setState({\n            photoLoading: true\n        })\n\n        var reader = new FileReader();\n        reader.onload = () => {\n            this.setState({ photoLoading: false, tempFile: URL.createObjectURL(file) });\n        };\n        reader.readAsDataURL(file);\n\n        let exifrGps = await exifr.gps(file);\n        let output = await exifr.parse(file, ['LensModel']);\n\n        // if the photo contains gps data\n        if (exifrGps) {\n            let { longitude, latitude } = exifrGps;\n            this.setState((prevState) => ({ ...prevState, locationKnown: true, photo: { ...prevState.photo, longitude, latitude } }));\n        }\n\n        if (file && file.name) {\n            EXIF.getData(file, () => {\n                let exifData = EXIF.pretty(file);\n                if (exifData && EXIF.getTag(file, \"ExposureTime\") && EXIF.getTag(file, \"ISOSpeedRatings\") && EXIF.getTag(file, \"FNumber\")) {\n\n\n                    let date = EXIF.getTag(file, \"DateTime\");\n                    if (date) {\n                        let splittedDate = EXIF.getTag(file, \"DateTime\").substr(0, 10).split(\":\");\n                        const year = splittedDate[0];\n                        const month = splittedDate[1];\n                        const day = splittedDate[2];\n                        let dateVal = `${year}-${month}-${day}`;\n\n                        this.setState((prevState) => ({\n                            ...prevState, photo: { ...prevState.photo, date: dateVal }\n                        }));\n                    }\n\n\n                    const shutterVal = (EXIF.getTag(file, \"ExposureTime\").numerator / EXIF.getTag(file, \"ExposureTime\").denominator);\n                    let shutterspeedVal = shutterVal > 1 ? shutterVal : '1/' + (1 / shutterVal);\n                    let ISOVal = EXIF.getTag(file, \"ISOSpeedRatings\");\n                    let apertureVal = EXIF.getTag(file, \"FNumber\").numerator / EXIF.getTag(file, \"FNumber\").denominator;\n                    let focalLengthVal = EXIF.getTag(file, \"FocalLength\") + 'mm';\n                    let cameraVal = EXIF.getTag(file, \"Model\");\n\n                    this.setState((prevState) => ({\n                        ...prevState, photo: { ...prevState.photo, shutterspeed: shutterspeedVal, iso: ISOVal, aperture: apertureVal, focalLength: focalLengthVal, camera: cameraVal }\n                    }));\n\n                } else {\n                    this.setState((prevState) => ({\n                        ...prevState, photo: { ...prevState.photo, date: '', shutterspeed: '', iso: '', aperture: '', focalLength: '', camera: '' }\n                    }));\n                }\n            });\n        } else {\n            this.setState((prevState) => ({\n                ...prevState, photo: { ...prevState.photo, date: '', shutterspeed: '', iso: '', aperture: '', focalLength: '', camera: '' }\n            }));\n        }\n    }\n\n    handleInputChange = (event, property) => {\n        console.log('handling on input chagne')\n        const target = event.target;\n        const value = target.type === \"checkbox\" ? target.checked : target.value;\n        const name = target.name;\n\n        this.setState((prevState) => {\n            let stateFields;\n            if (property === 'location') {\n                console.log('setting location state');\n                stateFields = { ...prevState, location: { ...prevState.location, [name]: value } };\n            } else {\n                stateFields = { ...prevState, photo: { ...prevState.photo, [name]: value } };\n            }\n\n            const invalidFields = { ...prevState.invalidFields };\n            if (this.state.photo.title && this.state.invalidFields.title) delete invalidFields['title'];\n            stateFields['invalidFields'] = invalidFields;\n            return stateFields;\n        });\n\n    };\n\n    removeImage = () => {\n        console.log('remove');\n        this.setState({ tempFile: null, photo: {}, blob: null, locationKnown: false })\n    }\n\n    handleOnDrop = (e) => {\n        console.log('handleOnDrop fired', e);\n    }\n    handleOnDragOver = (e) => {\n        this.setState({ onDragOver: true });\n    }\n    handleOnDragLeave = (e) => {\n        this.setState({ onDragOver: false });\n    }\n\n    checkForAvailableSlug = async (slug) => {\n        let query = `query photoBySlug($slug: String!){\n            photoBySlug(slug: $slug) {\n                title\n            }\n        }`;\n\n        const result = await graphQLFetch(query, { slug }, true);\n        return result;\n    }\n\n    createSlug = async (slug, suffix, previousSuffix) => {\n\n        var result = await this.checkForAvailableSlug(slug);\n\n        if (!result.photoBySlug) {\n            // slug is available, proceed\n            return slug;\n        } else {\n            // slug is not available, try again\n\n            if (!suffix) {\n                suffix = 1;\n            } else {\n                suffix++;\n            }\n            var n = str.lastIndexOf(previousSuffix);\n            slug.replace(previousSlug, '');\n\n\n            const createdSuffix = '-' + suffix;\n            let adjustedSlug = slug + reactedSlug;\n            return this.createSlug(adjustedSlug, suffix, createdSuffix);\n        }\n    }\n\n    render() {\n        const { location } = this.state;\n        if (location === null) {\n            return null;\n        }\n\n        let btnClass = \"block px-3 py- my-2 text-white rounded text-l\";\n        let disabled = this.state.photo.title === undefined || this.state.photo.title === \"\" || this.state.blob === null ? true : false;\n        btnClass += disabled ? \" bg-gray-400\" : \" bg-blue-600\";\n\n        return (<>\n            <form\n                name=\"photoAdd\"\n                encType=\"multipart/form-data\"\n                onSubmit={this.handleSubmit}\n                className=\"block py-3 px-4 border border-gray-300 rounded md:mx-auto md:my-6 md:w-9/12 lg:w-1/2 rounded md:shadow-lg md:p-6\"\n            >\n                <div className=\"block mb-2\">\n                    <div className=\"w-full rounded p-2 border\">\n                        <p className=\"font-bold\">Foto toevoegen aan locatie: {location.title}</p>\n                    </div>\n                </div>\n                <AddPhoto\n                    state={this.state}\n                    fileInput={this.fileInput}\n                    onFileChange={this.onFileChange}\n                    onChange={this.handleInputChange}\n                    handleOnDrop={this.handleOnDrop}\n                    handleOnDragOver={this.handleOnDragOver}\n                    handleOnDragLeave={this.handleOnDragLeave}\n                    removeImage={this.removeImage} />\n                <button disabled={disabled} type=\"submit\" className={btnClass}>\n                    Uploaden\n                    </button>\n            </form>\n        </>);\n    }\n}","/* globals React */\nimport React, { Component } from \"react\";\nimport { Link, withRouter, NavLink } from 'react-router-dom';\n\nconst PhotoView = withRouter(({ photo, location: { search }, deletePhoto, index }) => {\n    const selectedLocation = { pathname: `/foto/${photo.slug}`, search }\n    return (\n        <React.Fragment>\n            <div className=\"w-full inline-block md:w-1/2 lg:w-1/3 p-2\">\n                <div className=\"photoCard rounded relative shadow-xs\">\n                    <div onClick={() => { deletePhoto(index); }} className=\"deletePhotoTimes rounded-full overflow-hidden w-4 h-4 -top-1 hidden z-10 absolute bg-red-700\">\n                        <svg className=\"w-4 h-4 stroke-current text-white stroke-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                        </svg>\n                    </div>\n                    <div className=\"relative rounded overflow-hidden\">\n                        <NavLink\n                            to={selectedLocation}\n                            className=\"absolute w-full h-full z-10\"\n                            title=\"Bekijk foto nu\"\n                        ></NavLink>\n                        <img\n                            src={photo.photo[0].url}\n                            className=\"object-cover  w-full h-48  block\"\n                            alt=\"Foto\"\n                        />\n\n                        <div className=\"photoContent p-4 absolute bottom-0 left-0\">\n                            <span className=\"text-white\">\n                                {// convert date type to a readable date string\n                                    photo.date && photo.date.toDateString()}\n                            </span>\n                            <div className=\"photoInfo\">\n                                <h3 className=\"text-white\">{photo.title}</h3>\n                                <span className=\"text-white\">{photo.place}</span>\n                                <p className=\"text-white\">{photo.category}</p>\n                            </div>\n                            <div className=\"clear\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    );\n});\n\nexport default function PhotoCarousel({ photos, deletePhoto }) {\n    const photoViews = photos.map((photo, index) => (\n        <PhotoView key={photo.id} index={index} deletePhoto={deletePhoto} photo={photo} />\n    ));\n    return <div className=\"-mx-2\">{photoViews}</div>;\n}","/* globals React */\n/* eslint \"react/jsx-no-undef\":\"off\" */\n\nimport React, { Component } from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet-universal';\nimport { Link } from 'react-router-dom';\nimport store from \"./store.js\";\n\n\nexport default class PhotoDetail extends React.Component {\n\n    static async fetchData(match, search, showError) {\n\n        // build the graphql query\n        const query = `query photo($id: Int!) {\n        photo(id: $id) {\n          id\n          title\n          date\n          created\n          description\n          images {\n            imageThumb\n            imageOriginal\n            imageWatermark\n          }\n        }\n      }`;\n\n        let { params: { id } } = match;\n        id = parseInt(id);\n        const result = await graphQLFetch(query, { id }, showError);\n        return result;\n    }\n\n    constructor() {\n        super();\n        console.log(store.initialData);\n        const photo = store.initialData ? store.initialData.photo : null;\n        delete store.initialData;\n        this.state = {\n            photo,\n            lat: 51.505,\n            lng: -0.09,\n            zoom: 13,\n        };\n        console.log(this.state);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { match: { params: { id: prevId } } } = prevProps;\n        const { match: { params: { id } } } = this.props;\n        if (prevId !== id) {\n            this.loadData();\n        }\n    }\n\n    componentDidMount() {\n        const { photo } = this.state;\n        if (photo === null) {\n            this.loadData();\n        }\n    }\n\n    async loadData() {\n        // get the search query string form url\n        const { match } = this.props;\n        // provide the query with the variables \n        const data = await PhotoDetail.fetchData(match);\n        if (data) {\n            this.setState({ photo: data.photo });\n        }\n    }\n\n    render() {\n        const { photo } = this.state;\n        if (photo === null) return null;\n\n        const { photo: { images: { imageWatermark } } } = this.state;\n        const position = [this.state.lat, this.state.lng];\n\n        return (\n            <div id=\"page\" className=\"p-6\">\n                <h1>{photo.title}</h1>\n                <p>{photo.description}</p>\n                <Link to={`/edit/${photo.id}`}>Bewerken</Link>\n                <img\n                    src={imageWatermark}\n                    className=\" w-full   block\"\n                    alt=\"Foto\"\n                />\n                <Map className=\"map\" center={position} zoom={this.state.zoom}>\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <Marker position={position}>\n                        <Popup>\n                            A pretty CSS3 popup. <br /> Easily customizable.\n                        </Popup>\n                    </Marker>\n                </Map>\n            </div>\n        );\n    }\n}","/* globals React */\n/* eslint \"react/jsx-no-undef\":\"off\" */\n\nimport React, { Component, Fragment } from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet-universal';\nimport { Link } from 'react-router-dom';\nimport store from \"./store.js\";\nimport { Redirect } from \"react-router-dom\";\nimport userIcon from \"./images/userMarker.svg\";\nimport locationIcon from \"./images/locationMarker.svg\";\nimport shadowIcon from \"./images/markerShadow.png\";\n\nexport default class PhotoDetailStrapi extends React.Component {\n\n    static async fetchData(match, search, showError) {\n\n        // build the graphql query\n        const query = `query photoBySlug($slug: String!){\n            photoBySlug(slug: $slug) {\n                title\n                desc\n                photo {\n                    url\n                }\n                slug\n                date\n                brand\n                shutterspeed\n                iso\n                aperture\n                camera\n                likes\n                focalLength\n                location {\n                    longitude\n                    latitude\n                }\n            }\n        }`;\n\n        let { params: { id: slug } } = match;\n        console.log(match);\n        const result = await graphQLFetch(query, { slug }, true);\n        return result;\n    }\n\n    constructor() {\n        super();\n        const photoBySlug = store.initialData ? store.initialData.photoBySlug : null;\n        delete store.initialData;\n        this.state = {\n            photoBySlug,\n            redirect: false,\n            zoom: 13,\n            userLocationKnown: false,\n            userMarker: null,\n            userLocation: {\n                longitude: null,\n                latitude: null\n            }\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const { match: { params: { id: prevId } } } = prevProps;\n        const { match: { params: { id } } } = this.props;\n        if (prevId !== id) {\n            this.loadData();\n        }\n    }\n\n    componentDidMount() {\n        const { photoBySlug } = this.state;\n        if (photoBySlug === null) {\n            this.loadData();\n        }\n\n        // loading leaflet in componentDidMount because it doenst support SSR\n        const L = require(\"leaflet\");\n\n        const userMarker = new L.Icon({\n            iconUrl: userIcon,\n            iconRetinaUrl: userIcon,\n\n            iconAnchor: [16, 40],\n            popupAnchor: [0, -40],\n            shadowUrl: require('leaflet/dist/images/marker-shadow.png').default,\n            shadowAnchor: [13, 40],\n            iconSize: new L.Point(32, 40),\n        });\n\n        delete L.Icon.Default.prototype._getIconUrl;\n\n        L.Icon.Default.mergeOptions({\n            iconUrl: locationIcon,\n            iconRetinaUrl: locationIcon,\n            iconAnchor: [16, 40],\n            popupAnchor: [0, -40],\n            shadowUrl: require('leaflet/dist/images/marker-shadow.png').default,\n            shadowAnchor: [13, 40],\n            iconSize: new L.Point(32, 40),\n        });\n\n        // get users position\n        var options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n        };\n\n        const success = (pos) => {\n            var crd = pos.coords;\n\n            console.log('Your current position is:');\n            console.log(`Latitude : ${crd.latitude}`);\n            console.log(`Longitude: ${crd.longitude}`);\n            console.log(`More or less ${crd.accuracy} meters.`);\n\n            this.setState(\n                (prevState) => ({\n                    ...prevState, userMarker, userLocationKnown: true, userLocation: { longitude: crd.longitude, latitude: crd.latitude }\n                })\n            )\n        }\n\n        const error = (err) => {\n            console.warn(`ERROR(${err.code}): ${err.message}`);\n\n            fetch('https://ipapi.co/json')\n                .then(res => res.json())\n                .then(location => {\n                    this.setState(\n                        (prevState) => ({\n                            ...prevState, userMarker, userLocationKnown: true, userLocation: { longitude: location.longitude, latitude: location.latitude }\n                        })\n                    )\n                });\n        }\n\n        navigator.geolocation.getCurrentPosition(success, error, options);\n\n    }\n\n    async loadData() {\n        // get the search query string form url\n        const { match } = this.props;\n        // provide the query with the variables \n        const data = await PhotoDetailStrapi.fetchData(match);\n        if (data.photoBySlug != null) {\n            console.log('Setting state');\n            this.setState({ photoBySlug: data.photoBySlug });\n            console.log(this.state);\n        } else {\n            console.log('return not found');\n            this.setState({ redirect: true });\n            console.log(this.state);\n        }\n    }\n\n    render() {\n        const { photoBySlug, redirect } = this.state;\n        if (redirect) {\n            console.log('redirect', redirect);\n            return <Redirect to=\"/niet-gevonden\" />;\n        }\n        if (photoBySlug === null) {\n            console.log('return null from render');\n            return null;\n        }\n\n        const { userLocation, userLocationKnown, userMarker } = this.state;\n\n        const position = [photoBySlug.location.latitude, photoBySlug.location.longitude];\n        const calculatedUserLocation = userLocation.latitude ? [userLocation.latitude, userLocation.longitude] : null;\n\n        return (\n            <div id=\"page\">\n                <img\n                    src={photoBySlug.photo[0].url}\n                    className=\" w-full   block\"\n                    alt=\"Foto\"\n                />\n                <div id=\"photoInfo\" className=\"p-6\">\n                    <h1 className=\"text-2xl font-bold mb-1 text-gray-800 block\">{photoBySlug.title}</h1>\n                    <p className=\"text-gray-600\">{photoBySlug.desc}</p>\n                    <Map className=\"map\" id=\"photoLocation\" center={position} zoom={this.state.zoom}>\n                        <TileLayer\n                            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        />\n                        <Marker position={position}>\n                            <Popup>\n                                Foto locatie\n                            </Popup>\n                        </Marker>\n                        {userLocationKnown && <Marker position={calculatedUserLocation} icon={userMarker}>\n                            <Popup>\n                                Jouw locatie\n                            </Popup>\n                        </Marker>}\n                    </Map>\n                </div>\n            </div>\n        );\n    }\n}","/* globals React */\nimport React, { Component } from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport DateInput from \"./DateInput.jsx\";\nimport TextInput from \"./TextInput.jsx\";\nimport { toast } from 'react-toastify';\nimport store from \"./store.js\";\n\nclass PhotoEdit extends Component {\n\n    static async fetchData(match, search, showError) {\n\n        // build the graphql query\n        const query = `query photo($id: Int!) {\n            photo(id: $id) {\n              id\n              title\n              date\n              created\n              description\n              ISO\n              shutterspeed\n              aperture\n              images {\n                imageThumb\n                imageOriginal\n                imageWatermark\n              }\n            }\n          }`;\n\n        let { params: { id } } = match;\n        id = parseInt(id);\n        const result = await graphQLFetch(query, { id }, showError);\n        return result;\n    }\n\n    constructor(props) {\n        super(props);\n\n        // when ssr the initialData is set, otherwise set to null\n        const photo = store.initialData ? store.initialData.photo : null;\n        delete store.initialData;\n        this.state = {\n            photo,\n            invalidFields: {}\n        }\n        this.onValidityChange = this.onValidityChange.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    componentDidMount() {\n        const { photo } = this.state;\n        if (photo === null) this.loadData();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { match: { params: { id: prevId } } } = prevProps;\n        const { match: { params: { id } } } = this.props;\n        if (id !== prevId) {\n            this.loadData();\n        }\n    }\n\n    onValidityChange(event, valid) {\n        // this function gets called by child compontent, if the valid value changed\n        // from valid to nonvalid or other way around\n        // get the name of the input\n        const { name } = event.target;\n        // update the state, by overriding the new valid state\n        this.setState((prevState) => {\n            const invalidFields = { ...prevState.invalidFields, [name]: !valid };\n            // if valid is true, delete the inputfield from the state\n            if (valid) delete invalidFields[name];\n            // update the state with the new invalid fields\n            return { invalidFields };\n        })\n    }\n\n    onChange(e, naturalValue) {\n        const { name, value: textValue } = e.target;\n        const value = naturalValue === undefined ? textValue : naturalValue;\n        this.setState(prevState => ({\n            // to only update values that changed, list out all of the previous values\n            // with ...prevState.photo and override the changed ones with [name]: value\n            photo: { ...prevState.photo, [name]: value }\n        }));\n    }\n\n    handleSubmit = async (e) => {\n        e.preventDefault();\n        const { photo, invalidFields } = this.state;\n        if (Object.keys(invalidFields).length !== 0) return;\n        const query = `mutation issueUpdate(\n            $id: Int!\n            $changes: PhotoUpdateInputs!\n        ) {\n            photoUpdate(\n                id: $id\n                changes: $changes\n            ) {\n                id\n                title\n                date\n                created\n                description\n                ISO\n                shutterspeed\n                aperture\n                images {\n                  imageThumb\n                  imageOriginal\n                  imageWatermark\n                }\n            }\n        }`;\n\n        // get the properties id and created from photo, and store the rest in changes\n        const { id, created, ...changes } = photo;\n        const data = await graphQLFetch(query, { changes, id });\n        if (data) {\n            this.setState({ photo: data.photoUpdate });\n            toast.success(\"Succesvol geudate\");\n        }\n    }\n\n    async loadData() {\n\n        const { match } = this.props;\n        const data = await PhotoEdit.fetchData(match);\n\n        if (data) {\n            const { photo } = data;\n            data.created = data.created ? data.created.toDateString() : '';\n            data.date = data.date ? data.date.toDateString() : '';\n            this.setState({ photo, invalidFields: {} });\n        } else {\n            this.setState({ photo: {}, invalidFields: {} });\n        }\n\n    }\n\n    render() {\n        const { photo } = this.state;\n        if (photo === null) return null;\n        // get photo ID from state\n        const { photo: { id } } = this.state;\n        // get photo ID form url\n        const { match: { params: { id: propsId } } } = this.props;\n\n\n        // check if state has a photo\n        if (id === null) {\n\n            // if not, but url has an id, the photo is not found\n            if (propsId != null) {\n                return <h3>{`Foto met ID ${propsId} niet gevonden.`}</h3>;\n            }\n\n            // if no id is supplied, return null\n            return null;\n        }\n\n        const { photo: { images: { imageWatermark } } } = this.state;\n        const { invalidFields } = this.state;\n        let validationMessage;\n        if (Object.keys(invalidFields).length !== 0) {\n            validationMessage = (\n                <div className=\"error\">\n                    🤔Heb je alle velden goed ingevuld?\n                </div>\n            );\n        }\n\n        let btnClass = \"block px-3 py- my-2 text-white rounded text-l\";\n        let disabled = Object.keys(invalidFields).length !== 0;\n        btnClass += disabled ? \" bg-gray-400\" : \" bg-blue-600\";\n\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <h3>{`Bewerk foto ${photo.title}`}</h3>\n                <img\n                    src={photo.images.imageWatermark}\n                    className=\"object-cover w-full h-48 block\"\n                    alt=\"Foto\"\n                    id=\"replacePhoto\"\n                />\n                <label htmlFor=\"title\">Titel</label>\n                <TextInput\n                    id=\"title\"\n                    name=\"title\"\n                    type=\"text\"\n                    value={photo.title}\n                    onChange={this.onChange}\n                />\n                <label htmlFor=\"date\">Datum</label>\n                <DateInput\n                    name=\"date\"\n                    value={photo.date}\n                    onChange={this.onChange}\n                    onValidityChange={this.onValidityChange}\n                />\n                <label htmlFor=\"shutterspeed\">Sluitertijd</label>\n                <TextInput\n                    id=\"shutterspeed\"\n                    name=\"shutterspeed\"\n                    type=\"text\"\n                    value={photo.shutterspeed}\n                    onChange={this.onChange}\n                />\n                <label htmlFor=\"shutterspeed\">ISO</label>\n                <TextInput\n                    id=\"ISO\"\n                    name=\"ISO\"\n                    type=\"text\"\n                    value={photo.ISO}\n                    onChange={this.onChange}\n                />\n                <label htmlFor=\"aperture\">Diafragma</label>\n                <TextInput\n                    id=\"aperture\"\n                    name=\"aperture\"\n                    type=\"text\"\n                    value={photo.aperture}\n                    onChange={this.onChange}\n                />\n                <label htmlFor=\"description\">Beschrijving</label>\n                <TextInput\n                    tag=\"textarea\"\n                    id=\"description\"\n                    name=\"description\"\n                    type=\"text\"\n                    value={photo.description}\n                    onChange={this.onChange}\n                />\n                <button type=\"submit\" className={btnClass}>Opslaan</button>\n\n                {validationMessage}\n            </form>\n        )\n    }\n}\n\nexport default PhotoEdit;","/* globals React */\nimport React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport URLSearchParams from 'url-search-params';\n\nclass PhotoFilter extends React.Component {\n    constructor({ location: { search } }) {\n        super();\n        const params = new URLSearchParams(search);\n        this.state = {\n            category: params.get('category') || ''\n        }\n        this.onChangeStatus = this.onChangeStatus.bind(this);\n        this.applyFilter = this.applyFilter.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        //     console.log('prevProps', prevProps.location.search);\n        //     console.log('thisProps', this.props.location.search);\n        const { location: { search: prevSearch } } = prevProps;\n        const { location: { search } } = this.props;\n        if (prevSearch !== search) {\n            this.showOriginalFilter();\n        }\n    }\n\n    onChangeStatus(e) {\n        this.setState({ category: e.target.value });\n    }\n\n\n    showOriginalFilter() {\n        const { location: { search } } = this.props;\n        const params = new URLSearchParams(search);\n        this.setState({ category: params.get('category') || '' });\n    }\n\n    applyFilter() {\n        // get the filter, in this case the category\n        const { category } = this.state;\n\n        // get the history prop to use the history.push function \n        // to use history, we need to export PhotoFilter withRouter() as done at last rule\n        const { history } = this.props;\n        history.push({\n            pathname: '/photos',\n            search: category ? `?category=${category}` : ``\n        })\n    }\n\n    render() {\n        // get the location search to display current filter in select\n        const { category } = this.state;\n\n        return (\n            <div>\n                Category:\n                <select value={category} onChange={this.onChangeStatus}>\n                    <option value=\"\">Alle photos</option>\n                    <option value=\"landschapsfotografie\">Landschapsfotografie</option>\n                    <option value=\"nabewerking\">nabewerking</option>\n                    <option value=\"photowalk\">photowalk</option>\n                    <option value=\"nachtfotografie\">nachtfotografie</option>\n                </select>\n                <button type='button' onClick={this.applyFilter}>Apply</button>\n            </div >\n        );\n    }\n}\n\n//because we need access to the this.props.history property, we use withRouter\nexport default withRouter(PhotoFilter);","/* globals React */\n/* eslint \"react/jsx-no-undef\":\"off\" */\n\nimport React, { Component } from \"react\";\nimport PhotoFilter from './PhotoFilter.jsx';\nimport PhotoCarousel from './PhotoCarousel.jsx';\nimport PhotoDetail from './PhotoDetail.jsx';\nimport graphQLFetch from './graphQLFetch.js';\nimport { Route, Link, NavLink } from \"react-router-dom\";\n\n/* to support IE */\nimport URLSearchParams from 'url-search-params';\nimport store from \"./store.js\";\n\nexport default class PhotoList extends React.Component {\n\n    static async fetchData(match, search) {\n        // get the search query string form url\n        //const { location: { search } } = this.props;\n\n        // use URLSearchParams for IE Compatibility\n        //const params = new URLSearchParams(search);\n\n        // If category is provided in the query string, add them to our variables \n        const vars = {};\n        //if (params.get('category')) vars.category = params.get('category');\n\n        // build the graphql query\n        const query = `query photos {\n            photos {\n            title\n                        desc\n                        photo {\n                          url\n                        }\n                        slug\n                        user {\n                          username\n                        }\n                        date\n                        brand\n                        shutterspeed\n                        iso\n                        aperture\n                        camera\n                        likes\n                        location {\n                            longitude\n                            latitude\n                            title\n                            slug\n                            createdAt\n                        }\n            }\n          }`;\n\n        // provide the query with the variables \n        const data = await graphQLFetch(query, vars, true);\n        console.log(data);\n        return data;\n    }\n\n    constructor() {\n        const photos = store.initialData ? store.initialData.photoList : null;\n        delete store.initialData;\n        super();\n        this.state = {\n            photos\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const { location: { search: prevSearch } } = prevProps;\n        const { location: { search } } = this.props;\n        if (prevSearch !== search) {\n            this.loadData();\n        }\n    }\n\n    componentDidMount() {\n        const { photos } = this.state;\n        if (photos === null) this.loadData();\n    }\n\n    deletePhoto = async (index) => {\n        const query = `mutation photoDelete($id: Int!) {\n            photoDelete(id: $id)\n        }`;\n        const { photos } = this.state;\n        const { location: { pathname, search }, history } = this.props;\n        const { id } = photos[index];\n        const data = await graphQLFetch(query, { id });\n        if (data && data.photoDelete) {\n            this.setState((prevState) => {\n                const newList = [...prevState.photos];\n                if (pathname === `/photos/${id}`) {\n                    history.push({ pathname: '/photos', search });\n                }\n                newList.splice(index, 1);\n                return { photos: newList };\n            })\n        } else {\n            this.loadData();\n        }\n    }\n\n    async loadData() {\n        // get the search query string form url\n        const { location: { search } } = this.props;\n\n        // fetch data\n        const data = await PhotoList.fetchData(null, search);\n        if (data) {\n            this.setState({ photos: data.photos });\n        }\n    }\n\n    render() {\n        const { photos } = this.state;\n        if (photos === null) return null;\n\n        return (\n            <div id=\"page\" className=\"p-6\">\n                <h1>Recente foto's</h1>\n                <PhotoFilter />\n                <hr />\n                <PhotoCarousel photos={photos} deletePhoto={this.deletePhoto} />\n\n            </div >\n        );\n    }\n}","import React from 'react';\n\n// eslint-disable-next-line react/prefer-stateless-function\nexport default function PhotoReport() {\n    return <div><h2>This is a placholder for the PhotoReport</h2></div>;\n}","import React from 'react';\nimport Joi from '@hapi/joi';\nimport Form from './Form.jsx';\nimport { NavLink } from 'react-router-dom';\nimport graphQLFetch from './graphQLFetch.js';\n\nclass RegisterForm extends Form {\n\n    state = {\n        data: {\n            email: '',\n            password: '',\n            firstname: '',\n            lastname: '',\n            username: ''\n        },\n        errors: {}\n    }\n\n    schema = {\n        email: Joi.string().email({ tlds: { allow: false } })\n            .required().messages({\n                \"string.empty\": `Vul je je email nog even in? 😉`,\n                \"any.required\": `Vul je je email nog even in? 😉`,\n                \"string.email\": `Vul je een geldig adres in? 😉`\n            }),\n        password: Joi.string()\n            .required().messages({\n                \"string.empty\": `Vul je je wachtwoord nog even in? 😉`,\n                \"any.required\": `Vul je je wachtwoord nog even in? 😉`\n            }),\n        firstname: Joi.string().required().messages({\n            \"string.empty\": `Vul je je voornaam nog even in? 😉`,\n            \"any.required\": `Vul je je voornaam nog even in? 😉`\n        }),\n        lastname: Joi.string().required().messages({\n            \"string.empty\": `Vul je je achternaam nog even in? 😉`,\n            \"any.required\": `Vul je je achternaam nog even in? 😉`\n        }),\n        username: Joi.string().regex(/^\\S*$/).required().messages({\n            \"string.empty\": `Vul je je gebruikersnaam nog even in? 😉`,\n            \"any.required\": `Vul je je gebruikersnaam nog even in? 😉`,\n            \"string.pattern.base\": \"Gebruikersnaam kan geen spaties bevatten\"\n        }),\n    }\n\n    createUser = async () => {\n        const query = `mutation register($input: UserInput!) {\n            register(input: $input) {\n                jwt\n                user {\n                  id\n                  email\n                  username\n                }\n            }\n          } `;\n\n        const { data } = this.state;\n\n        let input = { ...data };\n        input['role'] = '5eef1a60e3b96d29e2d1d1ac';\n\n        console.log(input);\n\n        const result = await graphQLFetch(query, { input }, true, true);\n        if (result) {\n            // user registered and getting JWT token!\n            const { register } = result;\n            const { jwt, user: { email, id, username } } = register;\n            console.log(jwt, id, email, username);\n            localStorage.setItem('token', jwt);\n            this.props.history.push('/');\n        }\n\n    }\n\n    doSubmit = () => {\n        // call server\n\n        // redirect user to homepage\n        this.createUser();\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"m-6\">\n                    <form onSubmit={this.handleSubmit} className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col border\">\n                        <h1 className=\"font-bold text-xl text-green-500\">Aanmelden bij Spotshare</h1>\n\n                        <div className=\"flex\">\n                            {this.renderInput('firstname', 'Voornaam', 'Voornaam', 'text', 'w-1/2 mr-2')}\n                            {this.renderInput('lastname', 'Achternaam', 'Achternaam', 'text', 'w-1/2')}\n                        </div>\n\n                        {this.renderInput('username', 'Gebruikersnaam', 'Gebruikersnaam')}\n                        {this.renderInput('email', 'Email', 'Emailadres')}\n                        {this.renderInput('password', 'Wachtwoord', 'Vul je wachtwoord in', 'password')}\n\n                        <div className=\"flex items-center justify-between\">\n                            {this.renderButton('Kom bij de club!')}\n                            <NavLink className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-600\" to=\"/inloggen\">Inloggen</NavLink>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default RegisterForm;","import React, { Component } from 'react';\n\nfunction format(text) {\n    return (text != null) ? text : '';\n}\n\nfunction unformat(text) {\n    return text.trim().length === 0 ? null : text;\n}\n\nclass TextInput extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: format(props.value)\n        }\n        this.onBlur = this.onBlur.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    onChange(e) {\n        this.setState({ value: e.target.value });\n    }\n\n    onBlur(e) {\n        const { onChange } = this.props;\n        const { value } = this.state;\n        onChange(e, unformat(value));\n    }\n\n    render() {\n        const { value } = this.state;\n        const { tag = 'input', ...props } = this.props;\n\n        return React.createElement(tag, {\n            ...props,\n            value,\n            onBlur: this.onBlur,\n            onChange: this.onChange\n        })\n    }\n}\n\nexport default TextInput;","\nimport { toast, ToastType } from 'react-toastify';\nimport fetch from 'isomorphic-fetch';\n\nconst dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\n\nfunction jsonDateReviver(key, value) {\n    if (dateRegex.test(value)) return new Date(value);\n    return value;\n}\n\nexport default async function graphQLFetch(query, variables = {}, isBlog = false, returnError = false) {\n    //console.log('query from graphQlFetch ' + query)\n    let apiEndpoint = (__isBrowser__) // eslint-disable-line no-undef\n        ? window.ENV.UI_API_ENDPOINT\n        : process.env.UI_SERVER_API_ENDPOINT;\n\n    apiEndpoint = isBlog ? 'http://localhost:1337/graphql' : apiEndpoint;\n\n    try {\n        const response = await fetch(apiEndpoint, {\n            method: \"POST\",\n            headers: { \"Content-type\": \"application/json\" },\n            body: JSON.stringify({ query, variables })\n        });\n        const body = await response.text();\n        const result = JSON.parse(body, jsonDateReviver);\n\n        // alert the error message whenthe result is containing erros\n        if (result.errors) {\n            const error = result.errors[0];\n            if (error.extensions.code == \"BAD_USER_INPUT\") {\n                console.log(error);\n                const details = error.extensions.exception.errors.join(\"\\n \");\n                toast.error(`${error.message}\\n ${details}`);\n                if (returnError) return result;\n            } else {\n                toast.error(`${error.extensions.code}\\n ${error.message}`);\n                if (returnError) return result;\n            }\n        }\n        return result.data;\n    } catch (e) {\n        toast.error(`Error in sending data to server: ${e.message}`);\n    }\n}","export default __webpack_public_path__ + \"3dd5bee5e47514a333b518f1c68a0831.svg\";","export default __webpack_public_path__ + \"34bcdf28c1687c9e3e7bf72842119b4f.png\";","export default __webpack_public_path__ + \"0325b3fec9806c898205b7d408b0b963.svg\";","import PhotoListStrapi from './PhotoListStrapi.jsx';\nimport PhotoReport from './PhotoReport.jsx';\nimport PhotoEdit from './PhotoEdit.jsx';\nimport PhotoDetailStrapi from './PhotoDetailStrapi.jsx';\nimport LocationDetailStrapi from './LocationDetailStrapi.jsx';\nimport PhotoAddStrapi from './PhotoAddStrapi.jsx';\nimport PhotoAddToLocation from './PhotoAddToLocation.jsx';\nimport About from './About.jsx';\nimport NotFound from \"./NotFound.jsx\";\nimport BlogPost from \"./BlogPost.jsx\";\nimport RegisterForm from './Register.jsx';\nimport LoginForm from './Login.jsx';\n\nconst routes = [\n    { path: '/aanmelden', component: RegisterForm, exact: true },\n    { path: '/inloggen', component: LoginForm, exact: true },\n    { path: '/foto/toevoegen', component: PhotoAddStrapi, exact: true },\n    { path: '/foto/toevoegen/:id', component: PhotoAddToLocation, exact: true },\n    { path: '/foto/:id', component: PhotoDetailStrapi, strict: true },\n    { path: '/fotolocatie/:id', component: LocationDetailStrapi, strict: true },\n    { path: '/fotos', component: PhotoListStrapi },\n    { path: '/bewerken/:id', component: PhotoEdit },\n    { path: '/report', component: PhotoReport },\n    { path: '/about', component: About },\n    { path: '/niet-gevonden', component: NotFound, exact: true },\n    { path: '/*', component: BlogPost },\n]\n\nexport default routes;","import axios from \"axios\";\n\naxios.interceptors.response.use(null, (error) => {\n  const expextedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expextedError) {\n    console.log(\"Logging the error\", error);\n  }\n});\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete\n};\n","const store = {};\nexport default store;","const path = require('path');\nconst nodeExternals = require('webpack-node-externals');\nconst webpack = require('webpack');\n\nconst browserConfig = {\n  mode: 'development',\n  entry: { app: ['./browser/App.jsx'] },\n  output: {\n    filename: \"[name].bundle.js\",\n    path: path.resolve(__dirname, \"public\"),\n    publicPath: '/'\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.(sa|sc|c)ss$/,\n        use: [\n          // Creates `style` nodes from JS strings\n          \"style-loader\",\n          // Translates CSS into CommonJS\n          \"css-loader\",\n          {\n            loader: \"postcss-loader\",\n            options: {\n              ident: \"postcss\",\n              plugins: [require(\"tailwindcss\"), require(\"autoprefixer\")]\n            }\n          },\n          // Compiles Sass to CSS\n          \"sass-loader\"\n        ]\n      },\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              ['@babel/preset-env', {\n                targets: {\n                  ie: '11',\n                  edge: '15',\n                  safari: '10',\n                  firefox: '50',\n                  chrome: '49',\n                },\n              }],\n              '@babel/preset-react',\n            ],\n            plugins: [\n              \"@babel/plugin-proposal-class-properties\"\n            ],\n          },\n        },\n      },\n      {\n        test: /\\.(png|jpe?g|gif|svg)$/i,\n        use: [\n          {\n            loader: 'file-loader',\n          },\n        ],\n      }\n    ]\n  },\n  optimization: {\n    splitChunks: {\n      name: 'vendor',\n      chunks: 'all',\n    },\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: 'true',\n    }),\n  ],\n  devtool: 'source-map',\n};\n\n\nconst serverConfig = {\n  mode: 'development',\n  entry: { server: ['./server/uiserver.js'] },\n  target: 'node',\n  externals: [nodeExternals()],\n  output: {\n    filename: 'server.js',\n    path: path.resolve(__dirname, 'dist'),\n    publicPath: '/',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              ['@babel/preset-env', {\n                targets: { node: '10' },\n              }],\n              '@babel/preset-react',\n            ],\n            plugins: [\n              \"@babel/plugin-proposal-class-properties\"\n            ],\n          },\n        },\n      },\n      {\n        test: /\\.(png|jpe?g|gif|svg)$/i,\n        use: [\n          {\n            loader: 'file-loader',\n          },\n        ],\n      },\n    ],\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: 'false',\n    }),\n  ],\n  devtool: 'source-map',\n};\n\nmodule.exports = [browserConfig, serverConfig];","module.exports = require(\"autoprefixer\");","module.exports = require(\"axios\");","module.exports = require(\"dotenv\");","module.exports = require(\"exif-js\");","module.exports = require(\"exifr\");","module.exports = require(\"express\");","module.exports = require(\"http-proxy-middleware\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"leaflet\");","module.exports = require(\"leaflet/dist/images/marker-shadow.png\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-icons/ai\");","module.exports = require(\"react-icons/fa\");","module.exports = require(\"react-icons/fi\");","module.exports = require(\"react-leaflet-universal\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-select\");","module.exports = require(\"react-select/animated\");","module.exports = require(\"react-select/creatable\");","module.exports = require(\"react-toastify\");","module.exports = require(\"serialize-javascript\");","module.exports = require(\"slugify\");","module.exports = require(\"source-map-support\");","module.exports = require(\"tailwindcss\");","module.exports = require(\"url\");","module.exports = require(\"url-search-params\");","module.exports = require(\"util\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");","module.exports = require(\"webpack-node-externals\");"],"sourceRoot":""}