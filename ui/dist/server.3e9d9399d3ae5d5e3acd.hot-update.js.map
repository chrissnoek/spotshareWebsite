{"version":3,"sources":["webpack:///./src/Form.jsx"],"names":["Form","Component","data","errors","currentTarget","input","state","errorMessage","validateProperty","name","value","setState","options","abortEarly","schema","Joi","object","error","validate","item","details","path","message","result","console","log","e","preventDefault","doSubmit","renderButton","label","renderInput","placeholder","type","classes","handleChange"],"mappings":"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","file":"server.3e9d9399d3ae5d5e3acd.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport Joi from '@hapi/joi';\nimport Input from './Input.jsx';\n\nclass Form extends Component {\n    state = {\n        data: {},\n        errors: {}\n    }\n\n    handleChange = ({ currentTarget: input }) => {\n        const errors = { ...this.state.errors }\n        const errorMessage = this.validateProperty(input);\n        if (errorMessage) errors[input.name] = errorMessage;\n        else delete errors[input.name];\n\n        const data = { ...this.state.data };\n        data[input.name] = input.value;\n        this.setState({ data, errors });\n    }\n\n    validate = () => {\n\n        const options = { abortEarly: false };\n        const schema = Joi.object({ ...this.schema });\n        const { error } = schema.validate(this.state.data, options);\n        if (!error) return null\n\n        const errors = {};\n        for (let item of error.details) {\n            errors[item.path[0]] = item.message;\n        }\n        return errors;\n    }\n\n    validateProperty = ({ name, value }) => {\n        const object = { [name]: value }\n        const schema = Joi.object({ [name]: this.schema[name] });\n        const result = schema.validate(object);\n        console.log(result)\n        const error = result.error\n        console.log('returning', error)\n        return error ? error.details[0].message : null;\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const errors = this.validate();\n        this.setState({ errors: errors || {} });\n        if (errors) return;\n\n        this.doSubmit();\n    }\n\n    renderButton(label) {\n        return (\n            <button\n                className={\"text-white font-bold py-2 px-4 rounded\" + (this.validate() ? \" bg-gray-500 hover:bg-gray-600\" : \" bg-blue-500 hover:bg-blue-600\")}\n                type=\"submit\"\n                disabled={this.validate()}>\n                {label}\n            </button>\n        )\n\n    }\n\n    renderInput(name, label, placeholder, type = 'text', classes = 'w-full') {\n        const { data, errors } = this.state;\n        return (\n            <Input\n                classes={classes}\n                name={name}\n                label={label}\n                value={data[name]}\n                onChange={this.handleChange}\n                placeholder={placeholder}\n                error={errors[name]}\n                type={type}\n            />\n        )\n    }\n}\n\nexport default Form;"],"sourceRoot":""}