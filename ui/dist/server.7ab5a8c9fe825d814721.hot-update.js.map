{"version":3,"sources":["webpack:///./src/components/Dashboard/LocationsNearby.jsx"],"names":["LocationsNearby","locations","setLocations","useState","useEffect","fetchData","match","search","showError","options","enableHighAccuracy","timeout","maximumAge","success","pos","console","log","crd","coords","_locations","findNearbyLocations","latitude","longitude","error","err","fetch","then","res","json","location","navigator","geolocation","getCurrentPosition","map","id","slug","photos","sort","a","b","likes","photo","url","replace","title","location_categories","category"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;CAEA;;AACA;AACA;AACA;;AAEA,MAAMA,eAAe,GAAG,MAAM;AAC5B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BC,sDAAQ,EAA1C;AAEAC,yDAAS,CAAC,MAAM;AACdC,aAAS;AACV,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,SAAS,GAAG,OAAOC,KAAP,EAAcC,MAAd,EAAsBC,SAAtB,KAAoC;AACpD;AACA,QAAIC,OAAO,GAAG;AACZC,wBAAkB,EAAE,IADR;AAEZC,aAAO,EAAE,IAFG;AAGZC,gBAAU,EAAE;AAHA,KAAd;;AAMA,UAAMC,OAAO,GAAG,MAAOC,GAAP,IAAe;AAC7BC,aAAO,CAACC,GAAR,CAAY,QAAZ;AACA,UAAIC,GAAG,GAAGH,GAAG,CAACI,MAAd;;AACA,YAAMC,UAAU,GAAG,MAAMC,oFAAmB,CAACH,GAAG,CAACI,QAAL,EAAeJ,GAAG,CAACK,SAAnB,CAA5C;;AACApB,kBAAY,CAACiB,UAAD,CAAZ;AACD,KALD;;AAOA,UAAMI,KAAK,GAAG,MAAOC,GAAP,IAAe;AAC3BT,aAAO,CAACC,GAAR,CAAY,KAAZ;AACAS,WAAK,CAAC,uBAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAEQ,MAAOG,QAAP,IAAoB;AACxB,cAAMV,UAAU,GAAG,MAAMC,oFAAmB,CAC1CS,QAAQ,CAACR,QADiC,EAE1CQ,QAAQ,CAACP,SAFiC,CAA5C;;AAIAP,eAAO,CAACC,GAAR,CAAYa,QAAZ,EAAsBV,UAAtB;AACAjB,oBAAY,CAACiB,UAAD,CAAZ;AACD,OATH;AAUD,KAZD;;AAcAW,aAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCnB,OAAzC,EAAkDU,KAAlD,EAAyDd,OAAzD;AACD,GA9BD;;AAgCA,sBACE;AAAK,aAAS,EAAC;AAAf,kBACE;AAAI,aAAS,EAAC;AAAd,4BADF,EAGGR,SAAS,IACRA,SAAS,CAACgC,GAAV,CAAeJ,QAAD,IAAc;AAC1B,wBACE;AACE,SAAG,EAAEA,QAAQ,CAACK,EADhB;AAEE,eAAS,EAAG;AAFd,oBAIE,2DAAC,qDAAD;AACE,eAAS,EAAC,0CADZ;AAEE,QAAE,EAAG,gBAAeL,QAAQ,CAACM,IAAK;AAFpC,MAJF,eAQE;AAAK,eAAS,EAAC;AAAf,oBACE,2DAAC,qDAAD;AACE,eAAS,EAAG,8CADd;AAEE,SAAG,EAAEN,QAAQ,CAACO,MAAT,CACFC,IADE,CACG,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KADzB,EACgC,CADhC,EAEFC,KAFE,CAEI,CAFJ,EAEOC,GAFP,CAEWC,OAFX,CAEmB,wBAFnB,EAE6C,QAF7C,CAFP;AAKE,SAAG,EAAG,kBAAiBd,QAAQ,CAACe,KAAM;AALxC,MADF,eASE;AAAK,eAAS,EAAC;AAAf,oBACE;AAAI,eAAS,EAAC;AAAd,OAAoCf,QAAQ,CAACe,KAA7C,CADF,EAEGf,QAAQ,CAACgB,mBAAT,CAA6BZ,GAA7B,CAAkCa,QAAD,iBAChC,2DAAC,kEAAD;AAAiB,SAAG,EAAEA,QAAQ,CAACZ,EAA/B;AAAmC,cAAQ,EAAEY;AAA7C,MADD,CAFH,CATF,CARF,CADF;AA2BD,GA5BD,CAJJ,CADF;AAoCD,CA3ED;;AA6Ee9C,8EAAf,E","file":"server.7ab5a8c9fe825d814721.hot-update.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { findNearbyLocations } from \"../FindNearbyLocations.jsx\";\nimport { LocationHashtag } from \"../LocationCards.jsx\";\n// Import Swiper React components\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Link } from \"react-router-dom\";\nimport Img from \"react-cool-img\";\n\nconst LocationsNearby = () => {\n  const [locations, setLocations] = useState();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async (match, search, showError) => {\n    // get users position\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    const success = async (pos) => {\n      console.log(\"succes\");\n      var crd = pos.coords;\n      const _locations = await findNearbyLocations(crd.latitude, crd.longitude);\n      setLocations(_locations);\n    };\n\n    const error = async (err) => {\n      console.log(\"err\");\n      fetch(\"https://ipapi.co/json\")\n        .then((res) => res.json())\n        .then(async (location) => {\n          const _locations = await findNearbyLocations(\n            location.latitude,\n            location.longitude\n          );\n          console.log(location, _locations);\n          setLocations(_locations);\n        });\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n  };\n\n  return (\n    <div className=\"\">\n      <h2 className=\"text-black mb-4\">Locaties in de buurt</h2>\n\n      {locations &&\n        locations.map((location) => {\n          return (\n            <div\n              key={location.id}\n              className={`overflow-hidden relative rounded shadow hover:shadow-lg transition-shadow duration-500 ease-in-out mb-2`}\n            >\n              <Link\n                className=\"absolute w-full h-full top-0 left-0 z-10\"\n                to={`/fotolocatie/${location.slug}`}\n              ></Link>\n              <div className=\"flex items-center\">\n                <Img\n                  className={`block max-w-none w-20 h-20 object-cover mr-4`}\n                  src={location.photos\n                    .sort((a, b) => b.likes - a.likes)[0]\n                    .photo[0].url.replace(/-original|-watermark/gi, \"-small\")}\n                  alt={`Bekijk locatie ${location.title}`}\n                />\n\n                <div className=\"w-full\">\n                  <h3 className=\"text-black text-sm\">{location.title}</h3>\n                  {location.location_categories.map((category) => (\n                    <LocationHashtag key={category.id} category={category} />\n                  ))}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default LocationsNearby;\n"],"sourceRoot":""}