{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/hot/log-apply-result.js","webpack:///(webpack)/hot/log.js","webpack:///(webpack)/hot/poll.js","webpack:///./server/render.jsx","webpack:///./server/template.js","webpack:///./server/uiserver.js","webpack:///./src/AddPhoto.jsx","webpack:///./src/BlogPost.jsx","webpack:///./src/Contents.jsx","webpack:///./src/FBConnect.jsx","webpack:///./src/ForgotPassword.jsx","webpack:///./src/Form.jsx","webpack:///./src/Home.jsx","webpack:///./src/Input.jsx","webpack:///./src/LocationCard.jsx","webpack:///./src/LocationDetailStrapi.jsx","webpack:///./src/LoginHooks.jsx","webpack:///./src/Logout.jsx","webpack:///./src/NotFound.jsx","webpack:///./src/Page.jsx","webpack:///./src/PhotoAddStrapi.jsx","webpack:///./src/PhotoAddToLocation.jsx","webpack:///./src/PhotoCarousel.jsx","webpack:///./src/PhotoDetailStrapi.jsx","webpack:///./src/Profile.jsx","webpack:///./src/ProfileEdit.jsx","webpack:///./src/RegisterHooks.jsx","webpack:///./src/components/CategorySearch/LocationsPerCategorie.jsx","webpack:///./src/components/Comments/Comments.jsx","webpack:///./src/components/Comments/RecursiveComment.jsx","webpack:///./src/components/Comments/ReplyBox.jsx","webpack:///./src/components/ConstructorHook.jsx","webpack:///./src/components/Dashboard/CategorieList.jsx","webpack:///./src/components/Dashboard/Dashboard.jsx","webpack:///./src/components/Dashboard/Heading.jsx","webpack:///./src/components/Dashboard/LocationsNearby.jsx","webpack:///./src/components/Dashboard/MostRecent.jsx","webpack:///./src/components/Dashboard/SearchBox.jsx","webpack:///./src/components/Dashboard/SocialCard.jsx","webpack:///./src/components/FindNearbyLocations.jsx","webpack:///./src/components/Footer.jsx","webpack:///./src/components/LocationCards.jsx","webpack:///./src/components/Results/CategorieFilter.jsx","webpack:///./src/components/Results/ResultMap.jsx","webpack:///./src/components/Results/Results.jsx","webpack:///./src/components/UserProfilePicture.jsx","webpack:///./src/components/favButton.jsx","webpack:///./src/components/followButton.jsx","webpack:///./src/components/notificationCenter/notifications.jsx","webpack:///./src/graphQLFetch.js","webpack:///./src/images/locationMarker.svg","webpack:///./src/images/markerShadow.png","webpack:///./src/images/userMarker.svg","webpack:///./src/images/visitedMarker.svg","webpack:///./src/routes.js","webpack:///./src/services/authService.js","webpack:///./src/services/httpService.js","webpack:///./src/services/userContext.js","webpack:///./src/store.js","webpack:///./webpack.config.js","webpack:///external \"@hapi/joi\"","webpack:///external \"autoprefixer\"","webpack:///external \"axios\"","webpack:///external \"dotenv\"","webpack:///external \"exif-js\"","webpack:///external \"exifr\"","webpack:///external \"express\"","webpack:///external \"http-proxy-middleware\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"jwt-decode\"","webpack:///external \"leaflet\"","webpack:///external \"leaflet/dist/images/marker-shadow.png\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-cool-img\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-icons/ai\"","webpack:///external \"react-icons/cg\"","webpack:///external \"react-icons/fa\"","webpack:///external \"react-icons/fi\"","webpack:///external \"react-icons/go\"","webpack:///external \"react-icons/io5\"","webpack:///external \"react-icons/md\"","webpack:///external \"react-icons/ti\"","webpack:///external \"react-leaflet-universal\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-select\"","webpack:///external \"react-select/animated\"","webpack:///external \"react-select/creatable\"","webpack:///external \"react-toastify\"","webpack:///external \"serialize-javascript\"","webpack:///external \"slugify\"","webpack:///external \"source-map-support\"","webpack:///external \"swiper/react\"","webpack:///external \"tailwindcss\"","webpack:///external \"url-search-params\"","webpack:///external \"webpack\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///external \"webpack-node-externals\""],"names":["module","exports","updatedModules","renewedModules","unacceptedModules","filter","moduleId","indexOf","log","require","length","forEach","parts","split","groupCollapsed","pop","groupEnd","numberIds","every","logLevel","dummy","shouldLog","level","logGroup","logFn","msg","console","warn","error","group","setLogLevel","formatError","err","message","stack","hotPollInterval","__resourceQuery","substr","checkForUpdate","fromUpdate","hot","status","check","then","catch","setInterval","render","req","res","activeRoute","routes","find","route","matchPath","path","initialData","component","fetchData","match","index","url","search","store","context","element","body","ReactDOMServer","renderToString","redirect","send","template","data","serialize","app","express","SourceMapSupport","install","dotenv","config","enableHMR","process","env","ENABLE_HMR","webpack","devMiddleware","hotMiddleware","entry","push","plugins","HotModuleReplacementPlugin","compiler","use","static","apiProxyTarget","API_PROXY_TARGET","proxy","target","UI_API_ENDPOINT","UI_SERVER_API_ENDPOINT","UI_API_IMAGE_ENDPOINT","UI_SERVER_API_IMAGE_ENDPOINT","get","JSON","stringify","next","port","UI_SERVER_PORT","listen","accept","AddPhoto","props","currentStep","date","shutterspeed","iso","aperture","camera","focalLength","title","state","photo","photoLoading","tempFile","showInputClass","onDragOver","invalidFields","blob","fileInput","onFileChange","handleOnDrop","handleOnDragOver","handleOnDragLeave","removeImage","onChange","BlogPost","React","Component","showError","query","params","slug","replace","result","graphQLFetch","constructor","articleBySlug","componentDidUpdate","prevProps","componentDidMount","loadData","setState","Contents","map","attrs","FBConnect","location","axios","response","user","jwt","authService","setToken","window","ForgotPassword","Form","errors","currentTarget","input","errorMessage","validateProperty","name","value","options","abortEarly","allowUnknown","schema","Joi","object","validate","item","details","e","preventDefault","doSubmit","renderButton","label","disable","Object","keys","renderInput","placeholder","type","classes","onBlur","handleChange","Home","HomeScreen","backgroundImage","backgroundSize","backgroundPosition","Input","rest","className","LocationCard","onClick","active","prevState","activeLocation","onClickHandler","photos","LocationDetailStrapi","LocationDetailComponent","id","likedId","action","favArray","favouriteLocations","fav","includes","splice","variables","where","userLikedLocation","locationBySlug","isServer","zoom","userLocationKnown","userMarker","userLocation","longitude","latitude","prevId","curUser","prevCurUser","usersFavourites","favourites","L","Icon","iconUrl","userIcon","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","default","shadowAnchor","iconSize","Point","Default","prototype","_getIconUrl","mergeOptions","locationIcon","enableHighAccuracy","timeout","maximumAge","success","pos","crd","coords","accuracy","code","fetch","json","navigator","geolocation","getCurrentPosition","position","calculatedUserLocation","sort","a","b","likes","height","location_categories","favourite","updateFav","desc","directions","whattoshoot","months","month","photoItem","LocationPhotoItem","itemPhoto","selectedLocation","LocationDetailComponentRouter","withRouter","Login","setData","useState","setErrors","loginError","setLoginError","email","string","tlds","allow","required","messages","password","loginUser","defineProperty","getOwnPropertyDescriptor","loggedIn","auth","login","_schema","handleSubmit","_errors","_data","ErrorBox","Logout","logout","staticContext","NavBar","isOpen","setIsOpen","openNotifications","setOpenNotifications","history","useHistory","closeMenu","notIconClick","toggleOpen","onNotClick","link","receivedNotifications","username","Page","animatedComponents","makeAnimated","PhotoAddStrapi","pathname","fetchLocation","AddPhotoForm","setNewLocation","resetSelectedLocation","newLocation","option","slugify","replacement","remove","undefined","lower","strict","createLocationCategory","locationCategory","oldCategories","locationCategoryValues","newCategory","selectedValues","categoryIds","newValue","ids","createLocation","event","property","checked","stateFields","locationKnown","file","size","hasOwnProperty","files","photoValidation","reader","FileReader","onload","URL","createObjectURL","readAsDataURL","exifrGps","exifr","gps","output","parse","EXIF","getData","exifData","pretty","getTag","splittedDate","year","day","dateVal","shutterVal","numerator","denominator","shutterspeedVal","ISOVal","apertureVal","focalLengthVal","cameraVal","suffix","previousSuffix","checkForAvailableSlug","photoBySlug","n","str","lastIndexOf","previousSlug","createdSuffix","adjustedSlug","reactedSlug","createSlug","locationCategories","monthValues","lat","lng","onDrop","uploadPercentage","bind","createRef","prevUser","updateContext","previousButton","_prev","nextButton","disabled","btnClass","_next","changeMarkers","persist","createdLocation","createdSlug","Date","toString","createPhoto","formData","FormData","uploadedFile","append","request","XMLHttpRequest","open","addEventListener","handleInputChange","findNearbyLocations","onLocationSelect","updateNewLocationCoords","handleSelect","onCategoryCreate","fetchCategories","onNewLocationClick","width","Step2","nearbyLocations","loadingNearbyLocations","marker","refmarker","current","leafletElement","getLatLng","getZoom","displayLocations","draggable","updatePosition","PhotoAddToLocation","MapElement","PhotoView","deletePhoto","toDateString","confirm","PhotoCarousel","photoViews","PhotoDetailStrapi","likedPhotos","_comments","comments","createPhotoComment","photoComment","parent","usersLike","addComment","UserProfile","profile","setProfile","getInitialProfile","_profile","getProfile","useConstructor","useEffect","updateFollow","followId","profileFollowersArray","followers","following","prevProfile","newFollowArray","newList","users","UserProfileComponent","setIsServer","followCount","filterResult","followsUser","numberOfLikes","i","followings","dataEdit","firstname","lastname","regex","newSlug","saving","prevSlug","userId","doRedirect","setTimeout","profilePicture","updateUser","uploadFile","RegisterForm","createUser","onInputBlur","valueObj","available","checkAvailability","charAt","toUpperCase","slice","registered","register","LocationsPerCategorie","locations","setLocations","filteredLocations","setFilteredLocations","setSelectedLocation","showMap","setShowMap","useLocation","getLocations","_activeFilter","getActiveFilter","_filteredLocations","include","categorie","_locations","URLSearchParams","setActiveFilter","selectLocation","locationId","PhotoComment","photoId","unflattenedComments","setUnflattenedComments","unflatten","arr","tree","mappedArr","arrElem","mappedElem","len","unshift","idx","Comment","showReplyBox","setShowReplyBox","replyClick","closeReplyBox","children","ReplyBox","replyTo","closeBoxHandler","commentValue","setCommentValue","post","callBack","hasBeenCalled","useRef","CategorieList","categories","CategorieLabel","Dashboard","setCategories","getCategories","_categories","vars","Heading","greeting","setGreeting","myDate","hrs","getHours","personalHeading","LocationsNearby","MostRecent","recentPhotos","setRecentPhotos","getMostRecent","_recentPhotos","SearchBox","showDropdown","setShowDropdown","formValue","setFormValue","handleDropdown","focussed","urlValue","trim","ok","sessionStorage","getItem","removeItem","lon","toast","alert","searchCurLoc","SocialCard","createdAt","toLocaleString","backgroundColor","category","parseFloat","distance","radius","rad2deg","angle","deg2rad","maxlat","minlat","maxlng","Math","cos","minlng","distanceFromLocation","lat1","lon1","lat2","lon2","theta","dist","sin","acos","miles","cat","locDistance","keyA","keyB","Footer","cardClass","imageClass","imageStyle","transform","left","top","LocationHashtag","toLowerCase","LocationList","goToLocation","setItem","CategorieFilter","onFilterChange","filteredCategories","setFilteredCategories","setValue","_filteredCategories","reduce","newCats","categoryArr","duplicateArr","ResultMap","bounds","setBounds","hoverIcon","setHoverIcon","locIcon","setLocIcon","visitedIcon","setVisIcon","visitedLocations","setVisitedLocations","prevSettings","setPrevSettings","dynamicBounds","setDynamicBounds","loadMap","_hoverIcon","_locIcon","_visIcon","visIcon","_bounds","latLngBounds","onViewportChanged","viewport","center","Results","activeFilter","reset","UserProfilePicture","favButton","addTitle","removeTitle","loading","setLoading","liked","setLiked","onBtnClick","heartClass","followButton","follow","followed","setFollowed","followIcon","followClass","Notifications","notification","Notification","giver","generateText","firstame","goToPage","dateRegex","RegExp","jsonDateReviver","key","test","isBlog","returnError","apiEndpoint","__isBrowser__","method","headers","text","extensions","exception","join","exact","Profile","ProfileEdit","NotFound","tokenKey","localStorage","getCurrentUser","jwtDecode","ex","interceptors","expextedError","put","delete","userContext","createContext","nodeExternals","browserConfig","mode","filename","resolve","__dirname","publicPath","rules","loader","postcssOptions","exclude","presets","targets","ie","edge","safari","firefox","chrome","optimization","splitChunks","chunks","DefinePlugin","devtool","serverConfig","server","externals","node"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA,6BAA6B;QAC7B,6BAA6B;QAC7B;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA,kBAAkB,8BAA8B;QAChD;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,oBAAoB,2BAA2B;QAC/C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,OAAO;QACP;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,mBAAmB,cAAc;QACjC;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,gBAAgB,KAAK;QACrB;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA,gBAAgB,YAAY;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA,cAAc,4BAA4B;QAC1C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;;QAEJ;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,sBAAsB;QACvC;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA,UAAU;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,cAAc,wCAAwC;QACtD;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA,SAAS;QACT;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QAC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AAVF;AAFN;AAFP,KADK,EAmBL;AACEsnB,UAAI,EAAE,yBADR;AAEEnnB,SAAG,EAAE,CACH;AACEqpB,cAAM,EAAE;AADV,OADG;AAFP,KAnBK;AADD,GAVW;AAwCnBxpB,SAAO,EAAE,CACP,IAAIL,OAAO,CAAC0qB,YAAZ,CAAyB;AACvB3C,iBAAa,EAAE;AADQ,GAAzB,CADO,CAxCU;AA6CnB4C,SAAO,EAAE;AA7CU,CAArB;AAgDA9vB,MAAM,CAACC,OAAP,GAAiB,CAACwuB,aAAD,EAAgBsB,YAAhB,CAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;AClIA,sC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,+C;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,mD","file":"server.js","sourcesContent":[" \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar chunk = require(\"./\" + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\");\n \t\thotAddUpdateChunk(chunk.id, chunk.modules);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest() {\n \t\ttry {\n \t\t\tvar update = require(\"./\" + \"\" + hotCurrentHash + \".hot-update.json\");\n \t\t} catch (e) {\n \t\t\treturn Promise.resolve();\n \t\t}\n \t\treturn Promise.resolve(update);\n \t}\n\n \t//eslint-disable-next-line no-unused-vars\n \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"47e3ec9318495a9f42f6\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_selfInvalidated: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n \t\t\tinvalidate: function() {\n \t\t\t\tthis._selfInvalidated = true;\n \t\t\t\tswitch (hotStatus) {\n \t\t\t\t\tcase \"idle\":\n \t\t\t\t\t\thotUpdate = {};\n \t\t\t\t\t\thotUpdate[moduleId] = modules[moduleId];\n \t\t\t\t\t\thotSetStatus(\"ready\");\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"ready\":\n \t\t\t\t\t\thotApplyInvalidatedModule(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"prepare\":\n \t\t\t\t\tcase \"check\":\n \t\t\t\t\tcase \"dispose\":\n \t\t\t\t\tcase \"apply\":\n \t\t\t\t\t\t(hotQueuedInvalidatedModules =\n \t\t\t\t\t\t\thotQueuedInvalidatedModules || []).push(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\t// ignore requests in error states\n \t\t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash, hotQueuedInvalidatedModules;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(hotApplyInvalidatedModules() ? \"ready\" : \"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tvar chunkId = \"server\";\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n \t\treturn hotApplyInternal(options);\n \t}\n\n \tfunction hotApplyInternal(options) {\n \t\thotApplyInvalidatedModules();\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (\n \t\t\t\t\t!module ||\n \t\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n \t\t\t\t)\n \t\t\t\t\tcontinue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted &&\n \t\t\t\t// removed self-accepted modules should not be required\n \t\t\t\tappliedUpdate[moduleId] !== warnUnexpectedRequire &&\n \t\t\t\t// when called invalidate self-accepting is not possible\n \t\t\t\t!installedModules[moduleId].hot._selfInvalidated\n \t\t\t) {\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\tparents: installedModules[moduleId].parents.slice(),\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\tif (hotUpdateNewHash !== undefined) {\n \t\t\thotCurrentHash = hotUpdateNewHash;\n \t\t\thotUpdateNewHash = undefined;\n \t\t}\n \t\thotUpdate = undefined;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = item.parents;\n \t\t\thotCurrentChildModule = moduleId;\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\treturn hotApplyInternal(options).then(function(list) {\n \t\t\t\toutdatedModules.forEach(function(moduleId) {\n \t\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n \t\t\t\t});\n \t\t\t\treturn list;\n \t\t\t});\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \tfunction hotApplyInvalidatedModules() {\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\tif (!hotUpdate) hotUpdate = {};\n \t\t\thotQueuedInvalidatedModules.forEach(hotApplyInvalidatedModule);\n \t\t\thotQueuedInvalidatedModules = undefined;\n \t\t\treturn true;\n \t\t}\n \t}\n\n \tfunction hotApplyInvalidatedModule(moduleId) {\n \t\tif (!Object.prototype.hasOwnProperty.call(hotUpdate, moduleId))\n \t\t\thotUpdate[moduleId] = modules[moduleId];\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(__webpack_require__.s = 0);\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nmodule.exports = function(updatedModules, renewedModules) {\n\tvar unacceptedModules = updatedModules.filter(function(moduleId) {\n\t\treturn renewedModules && renewedModules.indexOf(moduleId) < 0;\n\t});\n\tvar log = require(\"./log\");\n\n\tif (unacceptedModules.length > 0) {\n\t\tlog(\n\t\t\t\"warning\",\n\t\t\t\"[HMR] The following modules couldn't be hot updated: (They would need a full reload!)\"\n\t\t);\n\t\tunacceptedModules.forEach(function(moduleId) {\n\t\t\tlog(\"warning\", \"[HMR]  - \" + moduleId);\n\t\t});\n\t}\n\n\tif (!renewedModules || renewedModules.length === 0) {\n\t\tlog(\"info\", \"[HMR] Nothing hot updated.\");\n\t} else {\n\t\tlog(\"info\", \"[HMR] Updated modules:\");\n\t\trenewedModules.forEach(function(moduleId) {\n\t\t\tif (typeof moduleId === \"string\" && moduleId.indexOf(\"!\") !== -1) {\n\t\t\t\tvar parts = moduleId.split(\"!\");\n\t\t\t\tlog.groupCollapsed(\"info\", \"[HMR]  - \" + parts.pop());\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\n\t\t\t\tlog.groupEnd(\"info\");\n\t\t\t} else {\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\n\t\t\t}\n\t\t});\n\t\tvar numberIds = renewedModules.every(function(moduleId) {\n\t\t\treturn typeof moduleId === \"number\";\n\t\t});\n\t\tif (numberIds)\n\t\t\tlog(\n\t\t\t\t\"info\",\n\t\t\t\t\"[HMR] Consider using the NamedModulesPlugin for module names.\"\n\t\t\t);\n\t}\n};\n","var logLevel = \"info\";\n\nfunction dummy() {}\n\nfunction shouldLog(level) {\n\tvar shouldLog =\n\t\t(logLevel === \"info\" && level === \"info\") ||\n\t\t([\"info\", \"warning\"].indexOf(logLevel) >= 0 && level === \"warning\") ||\n\t\t([\"info\", \"warning\", \"error\"].indexOf(logLevel) >= 0 && level === \"error\");\n\treturn shouldLog;\n}\n\nfunction logGroup(logFn) {\n\treturn function(level, msg) {\n\t\tif (shouldLog(level)) {\n\t\t\tlogFn(msg);\n\t\t}\n\t};\n}\n\nmodule.exports = function(level, msg) {\n\tif (shouldLog(level)) {\n\t\tif (level === \"info\") {\n\t\t\tconsole.log(msg);\n\t\t} else if (level === \"warning\") {\n\t\t\tconsole.warn(msg);\n\t\t} else if (level === \"error\") {\n\t\t\tconsole.error(msg);\n\t\t}\n\t}\n};\n\n/* eslint-disable node/no-unsupported-features/node-builtins */\nvar group = console.group || dummy;\nvar groupCollapsed = console.groupCollapsed || dummy;\nvar groupEnd = console.groupEnd || dummy;\n/* eslint-enable node/no-unsupported-features/node-builtins */\n\nmodule.exports.group = logGroup(group);\n\nmodule.exports.groupCollapsed = logGroup(groupCollapsed);\n\nmodule.exports.groupEnd = logGroup(groupEnd);\n\nmodule.exports.setLogLevel = function(level) {\n\tlogLevel = level;\n};\n\nmodule.exports.formatError = function(err) {\n\tvar message = err.message;\n\tvar stack = err.stack;\n\tif (!stack) {\n\t\treturn message;\n\t} else if (stack.indexOf(message) < 0) {\n\t\treturn message + \"\\n\" + stack;\n\t} else {\n\t\treturn stack;\n\t}\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n/*globals __resourceQuery */\nif (module.hot) {\n\tvar hotPollInterval = +__resourceQuery.substr(1) || 10 * 60 * 1000;\n\tvar log = require(\"./log\");\n\n\tvar checkForUpdate = function checkForUpdate(fromUpdate) {\n\t\tif (module.hot.status() === \"idle\") {\n\t\t\tmodule.hot\n\t\t\t\t.check(true)\n\t\t\t\t.then(function(updatedModules) {\n\t\t\t\t\tif (!updatedModules) {\n\t\t\t\t\t\tif (fromUpdate) log(\"info\", \"[HMR] Update applied.\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\trequire(\"./log-apply-result\")(updatedModules, updatedModules);\n\t\t\t\t\tcheckForUpdate(true);\n\t\t\t\t})\n\t\t\t\t.catch(function(err) {\n\t\t\t\t\tvar status = module.hot.status();\n\t\t\t\t\tif ([\"abort\", \"fail\"].indexOf(status) >= 0) {\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] Cannot apply update.\");\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] \" + log.formatError(err));\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] You need to restart the application!\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] Update failed: \" + log.formatError(err));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\tsetInterval(checkForUpdate, hotPollInterval);\n} else {\n\tthrow new Error(\"[HMR] Hot Module Replacement is disabled.\");\n}\n","import React from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { StaticRouter, matchPath } from \"react-router-dom\";\n\nimport Page from \"../src/Page.jsx\";\nimport template from \"./template.js\";\nimport store from \"../src/store.js\";\nimport routes from \"../src/routes.js\";\n\nasync function render(req, res) {\n  // to find the component that is being rendered (activeRoute)\n  // we use matchPatch from RRD to return the correct route\n  // which matches our current url (req.path)\n  const activeRoute = routes.find((route) => matchPath(req.path, route));\n  //   console.log(routes);\n  //   console.log(req.path);\n  //   console.log(activeRoute);\n  //   console.log(activeRoute.component.fetchData);\n\n  let initialData;\n  if (activeRoute && activeRoute.component.fetchData) {\n    // get the this.props.match to find the /edit/2 id from url, and send with fetchData function\n    const match = matchPath(req.path, activeRoute);\n    console.log(match);\n\n    // get the index search query of the url\n    const index = req.url.indexOf(\"?\");\n\n    // index -1 is given when there is no ? sign\n    const search = index !== -1 ? req.url.substr(index) : null;\n\n    console.log(\"line numer 27: \", activeRoute, \"fetching data\", search);\n\n    initialData = await activeRoute.component.fetchData(match, search);\n\n    //console.log(initialData);\n  }\n  store.initialData = initialData;\n\n  const context = {};\n  const element = (\n    <StaticRouter location={req.url} context={context}>\n      <Page />\n    </StaticRouter>\n  );\n  const body = ReactDOMServer.renderToString(element);\n\n  if (context.status === 404) {\n    res.status(404);\n  }\n  if (context.url) {\n    return res.redirect(301, context.url);\n  } else {\n    res.send(template(body, initialData));\n  }\n}\n\nexport default render;\n","import serialize from 'serialize-javascript';\n\nexport default function template(body, data) {\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n    <title>template joe Pro MERN Stack</title>\n    <style>\n        table.table-hover tr {\n            cursor: pointer;\n        }\n\n        a.active {\n            background-color: #D8D8F5;\n        }\n\n        input.invalid {\n            border-color: red;\n        }\n\n        div.error {\n            color: red;\n        }\n    </style>\n</head>\n\n\n<body>\n  <!-- Page generated from template. -->\n  <div id=\"contents\">${body}</div>\n  <script>window.__INITIAL_DATA__ = ${serialize(data)}</script>\n  <script src=\"/env.js\"></script>\n  <script src=\"/vendor.bundle.js\"></script>\n  <script src=\"/app.bundle.js\"></script>\n</body>\n</html>\n`;\n}","import dotenv from 'dotenv';\nimport express from 'express';\nimport proxy from 'http-proxy-middleware';\nimport SourceMapSupport from 'source-map-support';\n\nimport render from './render.jsx';\n\nconst app = express();\n\nSourceMapSupport.install();\ndotenv.config();\nconst enableHMR = (process.env.ENABLE_HMR || 'true') === 'true';\nif (enableHMR && (process.env.NODE_ENV !== 'production')) {\n  console.log('Adding dev middleware, enabling HMR');\n  /* eslint \"global-require\":\"off\"*/\n  /* eslint \"import/no-extraneous-dependencies\":\"off\"*/\n  const webpack = require('webpack');\n  const devMiddleware = require('webpack-dev-middleware');\n  const hotMiddleware = require('webpack-hot-middleware');\n\n  const config = require('../webpack.config.js')[0];\n  config.entry.app.push('webpack-hot-middleware/client');\n  config.plugins = config.plugins || [];\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\n  const compiler = webpack(config);\n  app.use(devMiddleware(compiler));\n  app.use(hotMiddleware(compiler));\n}\n\napp.use(express.static('public'));\n\nconst apiProxyTarget = process.env.API_PROXY_TARGET;\n\nif (apiProxyTarget) {\n  app.use('/graphql', proxy({ target: apiProxyTarget }));\n}\n\nif (!process.env.UI_API_ENDPOINT) {\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\n}\n\nif (!process.env.UI_SERVER_API_ENDPOINT) {\n  process.env.UI_SERVER_API_ENDPOINT = process.env.UI_API_ENDPOINT;\n}\n\nif (!process.env.UI_API_IMAGE_ENDPOINT) {\n  process.env.UI_API_IMAGE_ENDPOINT = 'http://localhost:3000/api/images/upload';\n}\n\nif (!process.env.UI_SERVER_API_IMAGE_ENDPOINT) {\n  process.env.UI_SERVER_API_IMAGE_ENDPOINT = process.env.UI_API_IMAGE_ENDPOINT;\n}\n\napp.get('/env.js', (req, res) => {\n  const env = { UI_API_ENDPOINT: process.env.UI_API_ENDPOINT, UI_API_IMAGE_ENDPOINT: process.env.UI_SERVER_API_IMAGE_ENDPOINT };\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\n});\n\napp.get('*', (req, res, next) => {\n  render(req, res, next);\n});\n\nconst port = process.env.UI_SERVER_PORT || 8000;\n\napp.listen(port, () => {\n  console.log(`UI started on port ${port}`);\n});\n\nif (module.hot) {\n  module.hot.accept('./render.jsx');\n}","import React from \"react\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { FiTrash2 } from \"react-icons/fi\";\nimport { userContext } from \"./services/userContext.js\";\n\nfunction AddPhoto(props) {\n\tif (props.currentStep && props.currentStep !== 1) {\n\t\treturn null;\n\t}\n\n\tconst {\n\t\tdate,\n\t\tshutterspeed,\n\t\tiso,\n\t\taperture,\n\t\tcamera,\n\t\tfocalLength,\n\t\ttitle,\n\t} = props.state.photo;\n\tconst { photoLoading, tempFile } = props.state;\n\n\tlet showInputClass =\n\t\t\"relative border-2 border-dashed rounded mb-2 p-4 text-center cursor-pointer hover:border-green-500\";\n\tshowInputClass += !tempFile && !photoLoading ? \" block\" : \" hidden\";\n\tshowInputClass +=\n\t\tprops.state.onDragOver && !props.state.invalidFields.blob\n\t\t\t? \" border-green-400\"\n\t\t\t: \" border-gray-400\";\n\tif (props.state.invalidFields.blob) showInputClass += \" border-red-400\";\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div id=\"fileInput\" className={showInputClass}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tname=\"blob\"\n\t\t\t\t\tref={props.fileInput}\n\t\t\t\t\tonChange={props.onFileChange}\n\t\t\t\t\tonDrop={props.handleOnDrop}\n\t\t\t\t\tonDragOver={props.handleOnDragOver}\n\t\t\t\t\tonDragLeave={props.handleOnDragLeave}\n\t\t\t\t\tclassName=\"absolute m-0 p-0 w-full h-full outline-none pointer opacity-0 top-0 left-0\"\n\t\t\t\t/>\n\t\t\t\t<p className=\"text-xl text-black font-semibold\">\n\t\t\t\t\tDrag en drop een afbeelding\n\t\t\t\t</p>\n\t\t\t\t<p className=\"text-base\">\n\t\t\t\t\t{\" \"}\n\t\t\t\t\tof <a href=\"#\">selecteer</a> een bestand{\" \"}\n\t\t\t\t\t<span className=\"text-sm block text-gray-300\">\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t(Hoge resolutie aangeraden, maximaal 27MB)\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"text-red-500\">{props.state.invalidFields.blob}</div>\n\t\t\t{photoLoading && (\n\t\t\t\t<AiOutlineLoading3Quarters className=\"fill-current text-green-500\" />\n\t\t\t)}\n\t\t\t{tempFile && (\n\t\t\t\t<div\n\t\t\t\t\tid=\"imagePreview\"\n\t\t\t\t\tclassName=\"relative relative bg-gray-300 p-4 mb-2\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={props.removeImage}\n\t\t\t\t\t\tclassName=\"border border-gray-600 rounded p-4 m-4 absolute top-0 right-0 cursor-pointer bg-black opacity-50 hover:opacity-100\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FiTrash2 className=\"stroke-current text-gray-100\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={tempFile}\n\t\t\t\t\t\tid=\"output_image\"\n\t\t\t\t\t\tclassName=\"max-w-full rounded mb-2\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"title\"\n\t\t\t\tplaceholder=\"Titel\"\n\t\t\t\tvalue={title || \"\"}\n\t\t\t\tonChange={props.onChange}\n\t\t\t/>\n\n\t\t\t<div className=\"text-red-500\">{props.state.invalidFields.title}</div>\n\t\t\t<input\n\t\t\t\ttype=\"date\"\n\t\t\t\tname=\"date\"\n\t\t\t\tplaceholder=\"Datum\"\n\t\t\t\tvalue={date || \"\"}\n\t\t\t\tonChange={props.onChange}\n\t\t\t/>\n\n\t\t\t<div className=\"flex\">\n\t\t\t\t<div className=\"flex flex-wrap items-stretch w-full relative mb-2 mr-2\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"shutterspeed\"\n\t\t\t\t\t\tplaceholder=\"Sluitertijd\"\n\t\t\t\t\t\tvalue={shutterspeed || \"\"}\n\t\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t\t\tclassName=\"special mb-0 flex-shrink flex-grow flex-auto  w-px flex-1 border h-10 border-gray-400 rounded rounded-r-none py-2 px-3 relative text-sm\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex -mr-px\">\n\t\t\t\t\t\t<span className=\"mb-2 flex items-center  bg-grey-lighter rounded rounded-l-none border border-l-0 border-gray-400 py-2 px-3 whitespace-no-wrap text-grey-dark text-sm\">\n\t\t\t\t\t\t\ts\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex flex-wrap items-stretch w-full relative mb-2 mr-2\">\n\t\t\t\t\t<div className=\"flex -mr-px\">\n\t\t\t\t\t\t<span className=\"mb-2 flex items-center  bg-grey-lighter rounded rounded-r-none border border-r-0 border-gray-400 py-2 px-3 whitespace-no-wrap text-grey-dark text-sm\">\n\t\t\t\t\t\t\tiso\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"iso\"\n\t\t\t\t\t\tplaceholder=\"iso\"\n\t\t\t\t\t\tvalue={iso || \"\"}\n\t\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t\t\tclassName=\"special mb-0 flex-shrink flex-grow flex-auto  w-px flex-1 border h-10 border-gray-400 rounded rounded-l-none py-2 px-3 relative text-sm\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex flex-wrap items-stretch w-full relative mb-2\">\n\t\t\t\t\t<div className=\"flex -mr-px\">\n\t\t\t\t\t\t<span className=\"mb-2 flex items-center  bg-grey-lighter rounded rounded-r-none border border-r-0 border-gray-400 py-2 px-3 whitespace-no-wrap text-grey-dark text-sm\">\n\t\t\t\t\t\t\tf/\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"aperture\"\n\t\t\t\t\t\tplaceholder=\"Diafragma\"\n\t\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t\t\tvalue={aperture || \"\"}\n\t\t\t\t\t\tclassName=\"special mb-0 flex-shrink flex-grow flex-auto  w-px flex-1 border h-10 border-gray-400 rounded rounded-l-none py-2 px-3 relative text-sm\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"camera\"\n\t\t\t\tplaceholder=\"camera\"\n\t\t\t\tonChange={props.onChange}\n\t\t\t\tvalue={camera || \"\"}\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"focalLength\"\n\t\t\t\tvalue={focalLength || \"\"}\n\t\t\t\tonChange={props.onChange}\n\t\t\t\tplaceholder=\"focalLength\"\n\t\t\t/>\n\t\t\t<textarea\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"desc\"\n\t\t\t\tonChange={props.onChange}\n\t\t\t\tplaceholder=\"Beschrijving\"\n\t\t\t/>\n\t\t</React.Fragment>\n\t);\n}\nexport default AddPhoto;\n","import React from \"react\";\nimport graphQLFetch from './graphQLFetch.js';\nimport store from \"./store.js\";\nimport { Redirect } from \"react-router-dom\";\n\nexport default class BlogPost extends React.Component {\n\n    static async fetchData(match, search, showError) {\n        // build the graphql query\n        const query = `query articleBySlug($slug: String!){\n            articleBySlug(slug: $slug) {\n                id\n                title\n                body\n                slug\n            }\n        }`;\n\n        let { params: { [0]: slug } } = match;\n        slug = slug.replace(/\\//g, \"\");\n        const result = await graphQLFetch(query, { slug }, true);\n        return result;\n    }\n\n    constructor() {\n        super();\n        const articleBySlug = store.initialData != null ? store.initialData.articleBySlug : null;\n        delete store.initialData;\n        this.state = {\n            articleBySlug,\n            slug: null\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        // const { match: { params: { id: prevId } } } = prevProps;\n        // const { match: { params: { id } } } = this.props;\n        // if (prevId !== id) {\n        //     this.loadData();\n        // }\n    }\n\n    componentDidMount() {\n        const { articleBySlug } = this.state;\n        if (articleBySlug === null) {\n            this.loadData();\n        }\n    }\n\n    async loadData() {\n        // get the search query string form url\n        const { match } = this.props;\n        // provide the query with the variables \n        const data = await BlogPost.fetchData(match);\n        if (data) {\n            this.setState({ articleBySlug: data.articleBySlug });\n        }\n    }\n\n    render() {\n        const { articleBySlug } = this.state;\n        if (articleBySlug === null) {\n            console.log('slug is nullllll');\n            return <Redirect to='/niet-gevonden' />;\n        };\n\n        return (\n            <div id=\"page\" className=\"p-6\">\n                <h1>{articleBySlug.title}</h1>\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport routes from \"./routes\";\n\nexport default function Contents() {\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((attrs) => (\n\t\t\t\t<Route {...attrs} key={attrs.path} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n/* to support IE */\nimport URLSearchParams from \"url-search-params\";\nimport authService from \"./services/authService\";\n\nclass FBConnect extends Component {\n\tcomponentDidMount() {\n\t\tconst { location } = this.props;\n\n\t\t// try {\n\t\t//   console.log(action, action.search);\n\t\t//   const requestURL = `http://localhost:1337/auth/${action.provider}/callback${action.search}`;\n\t\t//   const response = yield call(request, requestURL, { method: \"GET\" });\n\n\t\t//   if (response.jwt) {\n\t\t// \t// Set the user's credentials\n\t\t// \tyield all([\n\t\t// \t  call(auth.setToken, response.jwt, true),\n\t\t// \t  call(auth.setUserInfo, response.user, true),\n\t\t// \t]);\n\t\t// \tyield call(forwardTo, \"/\");\n\t\t//   }\n\t\t// } catch (error) {\n\t\t//   yield call(forwardTo, \"/auth/login\");\n\t\t// }\n\n\t\t// const search = this.props.location.search; // could be '?foo=bar'\n\t\t// const params = new URLSearchParams(search);\n\t\t// const accessToken = params.get(\"access_token\"); // bar\n\t\t// console.log(accessToken);\n\n\t\t// console.log(\n\t\t// \t`http://localhost:1337/auth/facebook/callback${location.search}`\n\t\t// );\n\n\t\taxios\n\t\t\t.get(`http://localhost:1337/auth/facebook/callback${location.search}`)\n\t\t\t.then((response) => {\n\t\t\t\t// Handle success.\n\t\t\t\tconsole.log(response);\n\t\t\t\tconsole.log(\"Well done!\");\n\t\t\t\tconsole.log(\"User profile\", response.data.user);\n\t\t\t\tconsole.log(\"User token\", response.data.jwt);\n\t\t\t\tauthService.setToken(response.data.jwt);\n\t\t\t\twindow.location = \"/\";\n\t\t\t});\n\t}\n\trender() {\n\t\treturn <div>Redirecting you... (nog stylen in FBConnect)</div>;\n\t}\n}\n\nexport default FBConnect;\n","import React, { Component } from \"react\";\n\nclass ForgotPassword extends Component {\n\tstate = {};\n\trender() {\n\t\treturn <div>Wachtwoord vergeten</div>;\n\t}\n}\n\nexport default ForgotPassword;\n","import React, { Component } from \"react\";\nimport Joi from \"@hapi/joi\";\nimport Input from \"./Input.jsx\";\nimport { FaSpinner } from \"react-icons/fa\";\n\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {},\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data, errors });\n  };\n\n  validate = () => {\n    const options = { abortEarly: false, allowUnknown: true };\n    const schema = Joi.object({ ...this.schema });\n    const { error } = schema.validate(this.state.data, options);\n    console.log(error);\n    if (!error) return null;\n\n    const errors = {};\n    for (let item of error.details) {\n      errors[item.path[0]] = item.message;\n    }\n    return errors;\n  };\n\n  validateProperty = ({ name, value }) => {\n    const object = { [name]: value };\n    const schema = Joi.object({ [name]: this.schema[name] });\n    const result = schema.validate(object);\n    console.log(result);\n    const error = result.error;\n    console.log(\"returning\", error);\n    return error ? error.details[0].message : null;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n\n    this.doSubmit();\n  };\n\n  renderButton(label, disable = false) {\n    return (\n      <button\n        className={\n          \"w-full mb-2 mt-2 text-white flex items-center justify-center font-bold py-2 px-4 rounded\" +\n          (this.validate() ||\n          Object.keys(this.state.errors).length !== 0 ||\n          disable\n            ? \" bg-gray-500 hover:bg-gray-600\"\n            : \" bg-blue-500 hover:bg-blue-600\")\n        }\n        type=\"submit\"\n        disabled={\n          this.validate() ||\n          Object.keys(this.state.errors).length !== 0 ||\n          disable\n        }\n      >\n        {disable ? <FaSpinner className=\"animate-spin\" /> : label}\n      </button>\n    );\n  }\n\n  renderInput(\n    name,\n    label,\n    placeholder,\n    type = \"text\",\n    classes = \"w-full\",\n    onBlur = () => {}\n  ) {\n    const { data, errors } = this.state;\n    return (\n      <Input\n        classes={classes}\n        name={name}\n        label={label}\n        value={data[name] || \"\"}\n        onChange={this.handleChange}\n        placeholder={placeholder}\n        error={errors[name]}\n        type={type}\n        onBlur={onBlur}\n      />\n    );\n  }\n}\n\nexport default Form;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { FaRegHeart, FaRegComment } from \"react-icons/fa\";\nimport { userContext } from \"./services/userContext.js\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport Footer from \"./components/Footer.jsx\";\n\nconst Home = (props) => {\n  return (\n    <userContext.Consumer>\n      {(value) => {\n        console.log(value);\n        return value.user ? <Redirect to=\"/dashboard\" /> : <HomeScreen />;\n      }}\n    </userContext.Consumer>\n  );\n};\n\nexport default Home;\n\nconst HomeScreen = () => {\n  return (\n    <>\n      <section className=\"py-12 sm:py-24 bg-gray-900\">\n        <div className=\"container mx-auto block sm:flex px-6 items-center\">\n          <div className=\"mr-16 w-full mb-4 sm:mb-8\">\n            <h1 className=\"text-white text-3xl md:text-4xl lg:text-5xl mb-4 sm:mb-8 leading-tight\">\n              De beste fotografie locaties vind je bij SpotShare.\n            </h1>\n            <Link\n              to=\"/inloggen\"\n              className=\"text-white rounded-full border-2 inline-block border-blue-500 transition duration-100 hover:border-blue-700 mr-4 px-4 py-3 sm:px-6 sm:py-4\"\n            >\n              Inloggen\n            </Link>\n            <Link\n              to=\"/aanmelden\"\n              className=\"text-white rounded-full bg-blue-500 hover:bg-blue-700 transition duration-100 px-4 py-3 sm:px-6 sm:py-4 inline-block\"\n            >\n              Aanmelden\n            </Link>\n          </div>\n          <div className=\"w-full\">\n            <div\n              className=\"rounded w-full h-64\"\n              style={{\n                backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3)), url(https://picsum.photos/1500/1500)`,\n                backgroundSize: `cover`,\n                backgroundPosition: `center center`,\n              }}\n            ></div>\n            <div className=\"rounded-full shadow-lg px-1 py-1 sm:px-2 sm:py-2  -mt-6 ml-1 sm:ml-2 lg:ml-6 bg-white text-black inline-block justify-center\">\n              <div className=\"flex justify-center items-center\">\n                <img\n                  className=\"rounded-full w-8 h-8  mr-2  bottom-0 right-0 shadow-lg\"\n                  src=\"https://www.spotshare.nl/site/assets/files/6420/3-11-2019_19-28-29.140x140-pim2-thumbdbfotografie140.png\"\n                />\n                <span className=\"text-black mr-2 text-xs\">\n                  📸 Pier scheveningen door Dennis Borman\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section className=\"py-12\">\n        <div className=\"flex flex-col sm:flex-row items-center \">\n          <div className=\"flex w-full justify-center items-center order-last sm:order-last sm:mr-6\">\n            <div className=\"flex flex-col w-full pr-4\">\n              <div className=\"flex mb-4 relative\">\n                <img\n                  className=\" rounded\"\n                  src=\"https://picsum.photos/200/301\"\n                  alt=\"\"\n                />\n                <img\n                  className=\"rounded-full w-8 h-8 -mb-1 -mr-1 absolute bottom-0 right-0 shadow-lg\"\n                  src=\"https://picsum.photos/100/100\"\n                  alt=\"\"\n                />\n              </div>\n              <img\n                className=\" w-full h-full rounded\"\n                src=\"https://picsum.photos/200/302\"\n                alt=\"\"\n              />\n            </div>\n            <div className=\"flex flex-col w-full pt-8 pr-4\">\n              <img\n                className=\"mb-4 rounded\"\n                src=\"https://picsum.photos/200/200\"\n                alt=\"\"\n              />\n              <img\n                className=\" w-full h-full rounded\"\n                src=\"https://picsum.photos/200/304\"\n                alt=\"\"\n              />\n            </div>\n            <div className=\"flex flex-col w-full pt-8\">\n              <img\n                className=\"mb-4 rounded\"\n                src=\"https://picsum.photos/200/305\"\n                alt=\"\"\n              />\n            </div>\n          </div>\n          <div className=\"px-6 lg:px-32 ml-auto mb-6 sm:mb-0 order-first sm:order-last\">\n            <h2 className=\"text-4xl leading-tight tracking-tight mb-2\">\n              Vind locaties in de buurt, of juist aan de andere kant van de\n              wereld.\n            </h2>\n            <p className=\"mb-4\">\n              Vind gemakkelijk fotografie locaties dichtbij, of verken locaties\n              die je op de planinng hebt staan.\n            </p>\n            <Link\n              to=\"/aanmelden\"\n              className=\"text-white rounded-full bg-blue-500 hover:bg-blue-700 transition duration-100 px-4 py-3 sm:px-6 sm:py-4 inline-block\"\n            >\n              Locaties zoeken\n            </Link>\n          </div>\n        </div>\n      </section>\n\n      <section id=\"instagram\" className=\"py-8 container px-6\">\n        <div className=\"block sm:flex items-center\">\n          <div className=\"px-6 lg:px-32 mb-6 sm:mb-0 w-full\">\n            <h2 className=\"text-4xl leading-tight tracking-tight mb-2\">\n              Fotografie locatie inspiratie op Instagram\n            </h2>\n            <p className=\"mb-4\">\n              Volg ons op instagram, en maak kans op een feature!\n            </p>\n            <a\n              target=\"_blank\"\n              rel=\"noopener\"\n              href=\"https://www.instagram.com/spotsharenl/\"\n              className=\"text-white rounded-full bg-blue-500 hover:bg-blue-700 transition duration-100 px-4 py-3 sm:px-6 sm:py-4 inline-block\"\n            >\n              Naar instagram\n            </a>\n          </div>\n          <div className=\"w-full relative\">\n            <div className=\"rounded bg-white border shadow-lg\">\n              <div className=\"flex items-center p-3\">\n                <img\n                  className=\"rounded-full w-10 h-10 mr-4 border shadow-md\"\n                  src=\"https://scontent-ams4-1.cdninstagram.com/v/t51.2885-19/s320x320/22580636_1511695878889802_2909037587882573824_n.jpg?_nc_ht=scontent-ams4-1.cdninstagram.com&_nc_ohc=xkYTOC_bopsAX8PoHPa&oh=16714162d6978c1da26d94d8842446bb&oe=5F939D50\"\n                  alt=\"Volg spotshare op instagram\"\n                />\n                <span className=\"inline-block font-bold text-black text-sm\">\n                  Spotshare\n                </span>\n              </div>\n              <img src=\"https://scontent-amt2-1.cdninstagram.com/v/t51.2885-15/e35/s1080x1080/119949137_3727750567270969_4366629272378408564_n.jpg?_nc_ht=scontent-amt2-1.cdninstagram.com&_nc_cat=101&_nc_ohc=XrBVY27DdGYAX-NHp9v&_nc_tp=15&oh=fc3a660b6b14ab25db21a661edfd3709&oe=5F9312B0\" />\n              <div className=\"items-center p-3\">\n                <p className=\"inline-block text-black text-sm\">\n                  Goedemorgen! Zonsopkomst bij Roelshoek prachtig vastgelegd\n                  door @fotogra.qui 😍👌🏻📸 Ook een feature op SpotShare? Voeg\n                  jouw fotolocatie toe op onze website! #spotsharenl\n                </p>\n                <div className=\"flex items-center mt-3\">\n                  <div className=\"flex items-center justify-center mr-2\">\n                    <FaRegHeart className=\"mr-1\" />\n                    150\n                  </div>\n                  <div className=\"flex items-center justify-center\">\n                    <FaRegComment className=\"mr-1\" />\n                    20\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"top-0 right-0 -mt-6 sm:-mr-12 absolute rounded bg-white px-4 text-center shadow-2xl py-6\">\n              <img\n                className=\"rounded-full w-20 h-20 sm:w-32 sm:h-32 border m-1 mb-3\"\n                src=\"https://scontent-ams4-1.cdninstagram.com/v/t51.2885-19/s320x320/22580636_1511695878889802_2909037587882573824_n.jpg?_nc_ht=scontent-ams4-1.cdninstagram.com&_nc_ohc=xkYTOC_bopsAX8PoHPa&oh=16714162d6978c1da26d94d8842446bb&oe=5F939D50\"\n                alt=\"Volg spotshare op instagram\"\n              />\n              <h3 className=\"text-black text-sm\">Spotshare</h3>\n              <span className=\"block text-gray-500 text-xs\">@spotsharenl</span>\n              <a\n                target=\"_blank\"\n                rel=\"noopener\"\n                href=\"https://www.instagram.com/spotsharenl/\"\n                className=\"mt-4 text-white rounded-full bg-blue-500 hover:bg-blue-700 text-xs transition duration-100 px-3 py-2 inline-block\"\n              >\n                Volgen\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n      <div className=\"bg-gray-100\">\n        <div className=\"max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between\">\n          <h2 className=\"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10\">\n            Klaar om je vetste locaties te delen?\n            <br />\n            <span className=\"text-blue-600\">Meld je vandaag nog aan.</span>\n          </h2>\n          <div className=\"mt-8 flex lg:flex-shrink-0 lg:mt-0\">\n            <div className=\"inline-flex rounded-md shadow\">\n              <a\n                href=\"#\"\n                className=\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out\"\n              >\n                Aanmelden\n              </a>\n            </div>\n            <div className=\"ml-3 inline-flex rounded-md shadow\">\n              <a\n                href=\"#\"\n                className=\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-blue-600 bg-white hover:text-blue-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out\"\n              >\n                Inloggen\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from \"react\";\n\nconst Input = ({ classes, name, label, error, ...rest }) => {\n  const className = \"mb-2 \" + classes;\n  return (\n    <div className={className}>\n      <label\n        className=\"block text-grey-darker text-sm font-bold mb-2\"\n        htmlFor={name}\n      >\n        {label}\n      </label>\n      <input\n        className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700\"\n        id={name}\n        name={name}\n        {...rest}\n      />\n      {error && <div className=\"text-red-500\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React, { Component } from 'react';\nimport { FaCheck } from \"react-icons/fa\";\n\n\nclass LocationCard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            active: false\n        };\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.activeLocation !== this.props.activeLocation) {\n            const active = this.props.location === this.props.activeLocation ? true : false;\n            this.setState({ active });\n        }\n    }\n\n    onClickHandler = () => {\n        this.props.onClick(this.props.location);\n    }\n\n    render() {\n        const { active } = this.state;\n        let className = \"locationCard relative shadow-xs border-4 overflow-hidden hover:border-green-500\";\n        className += active ? ' border-green-500' : '';\n        return (\n            <React.Fragment>\n                <div className=\"w-full inline-block md:w-1/2 lg:w-1/3 m-2 rounded relative\" onClick={this.onClickHandler}>\n                    {active && <div className=\"absolute top-0 right-0 transform z-10 p-1 translate-x-1/2 -translate-y-1/2 rounded-full bg-green-500 text-white\"><FaCheck /></div>}\n                    <div className={className}>\n                        <div className=\"relative overflow-hidden\">\n                            <img\n                                src={this.props.location.photos[0].photo[0].url}\n                                className=\"object-cover  w-full h-48  block\"\n                                alt=\"Foto\"\n                            />\n\n                            <div className=\"photoContent p-4 absolute bottom-0 left-0\">\n                                <div className=\"photoInfo\">\n                                    <h3 className=\"text-white\">{this.props.location.title}</h3>\n                                    {/* <p className=\"text-white\">{photo.category}</p> */}\n                                </div>\n                                <div className=\"clear\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default LocationCard;","/* globals React */\n/* eslint \"react/jsx-no-undef\":\"off\" */\n\nimport React, { Component, Fragment } from \"react\";\nimport graphQLFetch from \"./graphQLFetch.js\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet-universal\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport store from \"./store.js\";\nimport { Redirect } from \"react-router-dom\";\nimport userIcon from \"./images/userMarker.svg\";\nimport locationIcon from \"./images/locationMarker.svg\";\nimport { NavLink } from \"react-router-dom\";\nimport { FaPlus } from \"react-icons/fa\";\nimport FavButton from \"./components/favButton.jsx\";\nimport { userContext } from \"./services/userContext.js\";\nimport { PhotoView } from \"./PhotoCarousel.jsx\";\n\nconst LocationDetailStrapi = () => {\n  return (\n    <userContext.Consumer>\n      {(value) => {\n        if (value.user) {\n          return <LocationDetailComponentRouter curUser={value.user} />;\n        } else {\n          return <LocationDetailComponentRouter curUser={null} />;\n        }\n      }}\n    </userContext.Consumer>\n  );\n};\nexport default LocationDetailStrapi;\n\nclass LocationDetailComponent extends React.Component {\n  static async fetchData(match, search, showError) {\n    // build the graphql query\n    const query = `query locationBySlug($slug: String!){\n      locationBySlug(slug: $slug) {\n          title\n          photos {\n              likes\n              id\n              location {\n                longitude\n                latitude\n                id\n                title\n                slug\n              }\n              title\n              slug\n              user {\n                \n                id\n                firstname\n                lastname\n              }\n              photo {\n                  id\n                  name\n                  url\n              }\n          }\n          desc\n          slug\n          id\n          longitude\n          latitude\n          directions\n          whattoshoot\n          location_categories {\n            label\n            value\n          }\n          months {\n            label\n            value\n          }\n          usersFavourites {\n            id\n          }\n      }\n  }`;\n\n    let {\n      params: { id: slug },\n    } = match;\n    console.log(match);\n    const result = await graphQLFetch(query, { slug }, true);\n    return result;\n  }\n\n  constructor(props) {\n    super(props);\n    const locationBySlug = store.initialData\n      ? store.initialData.locationBySlug\n      : null;\n    delete store.initialData;\n    this.state = {\n      isServer: true,\n      userLikedLocation: false,\n      locationBySlug,\n      redirect: false,\n      zoom: 13,\n      userLocationKnown: false,\n      userMarker: null,\n      userLocation: {\n        longitude: null,\n        latitude: null,\n      },\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: {\n        params: { id: prevId },\n      },\n    } = prevProps;\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n\n    if (prevId !== id) {\n      this.loadData();\n    }\n\n    const { curUser: prevCurUser } = prevProps;\n    const { curUser } = this.props;\n    const { locationBySlug, isServer } = this.state;\n\n    if (!isServer && curUser != null && prevCurUser !== curUser) {\n      // there is a logged in user\n      console.log(curUser);\n      console.log(this.state);\n      console.log(locationBySlug);\n\n      if (\n        locationBySlug.usersFavourites.filter(\n          (favourites) => favourites.id === curUser.id\n        ).length > 0\n      ) {\n        // check if user alreay liked the location\n        this.setState({ userLikedLocation: true });\n      }\n    }\n  }\n\n  componentDidMount() {\n    const { locationBySlug } = this.state;\n    if (locationBySlug === null) {\n      this.loadData();\n    }\n\n    // loading leaflet in componentDidMount because it doenst support SSR\n    const L = require(\"leaflet\");\n\n    const userMarker = new L.Icon({\n      iconUrl: userIcon,\n      iconRetinaUrl: userIcon,\n\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n    });\n\n    delete L.Icon.Default.prototype._getIconUrl;\n\n    L.Icon.Default.mergeOptions({\n      iconUrl: locationIcon,\n      iconRetinaUrl: locationIcon,\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n    });\n\n    // get users position\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    const success = (pos) => {\n      var crd = pos.coords;\n\n      console.log(\"Your current position is:\");\n      console.log(`Latitude : ${crd.latitude}`);\n      console.log(`Longitude: ${crd.longitude}`);\n      console.log(`More or less ${crd.accuracy} meters.`);\n\n      this.setState((prevState) => ({\n        ...prevState,\n        userMarker,\n        userLocationKnown: true,\n        userLocation: { longitude: crd.longitude, latitude: crd.latitude },\n      }));\n    };\n\n    const error = (err) => {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n\n      fetch(\"https://ipapi.co/json\")\n        .then((res) => res.json())\n        .then((location) => {\n          this.setState((prevState) => ({\n            ...prevState,\n            userMarker,\n            userLocationKnown: true,\n            userLocation: {\n              longitude: location.longitude,\n              latitude: location.latitude,\n            },\n          }));\n        });\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n  }\n\n  async loadData() {\n    // get the search query string form url\n    const { match } = this.props;\n    // provide the query with the variables\n    const data = await LocationDetailComponent.fetchData(match);\n    console.log(data);\n    if (data.locationBySlug != null) {\n      this.setState({ locationBySlug: data.locationBySlug, isServer: false });\n    } else {\n      console.log(\"return not found\");\n      this.setState({ redirect: true });\n      console.log(this.state);\n    }\n  }\n\n  updateFav = async (user, likedId, action) => {\n    const query = `\n      mutation updateUser($input:updateUserInput) {\n        updateUser(input: $input) {\n          user {\n            favouriteLocations {\n              id\n            }\n          }\n        }\n      }`;\n\n    let favArray = user.favouriteLocations.map((fav) => fav.id);\n\n    if (action === \"add\") {\n      if (!favArray.includes(likedId)) {\n        favArray.push(likedId);\n      } else {\n        // already in favourites\n        return;\n      }\n    } else if (action === \"remove\") {\n      if (favArray.includes(likedId)) {\n        // likedId is in array, so remove it from array\n        const index = favArray.indexOf(likedId);\n        if (index > -1) {\n          favArray.splice(index, 1);\n        }\n        console.log(favArray);\n      } else {\n        // not in favourites\n        return;\n      }\n    }\n\n    const variables = {\n      input: {\n        where: {\n          id: user.id,\n        },\n        data: {\n          favouriteLocations: favArray,\n        },\n      },\n    };\n\n    const data = await graphQLFetch(query, variables, true);\n\n    let status = this.state.userLikedLocation;\n    this.setState({ userLikedLocation: !status });\n  };\n\n  render() {\n    const { locationBySlug, redirect, isServer } = this.state;\n    if (redirect) {\n      console.log(\"redirect\", redirect);\n      return <Redirect to=\"/niet-gevonden\" />;\n    }\n    if (locationBySlug === null) return null;\n\n    const { userLocation, userLocationKnown, userMarker } = this.state;\n    const { photos } = locationBySlug;\n\n    const position = [locationBySlug.latitude, locationBySlug.longitude];\n    const calculatedUserLocation = userLocation.latitude\n      ? [userLocation.latitude, userLocation.longitude]\n      : null;\n\n    return (\n      <div id=\"page\">\n        <div id=\"photoInfo\">\n          <div\n            className=\"w-full flex flex-col justify-center items-center relative\"\n            style={{\n              backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3)), url(${\n                photos.sort((a, b) => b.likes - a.likes)[0].photo[0].url\n              })`,\n              backgroundSize: `cover`,\n              backgroundPosition: `center center`,\n              height: \"80vh\",\n            }}\n          >\n            <h1 className=\"text-3xl font-bold mb-1 text-white block\">\n              {locationBySlug.title}\n            </h1>\n            <span className=\"flex items-center\">\n              <span className=\"text-gray-500 mr-2 text-sm\">Categorieen:</span>\n              {locationBySlug.location_categories.map((location) => (\n                <Link\n                  to={`/fotolocaties/categorie/${location.value}`}\n                  className=\"bg-green-500 py-1 px-3 text-sm rounded-full mr-2 text-white hover:bg-green-600\"\n                >\n                  {location.label}\n                </Link>\n              ))}\n            </span>\n            {!isServer && (\n              <div className=\"absolute right-0 bottom-0 m-10\">\n                <userContext.Consumer>\n                  {(value) => {\n                    console.log(value);\n                    if (value.user) {\n                      let favourite;\n                      if (\n                        value.user &&\n                        locationBySlug.usersFavourites.filter(\n                          (favourites) => favourites.id === value.user.id\n                        ).length > 0\n                      ) {\n                        favourite = true;\n                      } else {\n                        favourite = false;\n                      }\n                      return (\n                        <FavButton\n                          favourite={favourite}\n                          updateFav={this.updateFav}\n                          user={value.user}\n                          likedId={locationBySlug.id}\n                          addTitle=\"Deze locatie opslaan\"\n                          removeTitle=\"Verwijderen uit opgeslagen locaties\"\n                        />\n                      );\n                    }\n                  }}\n                </userContext.Consumer>\n\n                <Link\n                  className=\"revealTooltip flex pointer justify-end items-center\"\n                  to={`/foto/toevoegen/${locationBySlug.id}`}\n                >\n                  <div className=\"hidden inline-block bg-white rounded py-1 px-3 h-8\">\n                    Foto aan deze locatie toevoegen\n                  </div>\n                  <div className=\"inline-block bg-white rounded py-2 px-3 h-8\">\n                    <FaPlus />\n                  </div>\n                </Link>\n              </div>\n            )}\n            {/* \n            <p className=\"\">Bezoekers:</p>\n            {locationBySlug.photos.map((photo) => {\n              return <img src={photo.user.picture} />;\n            })} */}\n          </div>\n\n          <div className=\"p-6 \">\n            <section className=\"container\">\n              <div className=\"sm:py-10\">\n                <div className=\"block sm:flex\">\n                  <div className=\"pb-4 mr-4 w-full\">\n                    <h2 className=\"h1\">\n                      Over fotolocatie {locationBySlug.title}\n                    </h2>\n                    <p className=\"\">{locationBySlug.desc}</p>\n                  </div>\n                  <div className=\"pb-4 w-full\">\n                    <h3>Hoe kom ik bij {locationBySlug.title}</h3>\n                    <p className=\"\">{locationBySlug.directions}</p>\n                  </div>\n                </div>\n                <div className=\"block sm:flex\">\n                  <div className=\"pb-4 mr-4 w-full\">\n                    <h3>Wat kan ik fotograferen?</h3>\n                    <p className=\"\">{locationBySlug.whattoshoot}</p>\n                  </div>\n                  <div className=\"pb-4 w-full\">\n                    <h3>Beste tijd om te fotograferen?</h3>\n                    {locationBySlug.months.map((month) => (\n                      <p className=\"mr-1 inline-block\">{month.label}</p>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"w-full\">\n                <Map\n                  className=\"map\"\n                  id=\"photoLocation\"\n                  center={position}\n                  zoom={this.state.zoom}\n                >\n                  <TileLayer\n                    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  />\n                  <Marker position={position}>\n                    <Popup>Foto locatie</Popup>\n                  </Marker>\n                  {userLocationKnown && (\n                    <Marker position={calculatedUserLocation} icon={userMarker}>\n                      <Popup>Jouw locatie</Popup>\n                    </Marker>\n                  )}\n                </Map>\n              </div>\n\n              <div className=\"w-full mt-4\">\n                <h2 className=\"text-xl font-bold mb-1 text-gray-800 block\">\n                  Foto's gemaakt op fotolocatie {locationBySlug.title}\n                </h2>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n                  {photos.map((photoItem, index) => {\n                    return (\n                      <PhotoView\n                        key={photoItem.id}\n                        index={index}\n                        photo={photoItem}\n                        deletePhoto={null}\n                      />\n                    );\n                  })}\n                </div>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction LocationPhotoItem(props) {\n  const itemPhoto = props.item.photo[0];\n  const selectedLocation = `/foto/${props.item.slug}`;\n  return (\n    <React.Fragment>\n      <div className=\"w-full inline-block md:w-1/2 lg:w-1/3 p-2\">\n        <div className=\"photoCard rounded relative shadow-xs\">\n          <div className=\"relative rounded overflow-hidden\">\n            <NavLink\n              to={selectedLocation}\n              className=\"absolute w-full h-full z-10\"\n              title=\"Bekijk foto nu\"\n            ></NavLink>\n            <img\n              src={itemPhoto.url.replace(\"-original\", \"-thumbnail\")}\n              className=\"object-cover  w-full h-48  block\"\n              alt=\"Foto\"\n            />\n\n            <div className=\"photoContent p-4 absolute bottom-0 left-0\">\n              <div className=\"photoInfo\">\n                <h3 className=\"text-white\">{props.item.title}</h3>\n              </div>\n              <div className=\"clear\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nconst LocationDetailComponentRouter = withRouter(LocationDetailComponent);\n","import React, { useState } from \"react\";\nimport Joi from \"@hapi/joi\";\nimport Form from \"./Form.jsx\";\nimport { NavLink } from \"react-router-dom\";\nimport auth from \"./services/authService\";\nimport Input from \"./Input.jsx\";\nimport { FaSpinner } from \"react-icons/fa\";\n\nconst Login = () => {\n  const [data, setData] = useState({});\n  const [errors, setErrors] = useState({});\n  const [loginError, setLoginError] = useState(false);\n\n  const schema = {\n    email: Joi.string()\n      .email({ tlds: { allow: false } })\n      .required()\n      .messages({\n        \"string.empty\": `Vul je je email nog even in? 😉.`,\n        \"any.required\": `Vul je je email nog even in? 😉.`,\n        \"string.email\": `Vul je een geldig adres in? 😉.`,\n      }),\n    password: Joi.string().required().messages({\n      \"string.empty\": `Vul je je wachtwoord nog even in? 😉.`,\n      \"any.required\": `Vul je je wachtwoord nog even in? 😉.`,\n    }),\n  };\n\n  const loginUser = async () => {\n    let input = { ...data };\n\n    Object.defineProperty(\n      input,\n      \"identifier\",\n      Object.getOwnPropertyDescriptor(input, \"email\")\n    );\n    delete input[\"email\"];\n\n    const loggedIn = await auth.login(input);\n\n    if (loggedIn === true) {\n      window.location = \"/\";\n    } else {\n      setLoginError(true);\n    }\n  };\n\n  const doSubmit = () => {\n    // call server\n    // redirect user to homepage\n    console.log(\"submitted\");\n    loginUser();\n  };\n\n  const validateProperty = ({ name, value }) => {\n    console.log(name, value);\n    const object = { [name]: value };\n    console.log(schema);\n    const _schema = Joi.object({ [name]: schema[name] });\n    const result = _schema.validate(object);\n    console.log(result);\n    const error = result.error;\n    console.log(\"returning\", error);\n    return error ? error.details[0].message : null;\n  };\n\n  const validate = () => {\n    const options = { abortEarly: false, allowUnknown: true };\n    const _schema = Joi.object({ ...schema });\n    const { error } = _schema.validate(data, options);\n    console.log(error);\n    if (!error) return null;\n\n    const errors = {};\n    for (let item of error.details) {\n      errors[item.path[0]] = item.message;\n    }\n    return errors;\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = validate();\n    setErrors(errors || {});\n    if (errors) return;\n\n    doSubmit();\n  };\n\n  const renderButton = (label, disable = false) => {\n    return (\n      <button\n        className={\n          \"w-full mb-2 mt-2 text-white flex items-center justify-center font-bold py-2 px-4 rounded\" +\n          (validate() || Object.keys(errors).length !== 0 || disable\n            ? \" bg-gray-500 hover:bg-gray-600\"\n            : \" bg-blue-500 hover:bg-blue-600\")\n        }\n        type=\"submit\"\n        disabled={validate() || Object.keys(errors).length !== 0 || disable}\n      >\n        {disable ? <FaSpinner className=\"animate-spin\" /> : label}\n      </button>\n    );\n  };\n\n  const handleChange = ({ currentTarget: input }) => {\n    const _errors = { ...errors };\n    const errorMessage = validateProperty(input);\n    if (errorMessage) _errors[input.name] = errorMessage;\n    else delete _errors[input.name];\n\n    const _data = { ...data };\n    _data[input.name] = input.value;\n    setData(_data);\n    setErrors(_errors);\n\n    // setInputs((inputs) => ({ ...inputs, [e.target.name]: e.target.value }));\n  };\n\n  const renderInput = (\n    name,\n    label,\n    placeholder,\n    type = \"text\",\n    classes = \"w-full\",\n    onBlur = () => {}\n  ) => {\n    return (\n      <Input\n        classes={classes}\n        name={name}\n        label={label}\n        value={data[name] || \"\"}\n        onChange={handleChange}\n        placeholder={placeholder}\n        error={errors[name]}\n        type={type}\n        onBlur={onBlur}\n      />\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"block sm:flex\">\n        <form\n          onSubmit={handleSubmit}\n          className=\"bg-white w-full  px-8 md:px-16 pt-6 md:py-12 flex flex-col bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col border\"\n        >\n          <h1 className=\"font-bold text-xl text-green-500 text-center\">\n            Inloggen bij Spotshare\n          </h1>\n\n          {loginError && <ErrorBox />}\n          {renderInput(\"email\", \"Email\", \"Emailadres\")}\n          {renderInput(\n            \"password\",\n            \"Wachtwoord\",\n            \"Vul je wachtwoord in\",\n            \"password\"\n          )}\n          <div className=\"flex items-center justify-between\">\n            <div>{renderButton(\"Log in\")}</div>\n          </div>\n          <div className=\"flex items-center justify-center\">\n            <NavLink\n              className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-600 mr-4\"\n              to=\"/wachtwoord-vergeten\"\n            >\n              Wachtwoord vergeten?\n            </NavLink>{\" \"}\n            |\n            <NavLink\n              className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-600 ml-4\"\n              to=\"/aanmelden\"\n            >\n              Aanmelden\n            </NavLink>\n          </div>\n        </form>\n\n        <div className=\"w-full\">\n          <div\n            className=\"w-full h-full\"\n            style={{\n              backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3)), url(https://picsum.photos/1500/1500)`,\n              backgroundSize: `cover`,\n              backgroundPosition: `center center`,\n            }}\n          ></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n\nconst ErrorBox = () => {\n  return (\n    <div className=\"p-4 rounded border border-red-500 bg-red-200 text-red-500 font-bold my-4\">\n      Gebruikersnaam of wachtwoord is onbekend.{\" \"}\n      <NavLink\n        className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-600 ml-4\"\n        to=\"/wachtwoord-vergeten\"\n      >\n        Wachtwoord vergeten?\n      </NavLink>\n    </div>\n  );\n};\n","import React, { Component } from \"react\";\nimport auth from \"./services/authService\";\n\nclass Logout extends Component {\n\tcomponentDidMount() {\n\t\tauth.logout();\n\t\twindow.location = \"/\";\n\t}\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default Logout;\n","import React from 'react';\n\nexport default ({ staticContext = {} }) => {\n    staticContext.status = 404;\n    return <h1>Sorry, pagina niet gevonden</h1>;\n};","import React, { Component, useState, useEffect } from \"react\";\nimport Contents from \"./Contents.jsx\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { FiMenu, FiX } from \"react-icons/fi\";\nimport { ToastContainer } from \"react-toastify\";\nimport { userContext } from \"./services/userContext.js\";\nimport Footer from \"./components/Footer.jsx\";\nimport Notifications from \"./components/notificationCenter/notifications.jsx\";\nimport { IoNotificationsOutline } from \"react-icons/io5\";\n\nconst NavBar = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [openNotifications, setOpenNotifications] = useState(false);\n  const history = useHistory();\n\n  const closeMenu = () => {\n    setIsOpen(false);\n    setOpenNotifications(false);\n  };\n\n  const notIconClick = (e) => {\n    e.preventDefault();\n    setOpenNotifications(!openNotifications);\n  };\n\n  const toggleOpen = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const onNotClick = (link) => {\n    setOpenNotifications(false);\n    history.push(link);\n  };\n\n  return (\n    <header className=\"bg-gray-900 sm:flex sm:justify-between sm:px-6 sm:py-3 sm:items-center\">\n      <div className=\"flex items-center justify-between px-4 py-3 sm:p-0 bg-gray-900\">\n        <div>\n          <NavLink onClick={closeMenu} exact to=\"/\">\n            <img\n              src=\"http://dkotwt30gflnm.cloudfront.net/assets/spotshare-logo.png\"\n              className=\"h-8\"\n              alt=\"Spotshare, de mooiste fotolocaties bij jou in de buurt\"\n            />\n          </NavLink>\n        </div>\n        <div className=\"sm:hidden\">\n          <button\n            onClick={toggleOpen}\n            type=\"button\"\n            className=\"text-gray-400 hover:text-white focus:text-white focus:outline-none\"\n          >\n            {isOpen ? (\n              <FiX className=\"fill-current text-white\" />\n            ) : (\n              <FiMenu className=\"fill-current text-white\" />\n            )}\n          </button>\n        </div>\n      </div>\n      <nav\n        className={`px-2 pt-2 pb-4 sm:p-0 items-center sm:flex ${\n          isOpen ? \" block\" : \" hidden\"\n        }`}\n      >\n        <NavLink\n          onClick={closeMenu}\n          to=\"/fotolocatie/volendam\"\n          className=\"block text-white font-semibold rounded hover:bg-gray-800 px-2 py-1\"\n        >\n          TestLocatie\n        </NavLink>\n        <NavLink\n          onClick={closeMenu}\n          to=\"/foto/haven-volendam\"\n          className=\"block text-white font-semibold rounded hover:bg-gray-800 px-2 py-1\"\n        >\n          TestFoto\n        </NavLink>\n        <NavLink\n          onClick={closeMenu}\n          to=\"/foto/toevoegen\"\n          className=\"block text-white font-semibold rounded hover:bg-gray-800 px-2 py-1\"\n        >\n          Uploaden\n        </NavLink>\n        <NavLink\n          onClick={closeMenu}\n          exact\n          to=\"/\"\n          className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\"\n        >\n          Home\n        </NavLink>\n\n        <userContext.Consumer>\n          {(value) =>\n            !value.user ? (\n              <React.Fragment>\n                <NavLink\n                  onClick={closeMenu}\n                  to=\"/aanmelden\"\n                  className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\"\n                >\n                  Aanmelden\n                </NavLink>\n                <NavLink\n                  onClick={closeMenu}\n                  to=\"/inloggen\"\n                  className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\"\n                >\n                  Inloggen\n                </NavLink>\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                <div className=\"relative\">\n                  <a\n                    onClick={notIconClick}\n                    className=\"relative block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\"\n                  >\n                    <IoNotificationsOutline className=\"text-2xl\" />\n                    {value.user.receivedNotifications &&\n                      value.user.receivedNotifications.length > 0 && (\n                        <div className=\"rounded-full bg-red-500 text-white absolute top-0 -mt-1 right-0 -mr-1 text-xs w-5 h-5 flex items-center justify-center\">\n                          {value.user.receivedNotifications.length}\n                        </div>\n                      )}\n                  </a>\n                  {openNotifications && (\n                    <Notifications onClick={onNotClick} user={value.user} />\n                  )}\n                </div>\n                <NavLink\n                  onClick={closeMenu}\n                  to={`/fotograaf/${value.user.slug}`}\n                  className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\"\n                >\n                  {value.user.username}\n                </NavLink>\n                <NavLink\n                  onClick={closeMenu}\n                  to=\"/uitloggen\"\n                  className=\"block mt-1 text-white font-semibold rounded hover:bg-gray-800 px-2 py-1 sm:mt-0 sm:ml-2\"\n                >\n                  Uitloggen\n                </NavLink>\n              </React.Fragment>\n            )\n          }\n        </userContext.Consumer>\n      </nav>\n    </header>\n  );\n};\n\nexport default function Page() {\n  return (\n    <div>\n      <NavBar />\n      <Contents />\n      <Footer />\n      <ToastContainer />\n    </div>\n  );\n}\n","/* globals React */\nimport React, { Component } from \"react\";\nimport graphQLFetch from \"./graphQLFetch.js\";\nimport EXIF from \"exif-js\";\nimport { FaSpinner } from \"react-icons/fa\";\nimport exifr from \"exifr\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet-universal\";\nimport userIcon from \"./images/userMarker.svg\";\nimport locationIcon from \"./images/locationMarker.svg\";\nimport LocationCard from \"./LocationCard.jsx\";\nimport CreatableSelect from \"react-select/creatable\";\nimport Select from \"react-select\";\nimport makeAnimated from \"react-select/animated\";\nimport slugify from \"slugify\";\nimport AddPhoto from \"./AddPhoto.jsx\";\nimport { userContext } from \"./services/userContext.js\";\nimport { findNearbyLocations } from \"./components/FindNearbyLocations.jsx\";\n\nconst animatedComponents = makeAnimated();\n\nexport default class PhotoAddStrapi extends React.Component {\n  redirect = (slug) => {\n    //if the query returns an id in data, the photo is created\n    // redirect to created photo\n\n    const { history } = this.props;\n    history.push({\n      pathname: `/foto/${slug}`,\n    });\n  };\n\n  // we are rendering the actual component to have access to the Context\n  // outside of the renderfunction in the next component\n  // We have to pass functions to make use of the router functionality\n\n  render() {\n    return (\n      <userContext.Consumer>\n        {(value) =>\n          value.user ? (\n            <AddPhotoForm\n              value={value}\n              redirect={this.redirect}\n              fetchLocation={this.fetchLocation}\n            />\n          ) : (\n            <div>Niet ingelogd</div>\n          )\n        }\n      </userContext.Consumer>\n    );\n  }\n}\n\nclass AddPhotoForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      currentStep: 1,\n      photo: {},\n      photoLoading: false,\n      tempFile: null,\n      onDrop: false,\n      onDragOver: false,\n      uploadPercentage: 0,\n      invalidFields: {},\n      blob: null,\n      map: {\n        longitude: null,\n        latitude: null,\n        zoom: 13,\n      },\n      locationKnown: false,\n      selectedLocation: null,\n      locationCategoryValues: [],\n      monthValues: [],\n      months: null,\n      location_categories: null,\n      newLocation: false,\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onFileChange = this.onFileChange.bind(this);\n    this.fileInput = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(\"component updated\", prevProps, this.props);\n    const {\n      value: { user: prevUser },\n    } = prevProps;\n    const {\n      value: { user },\n    } = this.props;\n    if (prevUser !== user) {\n      this.updateContext();\n    }\n  }\n\n  updateContext() {\n    this.setState((prevState) => ({\n      ...prevState,\n      photo: { ...prevState.photo, user: this.props.value.user.id },\n    }));\n  }\n\n  onNewLocationClick = (e) => {\n    this.setNewLocation();\n    this.resetSelectedLocation();\n  };\n\n  setNewLocation = () => {\n    this.setState({ newLocation: true });\n  };\n\n  _next = () => {\n    let currentStep = this.state.currentStep;\n    currentStep = currentStep >= 2 ? 3 : currentStep + 1;\n    this.setState({\n      currentStep: currentStep,\n    });\n  };\n\n  _prev = () => {\n    let currentStep = this.state.currentStep;\n    currentStep = currentStep <= 1 ? 1 : currentStep - 1;\n    this.setState({\n      currentStep: currentStep,\n    });\n  };\n\n  previousButton() {\n    let currentStep = this.state.currentStep;\n    if (currentStep !== 1) {\n      return (\n        <button\n          className=\"block px-3 py- my-2 text-white rounded text-l bg-gray-700\"\n          type=\"button\"\n          onClick={this._prev}\n        >\n          Vorige\n        </button>\n      );\n    }\n    return null;\n  }\n\n  nextButton(disabled, btnClass) {\n    let currentStep = this.state.currentStep;\n    if (currentStep < 2) {\n      return (\n        <button\n          disabled={disabled}\n          className={btnClass}\n          type=\"button\"\n          onClick={this._next}\n        >\n          Volgende\n        </button>\n      );\n    }\n    return null;\n  }\n\n  changeMarkers = () => {\n    // loading leaflet in componentDidMount because it doenst support SSR\n    const L = require(\"leaflet\");\n\n    const userMarker = new L.Icon({\n      iconUrl: userIcon,\n      iconRetinaUrl: userIcon,\n\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n    });\n\n    delete L.Icon.Default.prototype._getIconUrl;\n\n    L.Icon.Default.mergeOptions({\n      iconUrl: locationIcon,\n      iconRetinaUrl: locationIcon,\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n    });\n  };\n\n  componentDidMount(prevProps, prevState) {\n    // handle blob in 'onFileChange' from state\n    // blob gets set on choosing file\n    this.changeMarkers();\n    this.updateContext();\n  }\n\n  onCategoryCreate = async (option) => {\n    const label = option;\n\n    // check if slug is available, if not, add number\n    const value = slugify(option, {\n      replacement: \"-\", // replace spaces with replacement character, defaults to `-`\n      remove: undefined, // remove characters that match regex, defaults to `undefined`\n      lower: true, // convert to lower case, defaults to `false`\n      strict: true, // strip special characters except replacement, defaults to `false`\n    });\n\n    const query = `mutation CreateLocationCategory($input: createLocationCategoryInput) {\n            createLocationCategory(input: $input){\n            locationCategory{\n              label\n              value\n              id\n            }\n          }\n          }`;\n\n    let input = {};\n    input[\"data\"] = {\n      label: label,\n      value: value,\n    };\n\n    const data = await graphQLFetch(query, { input }, true);\n\n    if (data) {\n      const { label, value, id } = data.createLocationCategory.locationCategory;\n      this.setState((prevState) => {\n        const oldCategories = [...this.state.locationCategoryValues];\n        const newCategory = {\n          label: label,\n          value: value,\n          id: id,\n        };\n        oldCategories.push(newCategory);\n\n        const selectedValues =\n          this.state.location_categories != null\n            ? this.state.location_categories\n            : [];\n        selectedValues.push(newCategory);\n\n        const categoryIds = this.state.location.location_categories\n          ? this.state.location.location_categories\n          : [];\n        categoryIds.push(newCategory.id);\n\n        return {\n          location: {\n            ...prevState.location,\n            location_categories: [...categoryIds],\n          },\n          locationCategoryValues: [...oldCategories],\n          location_categories: selectedValues,\n        };\n      });\n      return {\n        label: label,\n        value: value,\n      };\n    }\n  };\n\n  handleSelect = (newValue, name) => {\n    /*\n        set the ID of the location_categories to location object\n        and update the selected values in object location_categories in the state\n        */\n    let ids;\n    if (newValue !== null) {\n      ids = newValue.map((item) => {\n        return item.id;\n      });\n    } else {\n      ids = [];\n    }\n\n    this.setState((prevState) => ({\n      ...prevState,\n      location: { ...prevState.location, [name]: ids },\n      [name]: newValue,\n    }));\n  };\n\n  createLocation = async () => {\n    console.log(\"creating location\");\n\n    const {\n      location,\n      location: { title },\n    } = this.state;\n\n    console.log(location, title);\n\n    const slug = slugify(title, {\n      replacement: \"-\", // replace spaces with replacement character, defaults to `-`\n      remove: undefined, // remove characters that match regex, defaults to `undefined`\n      lower: true, // convert to lower case, defaults to `false`\n      strict: true, // strip special characters except replacement, defaults to `false`\n    });\n\n    const query = `mutation CreateLocation($input: createLocationInput) {\n            createLocation(input: $input){\n            location{\n              slug\n              id\n            }\n          }\n          }`;\n\n    let input = {};\n    location[\"slug\"] = slug;\n    input[\"data\"] = location;\n\n    console.log(input);\n    const data = await graphQLFetch(query, { input }, true);\n\n    if (data) {\n      return data.createLocation;\n    }\n  };\n\n  handleInputChange = (event, property) => {\n    console.log(\"handling on input chagne\");\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState((prevState) => {\n      let stateFields;\n      if (property === \"location\") {\n        console.log(\"setting location state\");\n        stateFields = {\n          ...prevState,\n          location: { ...prevState.location, [name]: value },\n        };\n      } else {\n        stateFields = {\n          ...prevState,\n          photo: { ...prevState.photo, [name]: value },\n        };\n      }\n\n      const invalidFields = { ...prevState.invalidFields };\n      if (this.state.photo.title && this.state.invalidFields.title)\n        delete invalidFields[\"title\"];\n      stateFields[\"invalidFields\"] = invalidFields;\n      return stateFields;\n    });\n  };\n\n  removeImage = () => {\n    console.log(\"remove\");\n    this.setState({\n      tempFile: null,\n      photo: {},\n      blob: null,\n      locationKnown: false,\n    });\n  };\n\n  photoValidation = (file) => {\n    if (file.size > 27000000) {\n      this.setState((prevState) => ({\n        ...prevState,\n        invalidFields: {\n          ...prevState.invalidFields,\n          blob: \"Selecteer een afbeelding kleiner dan 27MB.\",\n        },\n      }));\n      return;\n    } else {\n      this.setState((prevState) => {\n        const invalidFields = { ...prevState.invalidFields };\n        if (invalidFields.hasOwnProperty(\"blob\")) delete invalidFields[\"blob\"];\n        return { invalidFields };\n      });\n    }\n  };\n\n  onFileChange = async (e) => {\n    const file = e.target.files[0];\n    this.setState({ blob: e.target.files[0] });\n\n    this.photoValidation(file);\n\n    this.setState({\n      photoLoading: true,\n    });\n\n    var reader = new FileReader();\n    reader.onload = () => {\n      this.setState({\n        photoLoading: false,\n        tempFile: URL.createObjectURL(file),\n      });\n    };\n    reader.readAsDataURL(file);\n\n    // TODO: extract lensmodel, and write location suggestion\n    let exifrGps = await exifr.gps(file);\n    let output = await exifr.parse(file, [\"LensModel\"]);\n\n    // if the photo contains gps data\n    if (exifrGps) {\n      let { longitude, latitude } = exifrGps;\n      this.setState((prevState) => ({\n        ...prevState,\n        locationKnown: true,\n        photo: { ...prevState.photo, longitude, latitude },\n      }));\n    }\n\n    if (file && file.name) {\n      EXIF.getData(file, () => {\n        let exifData = EXIF.pretty(file);\n        if (\n          exifData &&\n          EXIF.getTag(file, \"ExposureTime\") &&\n          EXIF.getTag(file, \"ISOSpeedRatings\") &&\n          EXIF.getTag(file, \"FNumber\")\n        ) {\n          let date = EXIF.getTag(file, \"DateTime\");\n          if (date) {\n            let splittedDate = EXIF.getTag(file, \"DateTime\")\n              .substr(0, 10)\n              .split(\":\");\n            const year = splittedDate[0];\n            const month = splittedDate[1];\n            const day = splittedDate[2];\n            let dateVal = `${year}-${month}-${day}`;\n\n            this.setState((prevState) => ({\n              ...prevState,\n              photo: { ...prevState.photo, date: dateVal },\n            }));\n          }\n\n          const shutterVal =\n            EXIF.getTag(file, \"ExposureTime\").numerator /\n            EXIF.getTag(file, \"ExposureTime\").denominator;\n          let shutterspeedVal =\n            shutterVal > 1 ? shutterVal : \"1/\" + 1 / shutterVal;\n          let ISOVal = EXIF.getTag(file, \"ISOSpeedRatings\");\n          let apertureVal =\n            EXIF.getTag(file, \"FNumber\").numerator /\n            EXIF.getTag(file, \"FNumber\").denominator;\n          let focalLengthVal = EXIF.getTag(file, \"FocalLength\") + \"mm\";\n          let cameraVal = EXIF.getTag(file, \"Model\");\n\n          this.setState((prevState) => ({\n            ...prevState,\n            photo: {\n              ...prevState.photo,\n              shutterspeed: shutterspeedVal,\n              iso: ISOVal,\n              aperture: apertureVal,\n              focalLength: focalLengthVal,\n              camera: cameraVal,\n            },\n          }));\n        } else {\n          this.setState((prevState) => ({\n            ...prevState,\n            photo: {\n              ...prevState.photo,\n              date: \"\",\n              shutterspeed: \"\",\n              iso: \"\",\n              aperture: \"\",\n              focalLength: \"\",\n              camera: \"\",\n            },\n          }));\n        }\n      });\n    } else {\n      this.setState((prevState) => ({\n        ...prevState,\n        photo: {\n          ...prevState.photo,\n          date: \"\",\n          shutterspeed: \"\",\n          iso: \"\",\n          aperture: \"\",\n          focalLength: \"\",\n          camera: \"\",\n        },\n      }));\n    }\n  };\n\n  handleOnDrop = (e) => {\n    console.log(\"handleOnDrop fired\", e);\n  };\n  handleOnDragOver = (e) => {\n    this.setState({ onDragOver: true });\n  };\n  handleOnDragLeave = (e) => {\n    this.setState({ onDragOver: false });\n  };\n\n  checkForAvailableSlug = async (slug) => {\n    let query = `query photoBySlug($slug: String!){\n            photoBySlug(slug: $slug) {\n                title\n            }\n        }`;\n\n    const result = await graphQLFetch(query, { slug }, true);\n    return result;\n  };\n\n  createSlug = async (slug, suffix, previousSuffix) => {\n    var result = await this.checkForAvailableSlug(slug);\n\n    if (!result.photoBySlug) {\n      // slug is available, proceed\n      return slug;\n    } else {\n      // slug is not available, try again\n\n      if (!suffix) {\n        suffix = 1;\n      } else {\n        suffix++;\n      }\n      var n = str.lastIndexOf(previousSuffix);\n      slug.replace(previousSlug, \"\");\n\n      const createdSuffix = \"-\" + suffix;\n      let adjustedSlug = slug + reactedSlug;\n      return this.createSlug(adjustedSlug, suffix, createdSuffix);\n    }\n  };\n\n  fetchCategories = async () => {\n    // build the graphql query\n    const query = `query locationCategories{\n            locationCategories {\n              label\n              value\n              id\n            }\n            months {\n              label\n              value\n              id\n            }\n          }`;\n    const result = await graphQLFetch(query, {}, true);\n    this.setState({\n      locationCategoryValues: result.locationCategories,\n      monthValues: result.months,\n    });\n  };\n\n  async handleSubmit(e) {\n    console.log(\"submitted\");\n    e.preventDefault();\n    e.persist();\n\n    const {\n      blob,\n      newLocation,\n      photo: { title },\n    } = this.state;\n\n    // check if an image is given, and title, if not show error and return null;\n    if (!blob || !title) {\n      if (!blob) {\n        console.log(\"no blob in state\");\n        this.setState((prevState) => ({\n          ...prevState,\n          invalidFields: {\n            ...prevState.invalidFields,\n            blob: \"Voeg je nog een foto toe? 📸\",\n          },\n        }));\n      }\n      if (!title) {\n        console.log(\"no title in state.photo\");\n        this.setState((prevState) => ({\n          ...prevState,\n          invalidFields: {\n            ...prevState.invalidFields,\n            title: \"Wat is de titel van je foto? 📸\",\n          },\n        }));\n      }\n      console.log(\"returning\");\n      return;\n    }\n\n    let createdLocation = null;\n    if (newLocation) {\n      createdLocation = await this.createLocation();\n      console.log(createdLocation);\n    } else {\n      console.log(\"no new location found\");\n    }\n\n    // check if slug is available, if not, add number\n    let slug = slugify(title, {\n      replacement: \"-\", // replace spaces with replacement character, defaults to `-`\n      remove: undefined, // remove characters that match regex, defaults to `undefined`\n      lower: true, // convert to lower case, defaults to `false`\n      strict: true, // strip special characters except replacement, defaults to `false`\n    });\n\n    const createdSlug = await this.createSlug(slug);\n\n    // if slug is available, add to the state\n    this.setState((prevState) => {\n      return {\n        ...prevState,\n        photo: {\n          ...prevState.photo,\n          slug: createdSlug,\n          location:\n            createdLocation !== null\n              ? createdLocation.location.id\n              : prevState.photo.location,\n          date: prevState.photo.date ? new Date(prevState.photo.date) : null,\n          iso: prevState.photo.iso ? prevState.photo.iso.toString() : null,\n          aperture: prevState.photo.aperture\n            ? prevState.photo.aperture.toString()\n            : null,\n          shutterspeed: prevState.photo.shutterspeed\n            ? prevState.photo.shutterspeed.toString()\n            : null,\n        },\n      };\n    });\n\n    //create photo page with info\n    // query for new photo\n    const query = `mutation CreatePhoto($input: createPhotoInput) {\n            createPhoto(input: $input){\n                photo{\n                    title\n                    desc\n                    slug\n                    date\n                    brand\n                    shutterspeed\n                    iso\n                    aperture\n                    camera\n                    focalLength\n                    id\n                    location {\n                        id\n                        title\n                        longitude\n                        latitude\n                    }\n                }\n            }\n        }`;\n\n    let input = {};\n    input[\"data\"] = this.state.photo;\n    delete input.data.blob;\n    delete input.data.longitude;\n    delete input.data.latitude;\n\n    console.log(\"input\", input);\n\n    const data = await graphQLFetch(query, { input }, true);\n\n    if (data) {\n      console.log(\"photo page created, uploading foto..\");\n      //after pages is created, use refId to upload files with xhr request\n\n      const redirect = () => {\n        //if the query returns an id in data, the photo is created\n        // redirect to created photo\n        this.props.redirect(data.createPhoto.photo.slug);\n      };\n\n      const formData = new FormData();\n\n      const { blob: uploadedFile } = this.state;\n\n      formData.append(`files`, uploadedFile, uploadedFile.name);\n      formData.append(\"ref\", \"photo\");\n      formData.append(\"field\", \"photo\");\n      formData.append(\"refId\", data.createPhoto.photo.id);\n\n      const request = new XMLHttpRequest();\n      request.open(\"POST\", `http://localhost:1337/upload`);\n      request.send(formData);\n      request.addEventListener(\"load\", redirect);\n    } else {\n      console.log(\"failed\");\n    }\n  }\n\n  onLocationSelect = (location) => {\n    // if existing location is selected, add to the state\n    this.setState((prevState) => ({\n      ...prevState,\n      selectedLocation: location,\n      photo: { ...prevState.photo, location: location.id },\n    }));\n  };\n\n  resetSelectedLocation = () => {\n    this.setState((prevState) => ({\n      ...prevState,\n      selectedLocation: null,\n      photo: { ...prevState.photo, location: null },\n    }));\n  };\n\n  updateNewLocationCoords = (lat, lng) => {\n    console.log(lat, lng);\n    this.setState((prevState) => ({\n      ...prevState,\n      newLocation: false,\n      location: { ...prevState.location, longitude: lng, latitude: lat },\n    }));\n  };\n\n  render() {\n    let btnClass = \"block px-3 py- my-2 text-white rounded text-l\";\n    let disabled =\n      this.state.currentStep == 1\n        ? this.state.photo.title === undefined ||\n          this.state.photo.title === \"\" ||\n          this.state.blob === null\n        : false;\n    btnClass += disabled ? \" bg-gray-400\" : \" bg-blue-600\";\n\n    return (\n      <React.Fragment>\n        <form\n          name=\"photoAdd\"\n          encType=\"multipart/form-data\"\n          onSubmit={this.handleSubmit}\n          className=\"photoAdd block py-3 px-4 border border-gray-300 rounded md:mx-auto md:my-6 md:w-9/12 lg:w-1/2 rounded md:shadow-lg md:p-6\"\n        >\n          <h1 className=\"my-2 font-bold\">Starpi Foto toevoegen</h1>\n\n          <AddPhoto\n            currentStep={this.state.currentStep}\n            state={this.state}\n            fileInput={this.fileInput}\n            onFileChange={this.onFileChange}\n            onChange={this.handleInputChange}\n            handleOnDrop={this.handleOnDrop}\n            handleOnDragOver={this.handleOnDragOver}\n            handleOnDragLeave={this.handleOnDragLeave}\n            removeImage={this.removeImage}\n          />\n          {this.state.currentStep === 2 && (\n            <Step2\n              currentStep={this.state.currentStep}\n              state={this.state}\n              findNearbyLocations={findNearbyLocations}\n              onLocationSelect={this.onLocationSelect}\n              resetSelectedLocation={this.resetSelectedLocation}\n              activeLocation={this.state.selectedLocation}\n              onChange={this.handleInputChange}\n              updateNewLocationCoords={this.updateNewLocationCoords}\n              handleSelect={this.handleSelect}\n              onCategoryCreate={this.onCategoryCreate}\n              fetchCategories={this.fetchCategories}\n              onNewLocationClick={this.onNewLocationClick}\n              setNewLocation={this.setNewLocation}\n            />\n          )}\n\n          <div className=\"shadow w-full bg-grey-light\">\n            <div\n              className=\"bg-blue-500 text-xs leading-none py-1 text-center text-white\"\n              style={{ width: this.state.uploadPercentage + \"%\" }}\n            >\n              {this.state.uploadPercentage + \"%\"}\n            </div>\n          </div>\n\n          {this.previousButton()}\n          {this.nextButton(disabled, btnClass)}\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nclass Step2 extends React.Component {\n  constructor(props) {\n    console.log(props);\n    super(props);\n\n    const { locationKnown } = props.state;\n    const zoom = locationKnown ? props.state.map.zoom : 6;\n\n    this.state = {\n      nearbyLocations: null,\n      draggable: !props.locationKnown,\n      marker: {\n        lat: 52.243712,\n        lng: 5.4411363,\n      },\n      zoom,\n      loadingNearbyLocations: false,\n    };\n  }\n\n  displayLocations = async (lat, lng) => {\n    const nearbyLocations = await this.props.findNearbyLocations(lat, lng);\n    if (nearbyLocations === null) {\n      this.props.setNewLocation();\n    }\n    this.setState({ nearbyLocations, loadingNearbyLocations: false });\n  };\n\n  async componentDidMount() {\n    if (this.props.currentStep == 2) {\n      console.log(\"mounting\");\n      const { locationKnown } = this.props.state;\n      if (locationKnown) {\n        console.log(\"location known\");\n        const { latitude, longitude } = this.props.state.photo;\n        console.log(\"getting long lat\", latitude, longitude);\n        this.props.updateNewLocationCoords(latitude, longitude);\n        this.displayLocations(latitude, longitude);\n        this.setState({\n          marker: { lat: latitude, lng: longitude },\n        });\n      }\n      this.props.fetchCategories();\n    }\n  }\n\n  refmarker = React.createRef();\n  map = React.createRef();\n\n  updatePosition = () => {\n    const marker = this.refmarker.current;\n    const map = this.map.current;\n    if (marker != null) {\n      console.log(\"updating position\", marker.leafletElement.getLatLng());\n      this.setState({\n        marker: marker.leafletElement.getLatLng(),\n        zoom: map.leafletElement.getZoom(),\n        loadingNearbyLocations: true,\n      });\n    }\n    this.displayLocations(this.state.marker.lat, this.state.marker.lng);\n    console.log(\n      marker.leafletElement.getLatLng().lat,\n      marker.leafletElement.getLatLng().lng\n    );\n    this.props.updateNewLocationCoords(\n      marker.leafletElement.getLatLng().lat,\n      marker.leafletElement.getLatLng().lng\n    );\n  };\n\n  onChange = (e) => {\n    this.props.onChange(e, \"location\");\n  };\n\n  render() {\n    if (this.props.currentStep !== 2) {\n      return null;\n    }\n\n    const {\n      locationCategoryValues,\n      location_categories,\n      newLocation,\n      monthValues,\n    } = this.props.state;\n    const { marker } = this.state;\n    const position = [marker.lat, marker.lng];\n\n    const { nearbyLocations, zoom, loadingNearbyLocations } = this.state;\n\n    return (\n      <div className=\"form-group\">\n        <Map\n          className=\"map\"\n          id=\"photoLocation\"\n          center={position}\n          zoom={zoom}\n          ref={this.map}\n        >\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <Marker\n            position={position}\n            ref={this.refmarker}\n            draggable={this.state.draggable}\n            onDragend={this.updatePosition}\n          >\n            <Popup>Foto locatie</Popup>\n          </Marker>\n        </Map>\n\n        {loadingNearbyLocations && <FaSpinner />}\n        {nearbyLocations && !newLocation && (\n          <div>\n            <div className=\"\">Bedoel je misschien deze locatie?</div>\n            <div className=\"flex flex-wrap -mx-2\">\n              {nearbyLocations.map(\n                (location) =>\n                  location.photos.length > 0 && (\n                    <LocationCard\n                      activeLocation={this.props.activeLocation}\n                      key={location.id}\n                      location={location}\n                      onClick={this.props.onLocationSelect}\n                    />\n                  )\n              )}\n            </div>\n            <div\n              onClick={this.props.onNewLocationClick}\n              className=\"rounded bg-blue-500 text-white w-full p-2\"\n            >\n              Nee, nieuwe locatie toevoegen\n            </div>\n          </div>\n        )}\n        {newLocation && (\n          <React.Fragment>\n            <h2>Nieuwe locatie toevoegen</h2>\n            <input\n              type=\"text\"\n              name=\"title\"\n              placeholder=\"Titel\"\n              onChange={this.onChange}\n            />\n            <textarea\n              type=\"text\"\n              name=\"desc\"\n              onChange={this.onChange}\n              placeholder=\"Beschrijving van de locatie\"\n            />\n            <textarea\n              type=\"text\"\n              name=\"directions\"\n              onChange={this.onChange}\n              placeholder=\"Beste manier om hier naar toe te reizen? Is bijvoorbeeld er een parkeerplaats dichtbij, stopt er een bus?\"\n            />\n            <textarea\n              type=\"text\"\n              name=\"whattoshoot\"\n              onChange={this.onChange}\n              placeholder=\"Tips en advies, wat kan je fotograferen op deze locatie?\"\n            />\n            <Select\n              components={animatedComponents}\n              closeMenuOnSelect={false}\n              isMulti\n              options={monthValues}\n              placeholder=\"Beste maand om te fotograferen\"\n              onChange={(e) => {\n                this.props.handleSelect(e, \"months\");\n              }}\n            />\n            <CreatableSelect\n              components={animatedComponents}\n              isMulti\n              onChange={(e) => {\n                this.props.handleSelect(e, \"location_categories\");\n              }}\n              options={locationCategoryValues}\n              placeholder=\"Categorieën\"\n              value={location_categories}\n              onCreateOption={this.props.onCategoryCreate}\n              formatCreateLabel={(label) => `Maak nieuwe categorie: \"${label}`}\n            />\n          </React.Fragment>\n        )}\n        <button\n          type=\"submit\"\n          className=\"block px-3 py- my-2 text-white rounded text-l bg-blue-500\"\n        >\n          Uploaden\n        </button>\n      </div>\n    );\n  }\n}\n","/* globals React */\nimport React, { useContext } from \"react\";\nimport graphQLFetch from \"./graphQLFetch.js\";\nimport http from \"./services/httpService\";\nimport EXIF from \"exif-js\";\nimport exifr from \"exifr\";\nimport slugify from \"slugify\";\nimport AddPhoto from \"./AddPhoto.jsx\";\nimport { userContext } from \"./services/userContext.js\";\n\nexport default class PhotoAddToLocation extends React.Component {\n  redirect = (slug) => {\n    //if the query returns an id in data, the photo is created\n    // redirect to created photo\n\n    const { history } = this.props;\n    history.push({\n      pathname: `/foto/${slug}`,\n    });\n  };\n\n  fetchLocation = async () => {\n    const query = `query location($id:ID!) {\n            location(id:$id) {\n              title\n              id\n              slug\n            }\n          }`;\n\n    let {\n      params: { id },\n    } = this.props.match;\n\n    const data = await graphQLFetch(query, { id }, true);\n    return data;\n  };\n\n  // we are rendering the actual component to have access to the Context\n  // outside of the renderfunction in the next component\n  // We have to pass functions to make use of the router functionality\n\n  render() {\n    return (\n      <userContext.Consumer>\n        {(value) => {\n          console.log(value);\n          return (\n            <MapElement\n              value={value}\n              redirect={this.redirect}\n              fetchLocation={this.fetchLocation}\n            />\n          );\n        }}\n      </userContext.Consumer>\n    );\n  }\n}\n\nclass MapElement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photo: {},\n      photoLoading: false,\n      tempFile: null,\n      onDrop: false,\n      onDragOver: false,\n      uploadPercentage: 0,\n      invalidFields: {},\n      blob: null,\n      location: null,\n    };\n    this.fileInput = React.createRef();\n    this.handleSubmit = this.handleSubmit.bind(this);\n    console.log(props);\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(\"update\");\n    const {\n      value: { user: prevUser },\n    } = prevProps;\n    const {\n      value: { user },\n    } = this.props;\n    console.log(prevUser, user);\n    if (prevUser !== user) {\n      console.log(\"updating context\");\n      this.updateContext();\n    }\n  }\n\n  updateContext() {\n    this.setState((prevState) => ({\n      ...prevState,\n      photo: { ...prevState.photo, user: this.props.value.user.id },\n    }));\n  }\n\n  async componentDidMount() {\n    console.log(this.props.value);\n\n    const data = await this.props.fetchLocation();\n    if (data) {\n      console.log(\"props from mount\", this.props);\n      this.setState({\n        location: data.location,\n        photo: { location: data.location.id, user: this.props.value.id },\n      });\n    } else {\n      this.setState({ location: null });\n    }\n  }\n\n  async handleSubmit(e) {\n    console.log(\"submitted\");\n    e.preventDefault();\n    e.persist();\n    updateContext();\n\n    const {\n      blob,\n      newLocation,\n      photo: { title },\n    } = this.state;\n\n    // check if an image is given, and title, if not show error and return null;\n    if (!blob || !title) {\n      if (!blob) {\n        console.log(\"no blob in state\");\n        this.setState((prevState) => ({\n          ...prevState,\n          invalidFields: {\n            ...prevState.invalidFields,\n            blob: \"Voeg je nog een foto toe? 📸\",\n          },\n        }));\n      }\n      if (!title) {\n        console.log(\"no title in state.photo\");\n        this.setState((prevState) => ({\n          ...prevState,\n          invalidFields: {\n            ...prevState.invalidFields,\n            title: \"Wat is de titel van je foto? 📸\",\n          },\n        }));\n      }\n      console.log(\"returning\");\n      return;\n    }\n\n    // check if slug is available, if not, add number\n    let slug = slugify(title, {\n      replacement: \"-\", // replace spaces with replacement character, defaults to `-`\n      remove: undefined, // remove characters that match regex, defaults to `undefined`\n      lower: true, // convert to lower case, defaults to `false`\n      strict: true, // strip special characters except replacement, defaults to `false`\n    });\n\n    const createdSlug = await this.createSlug(slug);\n\n    // if slug is available, add to the state\n    this.setState((prevState) => {\n      return {\n        ...prevState,\n        photo: {\n          ...prevState.photo,\n          slug: createdSlug,\n          date: prevState.photo.date ? new Date(prevState.photo.date) : null,\n          iso: prevState.photo.iso ? prevState.photo.iso.toString() : null,\n          aperture: prevState.photo.aperture\n            ? prevState.photo.aperture.toString()\n            : null,\n          shutterspeed: prevState.photo.shutterspeed\n            ? prevState.photo.shutterspeed.toString()\n            : null,\n        },\n      };\n    });\n\n    //create photo page with info\n    // query for new photo\n    const query = `mutation CreatePhoto($input: createPhotoInput) {\n            createPhoto(input: $input){\n                photo{\n                    title\n                    desc\n                    slug\n                    date\n                    brand\n                    shutterspeed\n                    iso\n                    aperture\n                    camera\n                    focalLength\n                    id\n                    location {\n                        id\n                        title\n                        longitude\n                        latitude\n                    }\n                }\n            }\n        }`;\n\n    let input = {};\n    input[\"data\"] = this.state.photo;\n    delete input.data.blob;\n    delete input.data.longitude;\n    delete input.data.latitude;\n\n    console.log(\"input\", input);\n\n    const data = await graphQLFetch(query, { input }, true);\n\n    if (data) {\n      console.log(\"photo page created, uploading foto..\");\n      //after pages is created, use refId to upload files with xhr request\n\n      const redirect = () => {\n        //if the query returns an id in data, the photo is created\n        // redirect to created photo\n        this.props.redirect(data.createPhoto.photo.slug);\n      };\n\n      const formData = new FormData();\n\n      const { blob: uploadedFile } = this.state;\n\n      formData.append(`files`, uploadedFile, uploadedFile.name);\n      formData.append(\"ref\", \"photo\");\n      formData.append(\"field\", \"photo\");\n      formData.append(\"refId\", data.createPhoto.photo.id);\n\n      const request = new XMLHttpRequest();\n      request.open(\"POST\", `http://localhost:1337/upload`);\n      request.send(formData);\n      request.addEventListener(\"load\", redirect);\n    } else {\n      console.log(\"failed\");\n    }\n  }\n\n  photoValidation = (file) => {\n    if (file.size > 27000000) {\n      this.setState((prevState) => ({\n        ...prevState,\n        invalidFields: {\n          ...prevState.invalidFields,\n          blob: \"Selecteer een afbeelding kleiner dan 27MB.\",\n        },\n      }));\n      return;\n    } else {\n      this.setState((prevState) => {\n        const invalidFields = { ...prevState.invalidFields };\n        if (invalidFields.hasOwnProperty(\"blob\")) delete invalidFields[\"blob\"];\n        return { invalidFields };\n      });\n    }\n  };\n\n  onFileChange = async (e) => {\n    const file = e.target.files[0];\n    this.setState({ blob: e.target.files[0] });\n\n    this.photoValidation(file);\n\n    this.setState({\n      photoLoading: true,\n    });\n\n    var reader = new FileReader();\n    reader.onload = () => {\n      this.setState({\n        photoLoading: false,\n        tempFile: URL.createObjectURL(file),\n      });\n    };\n    reader.readAsDataURL(file);\n\n    let exifrGps = await exifr.gps(file);\n    let output = await exifr.parse(file, [\"LensModel\"]);\n\n    // if the photo contains gps data\n    if (exifrGps) {\n      let { longitude, latitude } = exifrGps;\n      this.setState((prevState) => ({\n        ...prevState,\n        locationKnown: true,\n        photo: { ...prevState.photo, longitude, latitude },\n      }));\n    }\n\n    if (file && file.name) {\n      EXIF.getData(file, () => {\n        let exifData = EXIF.pretty(file);\n        if (\n          exifData &&\n          EXIF.getTag(file, \"ExposureTime\") &&\n          EXIF.getTag(file, \"ISOSpeedRatings\") &&\n          EXIF.getTag(file, \"FNumber\")\n        ) {\n          let date = EXIF.getTag(file, \"DateTime\");\n          if (date) {\n            let splittedDate = EXIF.getTag(file, \"DateTime\")\n              .substr(0, 10)\n              .split(\":\");\n            const year = splittedDate[0];\n            const month = splittedDate[1];\n            const day = splittedDate[2];\n            let dateVal = `${year}-${month}-${day}`;\n\n            this.setState((prevState) => ({\n              ...prevState,\n              photo: { ...prevState.photo, date: dateVal },\n            }));\n          }\n\n          const shutterVal =\n            EXIF.getTag(file, \"ExposureTime\").numerator /\n            EXIF.getTag(file, \"ExposureTime\").denominator;\n          let shutterspeedVal =\n            shutterVal > 1 ? shutterVal : \"1/\" + 1 / shutterVal;\n          let ISOVal = EXIF.getTag(file, \"ISOSpeedRatings\");\n          let apertureVal =\n            EXIF.getTag(file, \"FNumber\").numerator /\n            EXIF.getTag(file, \"FNumber\").denominator;\n          let focalLengthVal = EXIF.getTag(file, \"FocalLength\") + \"mm\";\n          let cameraVal = EXIF.getTag(file, \"Model\");\n\n          this.setState((prevState) => ({\n            ...prevState,\n            photo: {\n              ...prevState.photo,\n              shutterspeed: shutterspeedVal,\n              iso: ISOVal,\n              aperture: apertureVal,\n              focalLength: focalLengthVal,\n              camera: cameraVal,\n            },\n          }));\n        } else {\n          this.setState((prevState) => ({\n            ...prevState,\n            photo: {\n              ...prevState.photo,\n              date: \"\",\n              shutterspeed: \"\",\n              iso: \"\",\n              aperture: \"\",\n              focalLength: \"\",\n              camera: \"\",\n            },\n          }));\n        }\n      });\n    } else {\n      this.setState((prevState) => ({\n        ...prevState,\n        photo: {\n          ...prevState.photo,\n          date: \"\",\n          shutterspeed: \"\",\n          iso: \"\",\n          aperture: \"\",\n          focalLength: \"\",\n          camera: \"\",\n        },\n      }));\n    }\n  };\n\n  handleInputChange = (event, property) => {\n    console.log(\"handling on input chagne\");\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState((prevState) => {\n      let stateFields;\n      if (property === \"location\") {\n        console.log(\"setting location state\");\n        stateFields = {\n          ...prevState,\n          location: { ...prevState.location, [name]: value },\n        };\n      } else {\n        stateFields = {\n          ...prevState,\n          photo: { ...prevState.photo, [name]: value },\n        };\n      }\n\n      const invalidFields = { ...prevState.invalidFields };\n      if (this.state.photo.title && this.state.invalidFields.title)\n        delete invalidFields[\"title\"];\n      stateFields[\"invalidFields\"] = invalidFields;\n      return stateFields;\n    });\n  };\n\n  removeImage = () => {\n    console.log(\"remove\");\n    this.setState({\n      tempFile: null,\n      photo: {},\n      blob: null,\n      locationKnown: false,\n    });\n  };\n\n  handleOnDrop = (e) => {\n    console.log(\"handleOnDrop fired\", e);\n  };\n  handleOnDragOver = (e) => {\n    this.setState({ onDragOver: true });\n  };\n  handleOnDragLeave = (e) => {\n    this.setState({ onDragOver: false });\n  };\n\n  checkForAvailableSlug = async (slug) => {\n    let query = `query photoBySlug($slug: String!){\n            photoBySlug(slug: $slug) {\n                title\n            }\n        }`;\n\n    const result = await graphQLFetch(query, { slug }, true);\n    return result;\n  };\n\n  createSlug = async (slug, suffix, previousSuffix) => {\n    var result = await this.checkForAvailableSlug(slug);\n\n    if (!result.photoBySlug) {\n      // slug is available, proceed\n      return slug;\n    } else {\n      // slug is not available, try again\n\n      if (!suffix) {\n        suffix = 1;\n      } else {\n        suffix++;\n      }\n      var n = str.lastIndexOf(previousSuffix);\n      slug.replace(previousSlug, \"\");\n\n      const createdSuffix = \"-\" + suffix;\n      let adjustedSlug = slug + reactedSlug;\n      return this.createSlug(adjustedSlug, suffix, createdSuffix);\n    }\n  };\n\n  render() {\n    const { location } = this.state;\n    if (location === null) {\n      return null;\n    }\n\n    let btnClass = \"block px-3 py- my-2 text-white rounded text-l\";\n    let disabled =\n      this.state.photo.title === undefined ||\n      this.state.photo.title === \"\" ||\n      this.state.blob === null\n        ? true\n        : false;\n    btnClass += disabled ? \" bg-gray-400\" : \" bg-blue-600\";\n\n    return (\n      <>\n        <form\n          name=\"photoAdd\"\n          encType=\"multipart/form-data\"\n          onSubmit={this.handleSubmit}\n          className=\"photoAdd block py-3 px-4 border border-gray-300 rounded md:mx-auto md:my-6 md:w-9/12 lg:w-1/2 rounded md:shadow-lg md:p-6\"\n        >\n          <div className=\"block mb-2\">\n            <div className=\"w-full rounded p-2 border\">\n              <p className=\"font-bold\">\n                Foto toevoegen aan locatie: {location.title}\n              </p>\n            </div>\n          </div>\n          <AddPhoto\n            state={this.state}\n            fileInput={this.fileInput}\n            onFileChange={this.onFileChange}\n            onChange={this.handleInputChange}\n            handleOnDrop={this.handleOnDrop}\n            handleOnDragOver={this.handleOnDragOver}\n            handleOnDragLeave={this.handleOnDragLeave}\n            removeImage={this.removeImage}\n          />\n          <button disabled={disabled} type=\"submit\" className={btnClass}>\n            Uploaden\n          </button>\n        </form>\n      </>\n    );\n  }\n}\n","/* globals React */\nimport React, { Component } from \"react\";\nimport { Link, withRouter, NavLink } from \"react-router-dom\";\nimport { CgTrash } from \"react-icons/cg\";\n\nexport const PhotoView = withRouter(\n  ({ photo, location: { search }, deletePhoto, index }) => {\n    const selectedLocation = { pathname: `/foto/${photo.slug}`, search };\n    return (\n      <React.Fragment>\n        <div className=\"w-full inline-block my-2 mr-2\">\n          <div className=\"photoCard rounded relative shadow-xs\">\n            <div className=\"relative rounded overflow-hidden\">\n              <NavLink\n                to={selectedLocation}\n                className=\"absolute w-full h-full z-10\"\n                title=\"Bekijk foto nu\"\n              ></NavLink>\n              <img\n                src={photo.photo[0].url}\n                className=\"object-cover  w-full h-48  block\"\n                alt=\"Foto\"\n              />\n            </div>\n          </div>\n          <div className=\"photoContent pt-2\">\n            <span className=\"text-black\">\n              {\n                // convert date type to a readable date string\n                photo.date && photo.date.toDateString()\n              }\n            </span>\n            <div className=\"photoInfo flex\">\n              <div>\n                <h3 className=\"text-black\">{photo.title}</h3>\n                <span className=\"text-black\">{photo.location.title}</span>\n              </div>\n              {/* <p className=\"text-black\">{photo.category}</p> */}\n              {deletePhoto != null && (\n                <div\n                  onClick={\n                    deletePhoto != null &&\n                    (() => {\n                      if (\n                        window.confirm(\n                          \"Weet je zeker dat je deze foto wilt verwijderen?\"\n                        )\n                      )\n                        deletePhoto(index);\n                    })\n                  }\n                  className=\"rounded w-8 h-8 bg-red-700 ml-auto flex items-center justify-center\"\n                >\n                  <CgTrash className=\"w-4 h-4 stroke-current text-white\" />\n                </div>\n              )}\n            </div>\n            <div className=\"clear\"></div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n);\n\nexport default function PhotoCarousel({ photos, deletePhoto }) {\n  const photoViews = photos.map((photo, index) => (\n    <PhotoView\n      key={photo.id}\n      index={index}\n      deletePhoto={deletePhoto}\n      photo={photo}\n    />\n  ));\n  return <div className=\"-mx-2\">{photoViews}</div>;\n}\n","/* globals React */\n/* eslint \"react/jsx-no-undef\":\"off\" */\n\nimport React, { Component, Fragment } from \"react\";\nimport graphQLFetch from \"./graphQLFetch.js\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet-universal\";\nimport { Link } from \"react-router-dom\";\nimport store from \"./store.js\";\nimport { Redirect } from \"react-router-dom\";\nimport userIcon from \"./images/userMarker.svg\";\nimport locationIcon from \"./images/locationMarker.svg\";\nimport shadowIcon from \"./images/markerShadow.png\";\nimport { userContext } from \"./services/userContext.js\";\nimport FavButton from \"./components/favButton.jsx\";\nimport UserProfilePicture from \"./components/UserProfilePicture.jsx\";\nimport PhotoComment from \"./components/Comments/Comments.jsx\";\nimport { IoCameraOutline } from \"react-icons/io5\";\nimport { GoSettings } from \"react-icons/go\";\n\nexport default class PhotoDetailStrapi extends React.Component {\n  static async fetchData(match, search, showError) {\n    // build the graphql query\n    const query = `query photoBySlug($slug: String!){\n                    photoBySlug(slug: $slug) {\n                      id\n                      title\n                      desc\n                      photo {\n                          url\n                      }\n                      slug\n                      date\n                      brand\n                      shutterspeed\n                      iso\n                      aperture\n                      camera\n                      comments {\n                        id\n                        body\n                        parent {\n                          id\n                        }\n                        user {\n                          profilePicture {\n                            url\n                          }\n                          slug\n                          username \n                          firstname\n                          lastname\n                        }\n                      }\n                      likes\n                      focalLength\n                      usersLike {\n                        id\n                      }\n                      location {\n                          longitude\n                          latitude\n                          id\n                          title\n                          slug\n                      }\n                      user {\n                        id\n                        slug\n                        username\n                        profilePicture {\n                          url\n                        }\n                      }\n                    }\n                  }`;\n\n    let {\n      params: { id: slug },\n    } = match;\n    const result = await graphQLFetch(query, { slug }, true);\n    console.log(result);\n    return result;\n  }\n\n  constructor() {\n    super();\n    const photoBySlug = store.initialData\n      ? store.initialData.photoBySlug\n      : null;\n    delete store.initialData;\n    this.state = {\n      isServer: true,\n      photoBySlug,\n      redirect: false,\n      zoom: 13,\n      userLocationKnown: false,\n      userMarker: null,\n      userLocation: {\n        longitude: null,\n        latitude: null,\n      },\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: {\n        params: { id: prevId },\n      },\n    } = prevProps;\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n    if (prevId !== id) {\n      this.loadData();\n    }\n  }\n\n  componentDidMount() {\n    const { photoBySlug } = this.state;\n    if (photoBySlug === null) {\n      this.loadData();\n    }\n\n    // loading leaflet in componentDidMount because it doenst support SSR\n    const L = require(\"leaflet\");\n\n    const userMarker = new L.Icon({\n      iconUrl: userIcon,\n      iconRetinaUrl: userIcon,\n\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n    });\n\n    delete L.Icon.Default.prototype._getIconUrl;\n\n    L.Icon.Default.mergeOptions({\n      iconUrl: locationIcon,\n      iconRetinaUrl: locationIcon,\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n    });\n\n    // get users position\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    const success = (pos) => {\n      var crd = pos.coords;\n\n      console.log(\"Your current position is:\");\n      console.log(`Latitude : ${crd.latitude}`);\n      console.log(`Longitude: ${crd.longitude}`);\n      console.log(`More or less ${crd.accuracy} meters.`);\n\n      this.setState((prevState) => ({\n        ...prevState,\n        userMarker,\n        userLocationKnown: true,\n        userLocation: { longitude: crd.longitude, latitude: crd.latitude },\n      }));\n    };\n\n    const error = (err) => {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n\n      fetch(\"https://ipapi.co/json\")\n        .then((res) => res.json())\n        .then((location) => {\n          this.setState((prevState) => ({\n            ...prevState,\n            userMarker,\n            userLocationKnown: true,\n            userLocation: {\n              longitude: location.longitude,\n              latitude: location.latitude,\n            },\n          }));\n        });\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n    this.setState({ isServer: false });\n  }\n\n  async loadData() {\n    // get the search query string form url\n    const { match } = this.props;\n    // provide the query with the variables\n    const data = await PhotoDetailStrapi.fetchData(match);\n    if (data.photoBySlug != null) {\n      this.setState({ photoBySlug: data.photoBySlug });\n    } else {\n      this.setState({ redirect: true });\n    }\n  }\n\n  updateFav = async (user, likedId, action) => {\n    const query = `\n      mutation updateUser($input:updateUserInput) {\n        updateUser(input: $input) {\n          user {\n            likedPhotos {\n              id\n            }\n          }\n        }\n      }`;\n\n    let favArray = user.likedPhotos.map((fav) => fav.id);\n\n    if (action === \"add\") {\n      if (!favArray.includes(likedId)) {\n        favArray.push(likedId);\n      } else {\n        // already in favourites\n        return;\n      }\n    } else if (action === \"remove\") {\n      if (favArray.includes(likedId)) {\n        // likedId is in array, so remove it from array\n        const index = favArray.indexOf(likedId);\n        if (index > -1) {\n          favArray.splice(index, 1);\n        }\n      } else {\n        // not in favourites\n        return;\n      }\n    }\n\n    const variables = {\n      input: {\n        where: {\n          id: user.id,\n        },\n        data: {\n          likedPhotos: favArray,\n        },\n      },\n    };\n\n    const data = await graphQLFetch(query, variables, true);\n  };\n\n  addComment = async (data) => {\n    console.log(data);\n\n    const query = `mutation createPhotoComment($input: createPhotoCommentInput){\n      createPhotoComment(\n        input: $input\n      ) {\n        photoComment {\n          body\n          id\n          parent {\n            id\n          }\n          user {\n            id\n            firstname\n            lastname\n            profilePicture {\n              url\n            }\n            slug\n            username\n          }\n        }\n      }\n    }`;\n\n    let input = { input: data };\n    console.log(input);\n\n    const response = await graphQLFetch(query, input, true, true);\n    console.log(response);\n\n    if (response) {\n      if (!response.errors) {\n        let _comments = [...this.state.photoBySlug.comments];\n        _comments.push({\n          body: response.createPhotoComment.photoComment.body,\n          id: response.createPhotoComment.photoComment.id,\n          parent: response.createPhotoComment.photoComment.parent,\n          user: response.createPhotoComment.photoComment.user,\n        });\n        this.setState((prevState) => ({\n          photoBySlug: { ...prevState.photoBySlug, comments: _comments },\n        }));\n      } else {\n        console.log(\"an error happened\");\n      }\n    }\n  };\n\n  render() {\n    const { photoBySlug, redirect, isServer } = this.state;\n    if (redirect) {\n      return <Redirect to=\"/niet-gevonden\" />;\n    }\n    if (photoBySlug === null) {\n      return null;\n    } else {\n      console.log(photoBySlug);\n    }\n\n    const { userLocation, userLocationKnown, userMarker } = this.state;\n\n    const position = [\n      photoBySlug.location.latitude,\n      photoBySlug.location.longitude,\n    ];\n    const calculatedUserLocation = userLocation.latitude\n      ? [userLocation.latitude, userLocation.longitude]\n      : null;\n\n    return (\n      <div id=\"page\">\n        <div\n          className=\"w-full flex flex-col justify-center items-center relative bg-black\"\n          style={{\n            height: \"80vh\",\n          }}\n        >\n          <img\n            className=\"px-6 py-6 h-full w-full object-contain\"\n            src={photoBySlug.photo[0].url}\n            alt={photoBySlug.title}\n          />\n\n          {!isServer && (\n            <div className=\"absolute right-0 bottom-0 m-6\">\n              <userContext.Consumer>\n                {(value) => {\n                  if (value.user) {\n                    let favourite;\n                    if (\n                      value.user &&\n                      photoBySlug.usersLike.filter(\n                        (favourites) => favourites.id === value.user.id\n                      ).length > 0\n                    ) {\n                      favourite = true;\n                    } else {\n                      favourite = false;\n                    }\n                    return (\n                      <FavButton\n                        favourite={favourite}\n                        updateFav={this.updateFav}\n                        user={value.user}\n                        likedId={photoBySlug.id}\n                        addTitle=\"Toevoegen aan favorieten\"\n                        removeTitle=\"Verwijderen uit favorieten\"\n                      />\n                    );\n                  }\n                }}\n              </userContext.Consumer>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-6\">\n          <div className=\"container mx-auto sm:mt-6\">\n            <div className=\"block sm:flex\">\n              <div id=\"photoInfo\" className=\"w-full sm:mr-6 md:mr-12\">\n                <h1 className=\"text-2xl font-bold mb-1 text-gray-800 block\">\n                  {photoBySlug.title}\n                </h1>\n                <p className=\"text-gray-600 mb-6\">{photoBySlug.desc}</p>\n\n                <hr />\n\n                <PhotoComment\n                  comments={photoBySlug.comments}\n                  photoId={photoBySlug.id}\n                  addComment={this.addComment}\n                />\n              </div>\n\n              <div className=\"w-full\">\n                <div className=\"relative block sm:flex sm:items-center sm:w-full\">\n                  <Link\n                    className=\"top-0 left-0 h-full w-full absolute\"\n                    to={`/fotograaf/${photoBySlug.user.slug}`}\n                  />\n                  <div className=\"mx-auto sm:mx-0 mb-2 sm:mr-4\">\n                    <UserProfilePicture profile={photoBySlug.user} />\n                  </div>\n                  <h1 className=\"font-bold text-xl leading-tight\">\n                    {photoBySlug.user.username}\n                  </h1>\n                </div>\n\n                <div className=\"my-4\">\n                  {photoBySlug.camera && (\n                    <div className=\"flex items-center mb-3\">\n                      <div className=\"mr-2\">\n                        <IoCameraOutline className=\"text-2xl\" />\n                      </div>\n                      <div>{photoBySlug.camera}</div>\n                    </div>\n                  )}\n                  {(photoBySlug.focalLength ||\n                    photoBySlug.aperture ||\n                    photoBySlug.iso ||\n                    photoBySlug.shutterspeed) && (\n                    <div className=\"flex items-center\">\n                      <div className=\"mr-2\">\n                        <GoSettings className=\"text-2xl\" />\n                      </div>\n                      {photoBySlug.focalLength && (\n                        <div className=\"mr-2\">{photoBySlug.focalLength}</div>\n                      )}\n                      {photoBySlug.aperture && (\n                        <div className=\"mr-2\">{photoBySlug.aperture}</div>\n                      )}\n                      {photoBySlug.iso && (\n                        <div className=\"mr-2\">{photoBySlug.iso}</div>\n                      )}\n                      {photoBySlug.shutterspeed && (\n                        <div className=\"mr-2\">{photoBySlug.shutterspeed}</div>\n                      )}\n                    </div>\n                  )}\n                </div>\n\n                <Link to={`/fotolocatie/${photoBySlug.location.slug}`}>\n                  <h2>{photoBySlug.location.title}</h2>\n                </Link>\n                <Map\n                  className=\"map\"\n                  id=\"photoLocation\"\n                  center={position}\n                  zoom={this.state.zoom}\n                >\n                  <TileLayer\n                    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  />\n                  <Marker position={position}>\n                    <Popup>Foto locatie</Popup>\n                  </Marker>\n                  {userLocationKnown && (\n                    <Marker position={calculatedUserLocation} icon={userMarker}>\n                      <Popup>Jouw locatie</Popup>\n                    </Marker>\n                  )}\n                </Map>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component, useState, useEffect } from \"react\";\nimport graphQLFetch from \"./graphQLFetch.js\";\nimport store from \"./store.js\";\nimport { FiEdit2, FiPlus } from \"react-icons/fi\";\nimport { MdEdit } from \"react-icons/md\";\nimport { TiLocation } from \"react-icons/ti\";\nimport { userContext } from \"./services/userContext.js\";\nimport { PhotoView } from \"./PhotoCarousel.jsx\";\nimport { Link } from \"react-router-dom\";\nimport FollowButton from \"./components/followButton.jsx\";\nimport useConstructor from \"./components/ConstructorHook.jsx\";\nimport UserProfilePicture from \"./components/UserProfilePicture.jsx\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst UserProfile = (props) => {\n  const [profile, setProfile] = useState(null);\n  const history = useHistory();\n\n  const getInitialProfile = async (props) => {\n    let _profile = store.initialData ? store.initialData : null;\n    delete store.initialData;\n    if (!_profile) {\n      _profile = await UserProfile.fetchData(props.match);\n    }\n    setProfile(_profile);\n  };\n\n  const getProfile = async () => {\n    const _profile = await UserProfile.fetchData(props.match);\n    setProfile(_profile);\n  };\n\n  useConstructor(() => {\n    getInitialProfile(props);\n  });\n\n  useEffect(() => {\n    getProfile();\n  }, [props]);\n\n  const updateFollow = async (followId, action) => {\n    //console.log(followId);\n    const query = `\n      mutation updateUser($input:updateUserInput) {\n        updateUser(input: $input) {\n          user {\n            followers {\n              id\n            }\n          }\n        }\n      }`;\n\n    let profileFollowersArray = profile.followers.map(\n      (following) => following.id\n    );\n\n    //console.log(\"before adjusting\", profileFollowersArray);\n\n    // if the id that is being followed is not already in the array, add it\n    if (!profileFollowersArray.includes(followId)) {\n      profileFollowersArray.push(followId);\n    } else if (profileFollowersArray.includes(followId)) {\n      // followId is in array, so remove it from array\n      const index = profileFollowersArray.indexOf(followId);\n      if (index > -1) {\n        profileFollowersArray.splice(index, 1);\n      }\n    }\n\n    //console.log(\"after adjusting\", profileFollowersArray);\n\n    const variables = {\n      input: {\n        where: {\n          id: profile.id,\n        },\n        data: {\n          followers: profileFollowersArray,\n        },\n      },\n    };\n\n    let prevProfile = { ...profile };\n    let _profile = { ...profile };\n\n    let newFollowArray = profileFollowersArray.map((following) => {\n      return { id: following };\n    });\n\n    _profile.followers = newFollowArray;\n    setProfile(_profile);\n\n    const data = await graphQLFetch(query, variables, true, true);\n\n    if (data) {\n      if (data.errors) {\n        console.log(\"an error happened\");\n        setProfile(prevProfile);\n      }\n    }\n  };\n\n  const deletePhoto = async (index) => {\n    const query = `mutation photoDelete($input:deletePhotoInput) {\n      deletePhoto(input: $input) {\n        photo {\n          id\n        }\n      }\n    }`;\n\n    const prevProfile = { ...profile };\n\n    const { photos } = profile;\n    const newList = [...photos];\n    newList.splice(index, 1);\n    const _profile = { ...profile };\n    _profile.photos = newList;\n    setProfile(_profile);\n\n    // get the id of the photo to be deleted\n    const { id } = photos[index];\n\n    const variables = {\n      input: {\n        where: {\n          id,\n        },\n      },\n    };\n\n    // execute the query\n    const data = await graphQLFetch(query, variables, true, true);\n\n    if (data) {\n      if (data.errors) {\n        console.log(\"an error happened\");\n        setProfile(prevProfile);\n      }\n    }\n  };\n\n  return (\n    <userContext.Consumer>\n      {(value) => {\n        //console.log(\"value\", value);\n        if (value.user) {\n          return (\n            <UserProfileComponent\n              curUser={value.user}\n              profile={profile}\n              updateFollow={updateFollow}\n              deletePhoto={deletePhoto}\n            />\n          );\n        } else {\n          return (\n            <UserProfileComponent\n              curUser={null}\n              profile={profile}\n              updateFollow={updateFollow}\n              deletePhoto={deletePhoto}\n            />\n          );\n        }\n      }}\n    </userContext.Consumer>\n  );\n};\n\nexport default UserProfile;\n\nUserProfile.fetchData = async (match, search, showError) => {\n  console.log(match);\n\n  const query = `query profile($slug: String!) {\n          users( where: { slug: $slug } ) {\n            username\n            profilePicture {\n              url\n            }\n            email\n            id\n            slug\n            location\n            followers{\n              id\n            }\n            followings {\n              id\n            }\n            photos {\n              likes\n              id\n              title\n              slug\n              location {\n                longitude\n                latitude\n                id\n                title\n                slug\n              }\n              photo {\n                id\n                name\n                url\n              }\n            }\n          }\n        }`;\n\n  let {\n    params: { slug },\n  } = match;\n  const result = await graphQLFetch(query, { slug }, true);\n  return result.users[0];\n};\n\nconst UserProfileComponent = (props) => {\n  const { curUser, profile, updateFollow, deletePhoto } = props;\n  if (profile === null) {\n    console.log(\"return null from render\");\n    return null;\n  }\n\n  const [isServer, setIsServer] = useState(true);\n\n  useEffect(() => {\n    setIsServer(false);\n  }, []);\n\n  //console.log(\"curUser\", props);\n\n  const followCount = profile.followers.length;\n  console.log(\n    \"userProfileComponent rendered again, followCount: \",\n    followCount,\n    profile\n  );\n  const filterResult =\n    curUser &&\n    profile.followers.filter((followers) => followers.id === curUser.id);\n  //console.log(filterResult);\n  const followsUser = curUser\n    ? profile.followers.filter((followers) => followers.id === curUser.id)\n        .length > 0\n    : 0;\n\n  let numberOfLikes = 0;\n  if (profile.photos.length > 0) {\n    for (let i = 0; i < profile.photos.length; i++) {\n      numberOfLikes = numberOfLikes + profile.photos[i].likes;\n    }\n  }\n  console.log(profile);\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"container\">\n        <div className=\"sm:flex sm:items-center\">\n          <div className=\"block sm:flex sm:items-center sm:w-full\">\n            <div className=\"mx-auto sm:mx-0 mb-2 sm:mr-4\">\n              <UserProfilePicture profile={profile} />\n            </div>\n            <div className=\"sm:w-full\">\n              <h1 className=\"font-bold text-xl leading-tight text-center sm:text-left\">\n                {profile.username}\n              </h1>\n              <div className=\"\">\n                <p className=\"flex items-center text-gray-400 text-sm text-center justify-center sm:justify-start\">\n                  <TiLocation />\n                  &nbsp;\n                  {profile.location}\n                </p>\n              </div>\n\n              <div className=\"hidden sm:block\">\n                <div className=\"flex justify-between sm:justify-start mt-2 w-full\">\n                  <p className=\"mr-2 text-center sm:mr-3\">\n                    <span className=\"block sm:inline-block font-bold text-sm sm:mr-1\">\n                      {followCount}\n                    </span>\n                    <span className=\"text-gray-500 text-sm\">\n                      {followCount === 1 ? \"volger\" : \"volgers\"}\n                    </span>\n                  </p>\n                  <p className=\"mr-2 text-center sm:mr-3\">\n                    <span className=\"block sm:inline-block font-bold text-sm sm:mr-1\">\n                      {profile.followings.length}\n                    </span>\n                    <span className=\"text-gray-500 text-sm\">volgend</span>\n                  </p>\n                  <p className=\"mr-2 text-center sm:mr-3\">\n                    <span className=\"block sm:inline-block font-bold text-sm sm:mr-1\">\n                      {numberOfLikes}\n                    </span>\n                    <span className=\"text-gray-500 text-sm\">likes</span>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {!isServer && curUser && curUser.id !== profile.id && (\n            <FollowButton\n              follow={followsUser}\n              updateFollow={updateFollow}\n              followId={curUser.id}\n            />\n          )}\n          {!isServer && curUser && curUser.id === profile.id && (\n            <Link\n              to={`/profiel/bewerken/${profile.slug}`}\n              className=\"ml-auto my-1 rounded bg-blue-500 hover:bg-blue-600 text-white p-1 sm:p-3 text-xl flex justify-center items-center editProfile\"\n            >\n              <MdEdit />\n            </Link>\n          )}\n\n          <div className=\"sm:hidden\">\n            <div className=\"flex justify-between mt-2\">\n              <p className=\"mr-2 text-center\">\n                <span className=\"block font-bold text-sm\">{followCount}</span>\n                <span className=\"text-gray-500 text-sm\">\n                  {followCount === 1 ? \"volger\" : \"volgers\"}\n                </span>\n              </p>\n              <p className=\"mr-2 text-center\">\n                <span className=\"block font-bold text-sm\">\n                  {profile.followings.length}\n                </span>\n                <span className=\"text-gray-500 text-sm\">volgend</span>\n              </p>\n              <p className=\"mr-2 text-center\">\n                <span className=\"block font-bold text-sm\">{numberOfLikes}</span>\n                <span className=\"text-gray-500 text-sm\">likes</span>\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n          {profile.photos.map((photo, index) => (\n            <PhotoView\n              key={photo.id}\n              index={index}\n              deletePhoto={\n                !isServer && curUser && curUser.id === profile.id\n                  ? deletePhoto\n                  : null\n              }\n              photo={photo}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { Component } from \"react\";\nimport graphQLFetch from \"./graphQLFetch.js\";\nimport store from \"./store.js\";\nimport { FaUserSecret } from \"react-icons/fa\";\nimport Form from \"./Form.jsx\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport Joi from \"@hapi/joi\";\nimport slugify from \"slugify\";\n\nclass dataEdit extends Form {\n  static async fetchData(match, search, showError) {\n    console.log(match);\n\n    const query = `query data($slug: String!) {\n            users( where: { slug: $slug } ) {\n              username\n\t\t\t        email\n              id\n              firstname\n              lastname\n              location\n              profilePicture {\n                url\n              }\n            }\n          }`;\n\n    let {\n      params: { slug },\n    } = match;\n    console.log(slug);\n    const result = await graphQLFetch(query, { slug }, true);\n    console.log(result);\n    return result;\n  }\n\n  componentDidMount() {\n    const { data } = this.state;\n    if (data === null) {\n      this.loadData();\n    }\n  }\n\n  constructor() {\n    super();\n    console.log(\"store: \", store.initialData);\n    const data = store.initialData ? store.initialData.users[0] : null;\n    console.log(\"data: \", data);\n    delete store.initialData;\n    this.state = {\n      data,\n      errors: {},\n      photoLoading: false,\n      tempFile: null,\n      saving: false,\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(prevProps);\n    const {\n      match: {\n        params: { slug: prevSlug },\n      },\n    } = prevProps;\n    const {\n      match: {\n        params: { slug },\n      },\n    } = this.props;\n    if (prevSlug !== slug) {\n      this.loadData();\n    }\n  }\n\n  schema = {\n    email: Joi.string()\n      .email({ tlds: { allow: false } })\n      .required()\n      .messages({\n        \"string.empty\": `Vul je je email nog even in? 😉`,\n        \"any.required\": `Vul je je email nog even in? 😉`,\n        \"string.email\": `Vul je een geldig adres in? 😉`,\n        \"any.invalid\": `Dit email adres is al ingebruik.`,\n      }),\n    firstname: Joi.string().required().messages({\n      \"string.empty\": `Vul je je voornaam nog even in? 😉`,\n      \"any.required\": `Vul je je voornaam nog even in? 😉`,\n    }),\n    lastname: Joi.string().required().messages({\n      \"string.empty\": `Vul je je achternaam nog even in? 😉`,\n      \"any.required\": `Vul je je achternaam nog even in? 😉`,\n    }),\n    username: Joi.string().regex(/^\\S*$/).required().messages({\n      \"string.empty\": `Vul je je gebruikersnaam nog even in? 😉`,\n      \"any.required\": `Vul je je gebruikersnaam nog even in? 😉`,\n      \"string.pattern.base\": \"Gebruikersnaam kan geen spaties bevatten\",\n    }),\n    location: Joi.string(),\n  };\n\n  async loadData() {\n    // get the search query string form url\n    const { match } = this.props;\n    // provide the query with the variables\n    const data = await dataEdit.fetchData(match);\n    console.log(\"loaded data: \", data);\n    if (data) {\n      this.setState({ data: data.users[0] });\n    }\n  }\n\n  uploadFile = (file, redirect, newSlug) => {\n    const formData = new FormData();\n\n    formData.append(`files`, file, file.name);\n    formData.append(\"ref\", \"user\");\n    formData.append(\"source\", \"users-permissions\"); // Plugin name.\n    formData.append(\"field\", \"profilePicture\");\n    formData.append(\"refId\", this.state.data.id);\n\n    const request = new XMLHttpRequest();\n    request.open(\"POST\", `http://localhost:1337/upload`);\n    request.send(formData);\n    request.addEventListener(\"load\", redirect(newSlug));\n  };\n\n  async doSubmit(e) {\n    this.setState({ saving: true });\n    const {\n      blob: uploadedFile,\n      data: { username, id: userId },\n    } = this.state;\n\n    const redirect = (slug) => {\n      //if the query returns an id in data, the photo is created\n      // redirect to created photo\n      const doRedirect = () => {\n        const { history } = this.props;\n        history.push({\n          pathname: `/fotograaf/${slug}`,\n        });\n      };\n      setTimeout(doRedirect, 2000);\n      //window.location = `/fotograaf/${slug}`;\n    };\n\n    // update the fields\n    const query = `\n      mutation updateUser($input:updateUserInput) {\n        updateUser(input: $input) {\n          user {\n            slug\n          }\n        }\n      }`;\n\n    const variables = {\n      input: {\n        where: {\n          id: userId,\n        },\n        data: {\n          ...this.state.data,\n        },\n      },\n    };\n\n    delete variables.input.data.profilePicture;\n    delete variables.input.data.id;\n\n    variables.input.data.slug = slugify(username, {\n      replacement: \"-\", // replace spaces with replacement character, defaults to `-`\n      remove: undefined, // remove characters that match regex, defaults to `undefined`\n      lower: true, // convert to lower case, defaults to `false`\n      strict: true, // strip special characters except replacement, defaults to `false`\n    });\n\n    const data = await graphQLFetch(query, variables, true);\n\n    if (data.updateUser) {\n      if (uploadedFile !== null && uploadedFile !== undefined) {\n        console.log(\"in upload file\");\n        this.uploadFile(uploadedFile, redirect, data.updateUser.user.slug);\n      } else {\n        console.log(\"straight to redirect\");\n        redirect(data.updateUser.user.slug);\n      }\n    }\n  }\n\n  photoValidation = (file) => {\n    if (file.size > 27000000) {\n      this.setState((prevState) => ({\n        ...prevState,\n        invalidFields: {\n          ...prevState.invalidFields,\n          blob: \"Selecteer een afbeelding kleiner dan 27MB.\",\n        },\n      }));\n      return;\n    } else {\n      this.setState((prevState) => {\n        const invalidFields = { ...prevState.invalidFields };\n        if (invalidFields.hasOwnProperty(\"blob\")) delete invalidFields[\"blob\"];\n        return { invalidFields };\n      });\n    }\n  };\n\n  onFileChange = async (e) => {\n    const file = e.target.files[0];\n    this.setState({ blob: e.target.files[0] });\n\n    this.photoValidation(file);\n\n    this.setState({\n      photoLoading: true,\n    });\n\n    var reader = new FileReader();\n    reader.onload = () => {\n      this.setState({\n        photoLoading: false,\n        tempFile: URL.createObjectURL(file),\n      });\n    };\n    reader.readAsDataURL(file);\n  };\n\n  removeImage = () => {\n    console.log(\"remove\");\n    this.setState({\n      tempFile: null,\n      photo: {},\n      blob: null,\n    });\n  };\n\n  render() {\n    const { data, photoLoading, tempFile } = this.state;\n    if (data === null) {\n      console.log(\"return null from render\");\n      return null;\n    }\n\n    return (\n      <form\n        name=\"profileEdit\"\n        encType=\"multipart/form-data\"\n        onSubmit={this.handleSubmit}\n      >\n        {photoLoading && (\n          <AiOutlineLoading3Quarters className=\"fill-current text-green-500\" />\n        )}\n\n        <div className=\"p-6\">\n          <div className=\"flex flex-col justify-center items-center mb-4 relative cursor-pointer\">\n            <input\n              type=\"file\"\n              name=\"blob\"\n              ref={this.fileInput}\n              onChange={this.onFileChange}\n              onDrop={this.handleOnDrop}\n              onDragOver={this.handleOnDragOver}\n              onDragLeave={this.handleOnDragLeave}\n              className=\"absolute m-0 p-0 w-full h-full outline-none pointer opacity-0 top-0 left-0\"\n            />\n\n            {tempFile ? (\n              <div\n                id=\"imagePreview\"\n                className=\"relative h-16 w-16 overflow-hidden rounded-full mb-2\"\n              >\n                {/* <div\n                      onClick={this.removeImage}\n                      className=\"border border-gray-600 rounded p-4 m-4 absolute top-0 right-0 cursor-pointer bg-black opacity-50 hover:opacity-100\"\n                    >\n                      <FiTrash2 className=\"stroke-current text-gray-100\" />\n                    </div> */}\n                <img\n                  src={tempFile}\n                  id=\"output_image\"\n                  className=\"w-auto h-16 rounded-full mb-2\"\n                />\n              </div>\n            ) : data.profilePicture !== null &&\n              data.profilePicture !== undefined ? (\n              <div\n                id=\"imagePreview\"\n                className=\"relative h-16 w-16 overflow-hidden rounded-full mb-2\"\n              >\n                <img\n                  className=\"w-auto h-16 rounded-full mb-2\"\n                  src={data.profilePicture.url}\n                ></img>\n              </div>\n            ) : (\n              <div className=\"fill-current h-16 w-16 mr-4 mb-auto text-white bg-gray-500  rounded-full flex items-center justify-center\">\n                <FaUserSecret className=\"text-2xl\" />\n              </div>\n            )}\n\n            <span className=\"font-bold text-blue-500\">\n              Profielfoto veranderen\n            </span>\n          </div>\n\n          <div className=\"flex flex-col w-full\">\n            {this.renderInput(\n              \"username\",\n              \"Gebruikersnaam\",\n              \"Gebruikersnaam\",\n              \"text\"\n            )}\n            {this.renderInput(\"email\", \"Email\", \"Email\", \"text\")}\n            {this.renderInput(\"firstname\", \"Voornaam\", \"Voornaam\", \"text\")}\n            {this.renderInput(\"lastname\", \"Achternaam\", \"Achternaam\", \"text\")}\n            {this.renderInput(\"location\", \"Woonplaats\", \"Woonplaats\", \"text\")}\n          </div>\n          {this.renderButton(\"Profiel opslaan\", this.state.saving)}\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default dataEdit;\n","import React, { useState } from \"react\";\nimport Joi from \"@hapi/joi\";\nimport Form from \"./Form.jsx\";\nimport { NavLink } from \"react-router-dom\";\nimport auth from \"./services/authService\";\nimport axios from \"axios\";\nimport { FaFacebook } from \"react-icons/fa\";\nimport slugify from \"slugify\";\n\nimport Input from \"./Input.jsx\";\nimport { FaSpinner } from \"react-icons/fa\";\n\nconst RegisterForm = () => {\n  const [data, setData] = useState({});\n  const [errors, setErrors] = useState({});\n\n  const schema = {\n    email: Joi.string()\n      .email({ tlds: { allow: false } })\n      .required()\n      .messages({\n        \"string.empty\": `Vul je je email nog even in? 😉`,\n        \"any.required\": `Vul je je email nog even in? 😉`,\n        \"string.email\": `Vul je een geldig adres in? 😉`,\n        \"any.invalid\": `Dit email adres is al ingebruik.`,\n      }),\n    password: Joi.string().required().messages({\n      \"string.empty\": `Vul je je wachtwoord nog even in? 😉`,\n      \"any.required\": `Vul je je wachtwoord nog even in? 😉`,\n    }),\n    firstname: Joi.string().required().messages({\n      \"string.empty\": `Vul je je voornaam nog even in? 😉`,\n      \"any.required\": `Vul je je voornaam nog even in? 😉`,\n    }),\n    lastname: Joi.string().required().messages({\n      \"string.empty\": `Vul je je achternaam nog even in? 😉`,\n      \"any.required\": `Vul je je achternaam nog even in? 😉`,\n    }),\n    username: Joi.string().regex(/^\\S*$/).required().messages({\n      \"string.empty\": `Vul je je gebruikersnaam nog even in? 😉`,\n      \"any.required\": `Vul je je gebruikersnaam nog even in? 😉`,\n      \"string.pattern.base\": \"Gebruikersnaam kan geen spaties bevatten\",\n    }),\n  };\n\n  const doSubmit = () => {\n    // call server\n\n    // redirect user to homepage\n    createUser();\n  };\n\n  const renderButton = (label, disable = false) => {\n    return (\n      <button\n        className={\n          \"w-full mb-2 mt-2 text-white flex items-center justify-center font-bold py-2 px-4 rounded\" +\n          (validate() || Object.keys(errors).length !== 0 || disable\n            ? \" bg-gray-500 hover:bg-gray-600\"\n            : \" bg-blue-500 hover:bg-blue-600\")\n        }\n        type=\"submit\"\n        disabled={validate() || Object.keys(errors).length !== 0 || disable}\n      >\n        {disable ? <FaSpinner className=\"animate-spin\" /> : label}\n      </button>\n    );\n  };\n\n  const handleChange = ({ currentTarget: input }) => {\n    const _errors = { ...errors };\n    const errorMessage = validateProperty(input);\n    if (errorMessage) _errors[input.name] = errorMessage;\n    else delete _errors[input.name];\n\n    const _data = { ...data };\n    _data[input.name] = input.value;\n    setData(_data);\n    setErrors(_errors);\n\n    // setInputs((inputs) => ({ ...inputs, [e.target.name]: e.target.value }));\n  };\n\n  const renderInput = (\n    name,\n    label,\n    placeholder,\n    type = \"text\",\n    classes = \"w-full\",\n    onBlur = () => {}\n  ) => {\n    return (\n      <Input\n        classes={classes}\n        name={name}\n        label={label}\n        value={data[name] || \"\"}\n        onChange={handleChange}\n        placeholder={placeholder}\n        error={errors[name]}\n        type={type}\n        onBlur={onBlur}\n      />\n    );\n  };\n\n  const onInputBlur = async (type) => {\n    // get the email entered\n    const value = data[type];\n\n    // do a query to db to check if email is available\n    let valueObj = {};\n    valueObj[type] = value;\n    const available = await auth.checkAvailability(type, valueObj);\n\n    // if email already exists, add error to email\n    if (!available) {\n      const _errors = { ...errors };\n      const errorMessage = `${\n        type.charAt(0).toUpperCase() + type.slice(1)\n      } is al in gebruik.`;\n      _errors[type] = errorMessage;\n\n      setErrors(_errors);\n\n      // else, email doesnt exists, validate property if there is a correct email and set errors if they exist\n    } else {\n      const _errors = { ...errors };\n      const errorMessage = validateProperty({\n        name: type,\n        value: value,\n      });\n      if (errorMessage) _errors[type] = errorMessage;\n      else delete _errors[type];\n\n      setErrors(_errors);\n    }\n  };\n\n  const validateProperty = ({ name, value }) => {\n    console.log(name, value);\n    const object = { [name]: value };\n    console.log(schema);\n    const _schema = Joi.object({ [name]: schema[name] });\n    const result = _schema.validate(object);\n    console.log(result);\n    const error = result.error;\n    console.log(\"returning\", error);\n    return error ? error.details[0].message : null;\n  };\n\n  const createUser = async () => {\n    let input = { ...data };\n    input[\"role\"] = \"5eef1a60e3b96d29e2d1d1ac\";\n\n    // check if slug is available, if not, add number\n    input[\"slug\"] = slugify(input.username, {\n      replacement: \"-\", // replace spaces with replacement character, defaults to `-`\n      remove: undefined, // remove characters that match regex, defaults to `undefined`\n      lower: true, // convert to lower case, defaults to `false`\n      strict: true, // strip special characters except replacement, defaults to `false`\n    });\n\n    console.log({ input: input });\n\n    const registered = await auth.register({ input: input });\n\n    if (registered === true) {\n      window.location = \"/\";\n    } else {\n      console.log(registered);\n    }\n  };\n\n  const validate = () => {\n    const options = { abortEarly: false, allowUnknown: true };\n    const schema = Joi.object({ ...schema });\n    const { error } = schema.validate(data, options);\n    console.log(error);\n    if (!error) return null;\n\n    const errors = {};\n    for (let item of error.details) {\n      errors[item.path[0]] = item.message;\n    }\n    return errors;\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = validate();\n    setErrors(errors || {});\n    if (errors) return;\n\n    doSubmit();\n  };\n\n  return (\n    <div>\n      <div className=\"block sm:flex\">\n        <form\n          onSubmit={handleSubmit}\n          className=\"bg-white w-full  px-8 md:px-16 pt-6 md:py-12 flex flex-col\"\n        >\n          <h1 className=\"font-bold mb-6 text-2xl text-green-500 text-center\">\n            Welkom bij Spotshare\n          </h1>\n          <a\n            className=\"py-3 bg-blue-500 rounded text-white flex justify-center items-center hover:pointer hover:bg-blue-600\"\n            href=\"https://d3bdf895b473.ngrok.io/connect/facebook\"\n          >\n            <FaFacebook className=\"mr-2\" /> Registreer met Facebook\n          </a>\n\n          <div className=\"flex my-4 justify-center items-center\">\n            <hr className=\"w-full border-gray-400 mt-0\" />\n            <div className=\"mx-4 text-center text-gray-500\">Of</div>\n            <hr className=\"w-full border-gray-400 mt-0\" />\n          </div>\n\n          <div className=\"flex\">\n            {renderInput(\n              \"firstname\",\n              \"Voornaam\",\n              \"Voornaam\",\n              \"text\",\n              \"w-1/2 mr-2\"\n            )}\n            {renderInput(\n              \"lastname\",\n              \"Achternaam\",\n              \"Achternaam\",\n              \"text\",\n              \"w-1/2\"\n            )}\n          </div>\n\n          {renderInput(\n            \"username\",\n            \"Gebruikersnaam\",\n            \"Gebruikersnaam\",\n            \"text\",\n            \"w-full\",\n            () => {\n              onInputBlur(\"username\");\n            }\n          )}\n          {renderInput(\"email\", \"Email\", \"Emailadres\", \"text\", \"w-full\", () => {\n            onInputBlur(\"email\");\n          })}\n          {renderInput(\n            \"password\",\n            \"Wachtwoord\",\n            \"Vul je wachtwoord in\",\n            \"password\"\n          )}\n\n          <div className=\"flex items-center justify-between\">\n            {renderButton(\"Kom bij de club!\")}\n          </div>\n          <div className=\"flex justify-center itemst-center w-full\">\n            <span className=\"text-gray-600 text-center text-sm mr-2 block\">\n              Heb je al een account?\n            </span>\n\n            <NavLink\n              className=\"block align-baseline font-bold text-sm text-blue-500 hover:text-blue-600\"\n              to=\"/inloggen\"\n            >\n              Inloggen\n            </NavLink>\n          </div>\n        </form>\n\n        <div className=\"w-full\">\n          <div\n            className=\"w-full h-full\"\n            style={{\n              backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3)), url(https://picsum.photos/1500/1500)`,\n              backgroundSize: `cover`,\n              backgroundPosition: `center center`,\n            }}\n          ></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { findNearbyLocations } from \"../FindNearbyLocations.jsx\";\n/* to support IE */\nimport store from \"../../store.js\";\nimport { LocationList } from \"../LocationCards.jsx\";\nimport useConstructor from \"../ConstructorHook.jsx\";\nimport ResultMap from \"../Results/ResultMap.jsx\";\nimport CategorieFilter from \"../Results/CategorieFilter.jsx\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport graphQLFetch from \"../../graphQLFetch.js\";\n\nconst LocationsPerCategorie = (props) => {\n  const [locations, setLocations] = useState();\n  const [filteredLocations, setFilteredLocations] = useState({});\n  const [selectedLocation, setSelectedLocation] = useState();\n  const [showMap, setShowMap] = useState(false);\n\n  let history = useHistory();\n  let location = useLocation();\n\n  useEffect(() => {\n    !locations && getLocations();\n\n    const _activeFilter = getActiveFilter();\n\n    if (locations) {\n      const _filteredLocations = locations.filter((location) => {\n        const include = location.location_categories.filter((categorie) => {\n          if (categorie.id === _activeFilter) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n        //console.log(location.id, include);\n        if (include.length > 0) return true;\n      });\n      setFilteredLocations(_filteredLocations);\n    }\n    //console.log(_filteredLocations);\n  }, [location]);\n\n  const getLocations = async () => {\n    let _locations = store.initialData ? store.initialData : null;\n    console.log(store.initialData, _locations);\n    delete store.initialData;\n    if (!_locations) {\n      console.log(\"getting locations\");\n      _locations = await LocationsPerCategorie.fetchData(\n        props.match,\n        location.search\n      );\n    }\n    setLocations(_locations.filter((location) => location.photos.length > 0));\n    console.log(_locations);\n  };\n\n  const getActiveFilter = () => {\n    const params = new URLSearchParams(location.search);\n\n    const _activeFilter = params.get(\"categorie\")\n      ? params.get(\"categorie\")\n      : \"\";\n\n    if (_activeFilter) {\n      return _activeFilter;\n    } else {\n      return false;\n    }\n  };\n\n  useConstructor(() => {\n    const _activeFilter = getActiveFilter();\n    if (_activeFilter) {\n      setActiveFilter(_activeFilter);\n    }\n    getLocations();\n    setShowMap(true);\n  });\n\n  const selectLocation = (locationId) => {\n    setSelectedLocation(locationId);\n  };\n\n  return (\n    <div className=\"relative h-screen\">\n      <div className=\"flex h-full\">\n        <div className=\"w-full p-4 h-screen overflow-scroll\">\n          <h1>Resultaten</h1>\n          {/* <div className=\"mb-2 flex\">\n            <span className=\"mr-2\">Filter op categorie:</span>\n            {locations &&\n              (filteredLocations.length > 0 ? (\n                <CategorieFilter\n                  active={activeFilter}\n                  onFilterChange={onFilterChange}\n                  categories={filteredLocations.map((location) => {\n                    return location.location_categories;\n                  })}\n                />\n              ) : (\n                <CategorieFilter\n                  active={activeFilter}\n                  onFilterChange={onFilterChange}\n                  categories={locations.map((location) => {\n                    return location.location_categories;\n                  })}\n                />\n              ))}\n          </div> */}\n          {locations &&\n            (filteredLocations.length > 0\n              ? filteredLocations.map((location) => (\n                  <div key={location.id} className=\"w-full\">\n                    <LocationList\n                      size=\"large\"\n                      location={location}\n                      key={location.id}\n                      active={selectedLocation === location.id ? true : false}\n                      selectLocation={selectLocation}\n                    />\n                  </div>\n                ))\n              : locations.map((location) => (\n                  <div key={location.id} className=\"w-full\">\n                    <LocationList\n                      size=\"large\"\n                      location={location}\n                      key={location.id}\n                      active={selectedLocation === location.id ? true : false}\n                      selectLocation={selectLocation}\n                    />\n                  </div>\n                )))}\n        </div>\n\n        <div className=\"mb-10 w-full h-full\">\n          {showMap &&\n            locations &&\n            (filteredLocations.length > 0 ? (\n              <ResultMap\n                locations={filteredLocations}\n                selectLocation={selectLocation}\n                active={selectedLocation}\n              />\n            ) : (\n              <ResultMap\n                locations={locations}\n                selectLocation={selectLocation}\n                active={selectedLocation}\n              />\n            ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LocationsPerCategorie;\n\nLocationsPerCategorie.fetchData = async (match, search, showError) => {\n  // test URL; http://localhost:8000/fotolocaties/resultaten?lng=52.379189&lat=4.899431\n  // use URLSearchParams for IE Compatibility\n\n  console.log(match);\n\n  let {\n    params: { value },\n  } = match;\n\n  console.log(value);\n\n  const query = `query locationCategorie($value:String!){\n    locationCategories(where:{value: $value}) {\n      label\n    value\n    locations {\n      id\n      title\n      longitude\n      latitude\n      slug\n      location_categories {\n        label\n        value\n        locations {\n          title\n        }\n      }\n      photos {\n            id\n            likes\n            title\n            slug\n            photo {\n                url \n            }\n        }\n    }\n  }\n  }`;\n\n  const data = await graphQLFetch(query, { value }, true);\n  if (data) {\n    console.log(data.locationCategories[0].locations);\n  }\n\n  return data.locationCategories[0].locations;\n\n  // const params = new URLSearchParams(search);\n\n  // console.log(\"fetching data\");\n\n  // const vars = {};\n  // if (params.get(\"lat\")) vars.lat = params.get(\"lat\");\n  // if (params.get(\"lng\")) vars.lng = params.get(\"lng\");\n  // //vars.cat = params.get(\"categorie\") ? params.get(\"categorie\") : \"\";\n\n  // console.log(vars);\n\n  // const _locations = await findNearbyLocations(vars.lat, vars.lng);\n\n  // console.log(_locations);\n\n  // return _locations;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Comment } from \"./RecursiveComment.jsx\";\nimport ReplyBox from \"./ReplyBox.jsx\";\n\nconst PhotoComment = ({ comments, photoId, addComment }) => {\n  const [unflattenedComments, setUnflattenedComments] = useState([]);\n\n  useEffect(() => {\n    console.log(\"unflattening comments\", comments);\n    setUnflattenedComments(unflatten(comments));\n    console.log(\"comments\", comments, unflattenedComments);\n  }, [comments]);\n\n  const unflatten = (arr) => {\n    var tree = [],\n      mappedArr = {},\n      arrElem,\n      mappedElem;\n\n    // First map the nodes of the array to an object -> create a hash table.\n    for (var i = 0, len = arr.length; i < len; i++) {\n      arrElem = arr[i];\n      mappedArr[arrElem.id] = arrElem;\n      mappedArr[arrElem.id][\"children\"] = [];\n    }\n\n    for (var id in mappedArr) {\n      if (mappedArr.hasOwnProperty(id)) {\n        mappedElem = mappedArr[id];\n        // If the element is not at the root level, add it to its parent array of children.\n        if (mappedElem.parent) {\n          mappedArr[mappedElem.parent.id][\"children\"].push(mappedElem);\n        }\n        // If the element is at the root level, add it to first level elements array.\n        else {\n          tree.unshift(mappedElem);\n        }\n      }\n    }\n    return tree;\n  };\n\n  return (\n    <>\n      <ReplyBox photoId={photoId} addComment={addComment} />\n\n      <div className=\"\">\n        {unflattenedComments.length\n          ? unflattenedComments.map((item, idx) => {\n              return (\n                <Comment\n                  item={item}\n                  key={idx}\n                  photoId={photoId}\n                  addComment={addComment}\n                />\n              );\n            })\n          : \"\"}\n      </div>\n    </>\n  );\n};\n\nexport default PhotoComment;\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { FaUserSecret } from \"react-icons/fa\";\nimport ReplyBox from \"./ReplyBox.jsx\";\n\nexport const Comment = ({ item, idx, photoId, addComment }) => {\n  const [showReplyBox, setShowReplyBox] = useState(false);\n\n  const replyClick = () => {\n    setShowReplyBox(!showReplyBox);\n  };\n\n  const closeReplyBox = () => {\n    setShowReplyBox(false);\n  };\n\n  return (\n    <Fragment key={idx}>\n      <div className=\"comment mb-2\">\n        <div>\n          <div className=\"flex\">\n            {item.user.profilePicture !== null ? (\n              <img\n                src={item.user.profilePicture.url}\n                className=\"rounded-full w-12 h-12 mr-4\"\n              />\n            ) : (\n              <div\n                id=\"imagePreview\"\n                className=\"relative h-12 w-12 overflow-hidden rounded-full mr-4\"\n              >\n                <div className=\"fill-current h-12 w-12  mb-auto text-white bg-gray-500  rounded-full flex items-center justify-center\">\n                  <FaUserSecret className=\"text-2xl\" />\n                </div>\n              </div>\n            )}\n            <div className=\"rounded px-3 py-2 bg-gray-100\">\n              <p>{item.body}</p>\n              <span\n                className=\"block text-blue-500 text-xs cursor-pointer\"\n                onClick={replyClick}\n              >\n                Beantwoorden\n              </span>\n            </div>\n          </div>\n          {showReplyBox ? (\n            <ReplyBox\n              replyTo={item.id}\n              photoId={photoId}\n              addComment={addComment}\n              closeBoxHandler={closeReplyBox}\n            />\n          ) : null}\n        </div>\n        {item.children && item.children.length > 0 && (\n          <div className=\"ml-10 mt-2\">\n            {item.children.map((item, idx) => {\n              return (\n                <Comment\n                  item={item}\n                  key={idx}\n                  photoId={photoId}\n                  addComment={addComment}\n                />\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport { userContext } from \"../../services/userContext.js\";\nimport { Link } from \"react-router-dom\";\n\nconst ReplyBox = ({ replyTo = null, photoId, addComment, closeBoxHandler }) => {\n  const [commentValue, setCommentValue] = useState(\"\");\n\n  const onChange = (event) => setCommentValue(event.target.value);\n\n  const post = (userId) => {\n    const data = {\n      body: commentValue,\n      photo: photoId,\n      user: userId,\n      parent: replyTo,\n    };\n    let input = {};\n    input[\"data\"] = data;\n    addComment(input);\n    closeBoxHandler && closeBoxHandler();\n    setCommentValue(\"\");\n  };\n\n  return (\n    <>\n      <userContext.Consumer>\n        {(value) => {\n          if (value.user) {\n            return (\n              <div className=\"flex mb-6\">\n                <div className=\"w-full\">\n                  <div className=\"flex flex-wrap -mx-3\">\n                    <h2 className=\"px-4 pt-3 pb-2 text-gray-800 text-lg\">\n                      Reactie plaatsen\n                    </h2>\n                    <div className=\"w-full md:w-full px-3 mb-2 mt-2\">\n                      <textarea\n                        className=\"bg-gray-100 rounded border border-gray-400 leading-normal resize-none w-full h-20 py-2 px-3 font-medium placeholder-gray-700 focus:outline-none focus:bg-white\"\n                        name=\"body\"\n                        placeholder=\"Je bericht\"\n                        required\n                        value={commentValue}\n                        onChange={onChange}\n                      ></textarea>\n                    </div>\n                    <div className=\"w-full md:w-full flex items-start md:w-full px-3\">\n                      <div className=\"-mr-1\">\n                        <input\n                          type=\"submit\"\n                          className=\"bg-white text-gray-700 font-medium py-1 px-4 border border-gray-400 rounded-lg tracking-wide mr-1 hover:bg-gray-100\"\n                          value=\"Plaatsen\"\n                          onClick={() => {\n                            post(value.user.id);\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          } else {\n            return (\n              <div className=\"p-4 mt-4 mb-6 bg-blue-100 rounded border border-blue-200 text-blue-400\">\n                <Link\n                  to=\"/inloggen\"\n                  className=\"font-bold text-blue-400 hover:text-blue-500\"\n                >\n                  Login\n                </Link>{\" \"}\n                om een reactie te plaatsen\n              </div>\n            );\n          }\n        }}\n      </userContext.Consumer>\n    </>\n  );\n};\n\nexport default ReplyBox;\n","import { useRef } from \"react\";\n\nconst useConstructor = (callBack = () => {}) => {\n  const hasBeenCalled = useRef(false);\n  if (hasBeenCalled.current) return;\n  callBack();\n  hasBeenCalled.current = true;\n};\n\nexport default useConstructor;\n","import React from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Link } from \"react-router-dom\";\n\nconst CategorieList = ({ categories }) => {\n  return (\n    <div className=\"relative container px-6 py-4\">\n      <h2 className=\"text-black mb-2\">Zoek locatie op categorie</h2>\n      <div className=\"flex flex-wrap\">\n        <Swiper spaceBetween={0} slidesPerView=\"auto\">\n          {categories &&\n            categories.map((categorie) => (\n              <SwiperSlide key={categorie.value}>\n                <CategorieLabel categorie={categorie} key={categorie.value} />\n              </SwiperSlide>\n            ))}\n        </Swiper>\n      </div>\n    </div>\n  );\n};\n\nexport default CategorieList;\n\nconst CategorieLabel = ({ categorie: { label, value } }) => {\n  return (\n    <Link\n      to={`/fotolocaties/categorie/${value}`}\n      className=\"block py-2 px-4 rounded-full mr-2 bg-green-100 text-green-400 font-bold hover:bg-green-200 hover:text-green-500\"\n    >\n      {label}\n    </Link>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport Heading from \"./Heading.jsx\";\nimport LocationsNearby from \"./LocationsNearby.jsx\";\nimport CategorieList from \"./CategorieList.jsx\";\nimport graphQLFetch from \"../../graphQLFetch.js\";\nimport store from \"../../store.js\";\nimport { userContext } from \"../../services/userContext.js\";\nimport { Redirect } from \"react-router-dom\";\nimport useConstructor from \"../ConstructorHook.jsx\";\nimport MostRecent from \"./MostRecent.jsx\";\n\nconst Dashboard = (props) => {\n  const [categories, setCategories] = useState();\n\n  const getCategories = async () => {\n    let _categories = store.initialData ? store.initialData : null;\n    delete store.initialData;\n    if (!_categories) {\n      _categories = await Dashboard.fetchData();\n    }\n    setCategories(_categories);\n  };\n\n  useConstructor(() => {\n    getCategories();\n  });\n\n  const redirect = (slug) => {\n    props.history.push(slug);\n  };\n\n  return (\n    <userContext.Consumer>\n      {(value) => {\n        console.log(value);\n        return !value.user ? (\n          <Redirect to=\"/\" />\n        ) : (\n          <React.Fragment>\n            <Heading redirect={redirect} />\n            <LocationsNearby />\n            <CategorieList categories={categories} />\n            <MostRecent />\n          </React.Fragment>\n        );\n      }}\n    </userContext.Consumer>\n  );\n};\n\nexport default Dashboard;\n\nDashboard.fetchData = async (match, search, showError) => {\n  // build the graphql query\n  const query = `query {\n\t\tlocationCategories{\n\t\t  label\n\t\t  value\n\t\t}\n\t  }`;\n\n  const vars = {};\n  const { locationCategories: result } = await graphQLFetch(query, vars, true);\n  return result;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { userContext } from \"../../services/userContext\";\nimport SearchBox from \"./SearchBox.jsx\";\n\nconst Heading = (props) => {\n  const [greeting, setGreeting] = useState();\n\n  useEffect(() => {\n    var myDate = new Date();\n    var hrs = myDate.getHours();\n\n    if (hrs < 12) setGreeting(\"Goedemorgen\");\n    else if (hrs >= 12 && hrs <= 17) setGreeting(\"Goedemiddag\");\n    else if (hrs >= 17 && hrs <= 24) setGreeting(\"Goedenavond\");\n  }, []);\n\n  const personalHeading = (name) => (\n    <h1 className=\"mb-4 text-white\">\n      <div className=\"text-3xl mb-4\">\n        {greeting} {name}!\n      </div>\n      <div>\n        Zoek je volgende <span className=\"text-green-500\">fotolocatie</span>.\n      </div>\n    </h1>\n  );\n\n  return (\n    <div className=\"py-6 px-8 bg-gray-900 text-center\">\n      <div className=\"container pt-16 pb-10\">\n        <userContext.Consumer>\n          {(value) =>\n            !value.user ? (\n              <h1 className=\"mb-4 text-white\">\n                De mooiste fotolocaties, gewoon bij jou in de buurt.\n              </h1>\n            ) : (\n              personalHeading(\n                value.user.firstname\n                  ? value.user.firstname\n                  : value.user.username\n              )\n            )\n          }\n        </userContext.Consumer>\n\n        <SearchBox redirect={props.redirect} />\n      </div>\n    </div>\n  );\n};\n\nexport default Heading;\n","import React, { useEffect, useState } from \"react\";\nimport { findNearbyLocations } from \"../FindNearbyLocations.jsx\";\nimport LocationCard from \"../LocationCards.jsx\";\n// Import Swiper React components\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n\nconst LocationsNearby = () => {\n  const [locations, setLocations] = useState();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async (match, search, showError) => {\n    // get users position\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    const success = async (pos) => {\n      var crd = pos.coords;\n      const _locations = await findNearbyLocations(crd.latitude, crd.longitude);\n      setLocations(_locations);\n    };\n\n    const error = async (err) => {\n      fetch(\"https://ipapi.co/json\")\n        .then((res) => res.json())\n        .then(async (location) => {\n          const _locations = await findNearbyLocations(\n            location.longitude,\n            location.longitude\n          );\n          setLocations(_locations);\n        });\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n  };\n\n  return (\n    <div className=\"relative py-4 \">\n      <div className=\"absolute top-0 left-0 bg-gray-900 h-32 w-full\"></div>\n      <div className=\"relative container px-6\">\n        <h2 className=\"text-white mb-4\">Locaties in de buurt</h2>\n\n        <Swiper spaceBetween={0} slidesPerView=\"auto\">\n          {locations &&\n            locations.map((location) => {\n              return (\n                <SwiperSlide key={location.id}>\n                  <LocationCard location={location} key={location.id} />\n                </SwiperSlide>\n              );\n            })}\n        </Swiper>\n      </div>\n    </div>\n  );\n};\n\nexport default LocationsNearby;\n","import React, { useState } from \"react\";\nimport useConstructor from \"../ConstructorHook.jsx\";\nimport store from \"../../store.js\";\nimport graphQLFetch from \"../../graphQLFetch.js\";\nimport SocialCard from \"./SocialCard.jsx\";\n\nconst MostRecent = () => {\n  const [recentPhotos, setRecentPhotos] = useState();\n\n  const getMostRecent = async () => {\n    let _recentPhotos = store.initialData ? store.initialData : null;\n    delete store.initialData;\n    if (!_recentPhotos) {\n      _recentPhotos = await MostRecent.fetchData();\n    }\n    setRecentPhotos(_recentPhotos);\n  };\n\n  useConstructor(() => {\n    getMostRecent();\n  });\n\n  return (\n    <div className=\"container px-6 py-6\">\n      <h2>Meest Recent</h2>\n      <div className=\"grid grid-cols-3 grid-rows-2 gap-4\">\n        {recentPhotos &&\n          recentPhotos.photos.map((photo) => {\n            return <SocialCard key={photo.id} photo={photo} />;\n          })}\n      </div>\n    </div>\n  );\n};\n\nexport default MostRecent;\n\nMostRecent.fetchData = async (match, search, showError) => {\n  // build the graphql query\n  const query = `query recentPhotos{\n    photos(limit: 6, sort:\"createdAt:desc\") {\ncreatedAt\n      title\n      desc\n      photo {\n          url\n      }\n\n      comments {\n        body\n        user {\n          profilePicture {\n            url\n          }\n          slug\n          username \n        }\n      }\n      slug\n      date\n      brand\n\n      shutterspeed\n      iso\n      aperture\n      camera\n      likes\n      focalLength\nusersLike {\nid\n}\n      location {\n          longitude\n          latitude\n          id\n          title\n          slug\n      }\n      user {\n        id\n        slug\n        username\n        firstname\n        lastname\n        profilePicture {\n            url\n          }\n      }\n    }\n  }`;\n\n  const vars = {};\n  const result = await graphQLFetch(query, vars, true);\n  return result;\n};\n","import React, { useState } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { TiLocationArrow } from \"react-icons/ti\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nconst SearchBox = (props) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [formValue, setFormValue] = useState(\"\");\n  let history = useHistory();\n\n  const handleDropdown = (focussed) => {\n    setShowDropdown(focussed);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log(\"submiteed\");\n    console.log(formValue);\n    const urlValue = formValue.trim().replace(/\\s/g, \"%20\");\n\n    const url = `https://nominatim.openstreetmap.org/search/${urlValue}?format=json&addressdetails=1&limit=1`;\n\n    const response = await fetch(url);\n    console.log(response);\n    if (response.ok) {\n      // if HTTP-status is 200-299\n      // get the response body (the method explained below)\n      let json = await response.json();\n      //console.log(json);\n      //\n      if (json.length > 0) {\n        // the entered city can be converted to lat long\n        sessionStorage.getItem(\"prevsettings\") &&\n          sessionStorage.removeItem(\"prevsettings\");\n        props.redirect(\n          `/fotolocaties/resultaten/?lat=${json[0].lat}&lng=${json[0].lon}`\n        );\n      } else {\n        toast.error(\n          \"Het lijkt erop dat je geen geldige locatie hebt ingevuld :-(\"\n        );\n      }\n    } else {\n      alert(\"HTTP-Error: \" + response.status);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormValue(e.target.value);\n  };\n\n  const searchCurLoc = () => {\n    // get users position\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    const success = async (pos) => {\n      var crd = pos.coords;\n\n      sessionStorage.getItem(\"prevsettings\") &&\n        sessionStorage.removeItem(\"prevsettings\");\n\n      props.redirect(\n        `/fotolocaties/resultaten/?lat=${crd.latitude}&lng=${crd.longitude}`\n      );\n    };\n\n    const error = async (err) => {\n      fetch(\"https://ipapi.co/json\")\n        .then((res) => res.json())\n        .then(async (location) => {\n          props.redirect(\n            `/fotolocaties/resultaten/?lat=${location.latitude}&lng=${location.longitude}`\n          );\n        });\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n  };\n\n  return (\n    <div className=\"searchBox max-w-md mx-auto\">\n      <form\n        action=\"/fotolocaties/resultaten/\"\n        method=\"get\"\n        id=\"search-locations\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"relative\">\n          <div className=\"relative\">\n            <input type=\"hidden\" name=\"lat\" id=\"lat\" />\n            <input type=\"hidden\" name=\"lng\" id=\"lng\" />\n\n            <input\n              className=\"rounded px-4 py-2 w-full top-0 left-0 focus:rounded-t\"\n              type=\"search\"\n              placeholder=\"Locatie zoeken\"\n              onFocus={() => {\n                handleDropdown(true);\n              }}\n              onBlur={() => {\n                setTimeout(() => {\n                  handleDropdown(false);\n                }, 1000);\n              }}\n              onChange={handleChange}\n            />\n            <FaSearch className=\"absolute top-0 right-0 m-3 fill-current text-gray-500\" />\n          </div>\n          {showDropdown && (\n            <div className=\"dropdown bg-white rounded-b border absolute w-full\">\n              <div className=\"flex justify-center items-center px-4 py-2\">\n                <TiLocationArrow />\n                <span onClick={searchCurLoc}>Gebruik huidige locatie</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchBox;\n","import React from \"react\";\nimport UserProfilePicture from \"../UserProfilePicture.jsx\";\nimport Img from \"react-cool-img\";\n\nconst SocialCard = ({ photo }) => {\n  return (\n    <div>\n      <div className=\"flex items-center my-4\">\n        <div className=\"mr-2\">\n          <UserProfilePicture profile={photo.user} size={8} />\n        </div>\n        <div>\n          <div className=\"font-bold\">\n            {photo.user && photo.user.firstname}{\" \"}\n            {photo.user && photo.user.lastname}\n          </div>\n          <div className=\"text-xs text-gray-500\">\n            {photo.createdAt.toLocaleString()}\n          </div>\n        </div>\n      </div>\n      <Img\n        className={`rounded block max-w-none w-full h-64 object-cover`}\n        style={{ backgroundColor: \"grey\", width: \"480\", height: \"320\" }}\n        src={photo.photo[0].url.replace(\n          /-original|-watermark|-thumbnail/gi,\n          \"-small\"\n        )}\n        alt={photo.title}\n      />\n    </div>\n  );\n};\n\nexport default SocialCard;\n","import graphQLFetch from \"../graphQLFetch.js\";\n\nexport const findNearbyLocations = async (lat, lng, category) => {\n  // calculate min and max latitudes\n  //echo 'submit';\n  //const lat = this.state.photo.latitude;\n  //const lng = this.state.photo.longitude;\n\n  category && console.log(category);\n\n  lat = parseFloat(lat);\n  lng = parseFloat(lng);\n\n  //console.log(lat, lng);\n\n  const distance = 50; //in km\n  const radius = 6371; // earth's radius in km = ~6371\n\n  function rad2deg(angle) {\n    return angle * 57.29577951308232; // angle / Math.PI * 180\n  }\n\n  function deg2rad(angle) {\n    return angle * 0.017453292519943295; // (angle / 180) * Math.PI;\n  }\n\n  // latitude boundaries\n  const maxlat = lat + rad2deg(distance / radius);\n  const minlat = lat - rad2deg(distance / radius);\n\n  // longitude boundaries (longitude gets smaller when latitude increases)\n  const maxlng = lng + rad2deg(distance / radius / Math.cos(deg2rad(lat)));\n  const minlng = lng - rad2deg(distance / radius / Math.cos(deg2rad(lat)));\n\n  function distanceFromLocation(lat1, lon1, lat2, lon2) {\n    const theta = lon1 - lon2;\n    let dist =\n      Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2)) +\n      Math.cos(deg2rad(lat1)) *\n        Math.cos(deg2rad(lat2)) *\n        Math.cos(deg2rad(theta));\n    dist = Math.acos(dist);\n    dist = rad2deg(dist);\n    const miles = dist * 60 * 1.1515;\n    return miles * 1.609344;\n  }\n\n  //$query = \"template=location, place.lat>=$minlat, place.lat<=$maxlat, place.lng>=$minlng, place.lng<=$maxlng \";\n\n  const query = `query locationsInRange($minlat:Float!, $maxlat:Float!, $minlng:Float!, $maxlng:Float! $cat:String){\n        locations(where:{latitude_gte:$minlat,latitude_lte:$maxlat,longitude_gte:$minlng,longitude_lte:$maxlng,location_categories:$cat}) {\n        title\n        longitude\n        latitude\n\t\tid\n\t\tlocation_categories {\n\t\t\tlabel\n      value\n      id\n\t\t\tlocations {\n        title\n        id\n\t\t\t}\n\t\t}\n\t\tslug\n        photos {\n            id\n            likes\n            title\n            slug\n            photo {\n                url \n            }\n        }\n        }\n      }`;\n\n  const search = {\n    minlat: parseFloat(minlat),\n    maxlat: parseFloat(maxlat),\n    minlng: parseFloat(minlng),\n    maxlng: parseFloat(maxlng),\n  };\n\n  if (category != \"\") {\n    search.cat = category;\n  }\n\n  //console.log(query, search);\n  const result = await graphQLFetch(query, search, true);\n\n  //console.log(\"result from FindNearbyLocations\", result);\n\n  if (result.locations.length > 0) {\n    //console.log(\"found locations\", result.locations);\n    const locations = result.locations;\n    //sort items on distance\n    locations.forEach((location) => {\n      // lat and lng are from this.state.photo\n      const locDistance = distanceFromLocation(\n        location.latitude,\n        location.longitude,\n        lat,\n        lng\n      );\n      location[\"distance\"] = locDistance;\n    });\n\n    locations.sort(function (a, b) {\n      var keyA = new Date(a.distance),\n        keyB = new Date(b.distance);\n      // Compare the 2 dates\n      if (keyA < keyB) return -1;\n      if (keyA > keyB) return 1;\n      return 0;\n    });\n\n    return locations;\n  } else {\n    return null;\n  }\n};\n","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <>\n      <footer>\n        <div className=\"bg-gray-900 py-12\">\n          <div className=\"container px-6 m-auto text-gray-800 block sm:flex justify-center\">\n            <div className=\"w-full \">\n              <div className=\"text-xs uppercase text-gray-500 font-medium\">\n                Home\n              </div>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Services <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Products <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                About Us <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Pricing <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Partners <span className=\"text-teal-600 text-xs p-1\">New</span>\n              </a>\n            </div>\n            <div className=\"w-full \">\n              <div className=\"text-xs uppercase text-gray-500 font-medium\">\n                User\n              </div>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Sign in <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                New Account <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Demo <span className=\"text-teal-600 text-xs p-1\">New</span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Career{\" \"}\n                <span className=\"text-teal-600 text-xs p-1\">We're hiring</span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Surveys <span className=\"text-teal-600 text-xs p-1\">New</span>\n              </a>\n            </div>\n            <div className=\"w-full \">\n              <div className=\"text-xs uppercase text-gray-500 font-medium\">\n                Resources\n              </div>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Documentation{\" \"}\n                <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Tutorials <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Support <span className=\"text-teal-600 text-xs p-1\">New</span>\n              </a>\n            </div>\n            <div className=\"w-full \">\n              <div className=\"text-xs uppercase text-gray-500 font-medium\">\n                Support\n              </div>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Help Center <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Privacy Policy{\" \"}\n                <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n              <a className=\"my-3 block text-white\" href=\"/#\">\n                Conditions <span className=\"text-teal-600 text-xs p-1\"></span>\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gray-900 pt-2 \">\n          <div\n            className=\"flex pb-5 px-6 m-auto pt-5 border-t text-white text-sm flex-col\n      md:flex-row container\"\n          >\n            <div className=\"mt-2\">© Copyright 2020. All Rights Reserved.</div>\n            <div className=\"md:flex-auto md:flex-row-reverse mt-2 flex-row flex\">\n              <a href=\"/#\" className=\"w-6 mx-1\">\n                <svg\n                  className=\"fill-current cursor-pointer text-gray-500 hover:text-gray-400\"\n                  width=\"100%\"\n                  height=\"100%\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    id=\"Facebook\"\n                    d=\"M24,12c0,6.627 -5.373,12 -12,12c-6.627,0 -12,-5.373 -12,-12c0,-6.627\n                  5.373,-12 12,-12c6.627,0 12,5.373\n                  12,12Zm-11.278,0l1.294,0l0.172,-1.617l-1.466,0l0.002,-0.808c0,-0.422\n                  0.04,-0.648 0.646,-0.648l0.809,0l0,-1.616l-1.295,0c-1.555,0 -2.103,0.784\n                  -2.103,2.102l0,0.97l-0.969,0l0,1.617l0.969,0l0,4.689l1.941,0l0,-4.689Z\"\n                  ></path>\n                </svg>\n              </a>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Img from \"react-cool-img\";\nimport { useHistory } from \"react-router-dom\";\n\nconst LocationCard = (props) => {\n  let { location, size, active } = props;\n  let cardClass;\n  let imageClass;\n  let imageStyle;\n  if (!size) {\n    cardClass = \"w-48 h-48 mr-4 lg:w-64 lg:h-64 locationCard\";\n    imageClass = \"w-auto h-full\";\n    imageStyle = {\n      backgroundColor: \"grey\",\n      transform: \"translateX(-50%)\",\n      left: \"50%\",\n    };\n  } else {\n    if (size === \"large\") {\n      cardClass = active\n        ? \"w-full h-48 mb-4 border-4 border-red-500\"\n        : \"w-full h-48 mb-4\";\n      imageClass = \"w-full h-48 object-cover\";\n      imageStyle = {\n        backgroundColor: \"grey\",\n        transform: \"translateY(-50%)\",\n        top: \"50%\",\n      };\n    }\n  }\n  return (\n    <div>\n      <div\n        className={`relative overflow-hidden rounded shadow hover:shadow-lg transition-shadow duration-500 ease-in-out ${cardClass}`}\n      >\n        <Link\n          className=\"absolute w-full h-full top-0 left-0 z-10\"\n          to={`/fotolocatie/${location.slug}`}\n        ></Link>\n\n        <Img\n          className={`absolute block max-w-none ${imageClass}`}\n          style={imageStyle}\n          src={location.photos\n            .sort((a, b) => b.likes - a.likes)[0]\n            .photo[0].url.replace(/-original|-watermark/gi, \"-small\")}\n          alt={`Bekijk locatie ${location.title}`}\n        />\n\n        <div className=\"absolute w-100 bottom-0 left-0 px-3 py-2\">\n          <h3 className=\"text-white text-sm\">{location.title}</h3>\n          {location.location_categories.map((category) => (\n            <LocationHashtag key={category.id} category={category} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst LocationHashtag = ({ category }) => {\n  return (\n    <span className=\"text-gray-400 mr-2 text-xs\">\n      #{category.label.toLowerCase()}\n    </span>\n  );\n};\n\nexport default LocationCard;\n\nexport const LocationList = ({ location, active, selectLocation }) => {\n  let history = useHistory();\n  let cardClass = active\n    ? \"w-full mb-1 border-2 border-green-500\"\n    : \"w-full mb-1 border-2 border-white\";\n\n  const goToLocation = (slug, id) => {\n    let data = [];\n    if (sessionStorage.getItem(\"visitedLocations\")) {\n      data = JSON.parse(sessionStorage.getItem(\"visitedLocations\"));\n    }\n    if (data.indexOf(id) === -1) {\n      data.push(id);\n    }\n    sessionStorage.setItem(\"visitedLocations\", JSON.stringify(data));\n\n    history.push(`/fotolocatie/${slug}`);\n  };\n\n  return (\n    <div>\n      <div\n        onMouseOver={() => {\n          selectLocation(location.id);\n        }}\n        onMouseOut={() => {\n          selectLocation(\"\");\n        }}\n        className={`relative shadow hover:shadow-lg transition ease-in-out rounded ${cardClass}`}\n      >\n        <div\n          className=\"flex items-center p-1\"\n          onClick={() => {\n            goToLocation(location.slug, location.id);\n          }}\n        >\n          <Img\n            className={`rounded block max-w-none w-20 h-16 object-cover`}\n            style={{\n              backgroundColor: \"grey\",\n            }}\n            src={location.photos\n              .sort((a, b) => b.likes - a.likes)[0]\n              .photo[0].url.replace(/-original|-watermark/gi, \"-small\")}\n            alt={`Bekijk locatie ${location.title}`}\n          />\n\n          <div className=\"px-5 py-2\">\n            <h3 className=\"text-black text-lg\">{location.title}</h3>\n            {location.location_categories.map((category) => (\n              <LocationHashtag key={category.id} category={category} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\n\nconst CategorieFilter = ({ categories, active, onFilterChange }) => {\n  const [filteredCategories, setFilteredCategories] = useState([]);\n  const [value, setValue] = useState();\n\n  useEffect(() => {\n    if (active) setValue(active);\n\n    const _filteredCategories = categories.reduce((newCats, categoryArr) => {\n      categoryArr.map((category) => {\n        const duplicateArr = newCats.filter((index) => {\n          return index.label === category.label;\n        });\n\n        if (duplicateArr.length === 0) {\n          newCats.push(category);\n        }\n\n        return newCats;\n      });\n      return newCats;\n    }, []);\n\n    setFilteredCategories(_filteredCategories);\n  }, []);\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n    if (e.target.value === \"alle\") {\n      onFilterChange(e, true);\n    } else {\n      onFilterChange(e, false);\n    }\n  };\n\n  return (\n    <div>\n      <select\n        value={value}\n        onChange={onChange}\n        name=\"category\"\n        id=\"category\"\n        className=\"border p-1\"\n      >\n        <option value=\"alle\">Alle</option>\n        {filteredCategories.map((category) => {\n          return (\n            <option key={category.id} value={category.id}>\n              {category.label}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n};\n\nexport default CategorieFilter;\n","import React, { useEffect, useState } from \"react\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet-universal\";\nimport locationIcon from \"../../images/locationMarker.svg\";\nimport userIcon from \"../../images/userMarker.svg\";\nimport visIcon from \"../../images/visitedMarker.svg\";\nimport Img from \"react-cool-img\";\nimport { useHistory } from \"react-router-dom\";\n\nconst ResultMap = ({ locations, selectLocation, active }) => {\n  const [bounds, setBounds] = useState([]);\n  const [showMap, setShowMap] = useState(false);\n  const [hoverIcon, setHoverIcon] = useState(false);\n  const [locIcon, setLocIcon] = useState(false);\n  const [visitedIcon, setVisIcon] = useState(false);\n  const [visitedLocations, setVisitedLocations] = useState([]);\n  const [prevSettings, setPrevSettings] = useState();\n  const [dynamicBounds, setDynamicBounds] = useState({});\n  let history = useHistory();\n\n  const loadMap = () => {\n    // loading leaflet in componentDidMount because it doenst support SSR\n    const L = require(\"leaflet\");\n\n    delete L.Icon.Default.prototype._getIconUrl;\n\n    const _hoverIcon = new L.Icon({\n      iconUrl: userIcon,\n      iconRetinaUrl: userIcon,\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n      className: \"little-blue-dot-\" + location.id,\n    });\n\n    const _locIcon = new L.Icon({\n      iconUrl: locationIcon,\n      iconRetinaUrl: locationIcon,\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n      className: \"little-blue-dot-\" + location.id,\n    });\n\n    const _visIcon = new L.Icon({\n      iconUrl: visIcon,\n      iconRetinaUrl: visIcon,\n      iconAnchor: [16, 40],\n      popupAnchor: [0, -40],\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n      shadowAnchor: [13, 40],\n      iconSize: new L.Point(32, 40),\n      className: \"little-blue-dot-\" + location.id,\n    });\n\n    setHoverIcon(_hoverIcon);\n    setLocIcon(_locIcon);\n    setVisIcon(_visIcon);\n\n    // get users position\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n    //const bounds = Leaflet.latLngBounds([position, position2]);\n    const _bounds = L.latLngBounds(\n      locations.map((location) => {\n        return [location.latitude, location.longitude];\n      })\n    );\n    setBounds(_bounds);\n\n    if (sessionStorage.getItem(\"visitedLocations\")) {\n      setVisitedLocations(\n        JSON.parse(sessionStorage.getItem(\"visitedLocations\"))\n      );\n    }\n\n    if (sessionStorage.getItem(\"prevsettings\")) {\n      console.log(\"getItem prevsettings if\");\n      setPrevSettings(JSON.parse(sessionStorage.getItem(\"prevsettings\")));\n      setBounds(null);\n    } else {\n      setDynamicBounds((dynamicBounds.bounds = _bounds));\n      console.log({ dynamicBounds });\n    }\n\n    setShowMap(true);\n  };\n\n  // useConstructor(() => {\n  //   loadMap();\n  // });\n\n  useEffect(() => {\n    loadMap();\n  }, []);\n\n  const goToLocation = (slug, id) => {\n    let data = [];\n    if (sessionStorage.getItem(\"visitedLocations\")) {\n      data = JSON.parse(sessionStorage.getItem(\"visitedLocations\"));\n    }\n    if (data.indexOf(id) === -1) {\n      data.push(id);\n    }\n    sessionStorage.setItem(\"visitedLocations\", JSON.stringify(data));\n\n    history.push(`/fotolocatie/${slug}`);\n  };\n\n  const onViewportChanged = (viewport) => {\n    console.log(viewport);\n    setPrevSettings(viewport);\n    sessionStorage.setItem(\"prevsettings\", JSON.stringify(viewport));\n  };\n\n  return (\n    <>\n      {showMap && (\n        <Map\n          center={prevSettings ? prevSettings.center : [52.0841037, 4.9424092]}\n          zoom={prevSettings ? prevSettings.zoom : 13}\n          // center={[52.0841037, 4.9424092]}\n          // zoom={13}\n          scrollWheelZoom={false}\n          className=\"resultMap w-full\"\n          id=\"photoLocation\"\n          onViewportChanged={onViewportChanged}\n          bounds={bounds || null}\n        >\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          {locations.map((location) => {\n            return (\n              <Marker\n                position={[location.latitude, location.longitude]}\n                key={location.id}\n                onMouseOver={() => {\n                  console.log(\"check\", active, location.id);\n                  selectLocation(location.id);\n                }}\n                onMouseOut={() => {\n                  selectLocation(\"\");\n                }}\n                className=\"hover:translate-x-2 bg-black border border-red-500\"\n                icon={\n                  active === location.id\n                    ? hoverIcon\n                    : visitedLocations.indexOf(location.id) !== -1\n                    ? visitedIcon\n                    : locIcon\n                }\n              >\n                <Popup autoPan={false}>\n                  <span className=\"font-bold text-large block mb-2\">\n                    {location.title}\n                  </span>\n                  <Img\n                    className={` block max-w-none w-full h-18 object-cover`}\n                    src={location.photos\n                      .sort((a, b) => b.likes - a.likes)[0]\n                      .photo[0].url.replace(/-original|-watermark/gi, \"-small\")}\n                    alt={`Bekijk locatie ${location.title}`}\n                  />\n                  <div\n                    className=\"text-blue-400 font-bold text-large mt-2\"\n                    onClick={() => {\n                      goToLocation(location.slug, location.id);\n                    }}\n                  >\n                    Bekijk fotolocatie »\n                  </div>\n                </Popup>\n              </Marker>\n            );\n          })}\n        </Map>\n      )}\n    </>\n  );\n};\n\nexport default ResultMap;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { findNearbyLocations } from \"../FindNearbyLocations.jsx\";\n/* to support IE */\nimport store from \"../../store.js\";\nimport { LocationList } from \"../LocationCards.jsx\";\nimport useConstructor from \"../ConstructorHook.jsx\";\nimport ResultMap from \"./ResultMap.jsx\";\nimport CategorieFilter from \"./CategorieFilter.jsx\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst Results = (props) => {\n  const [locations, setLocations] = useState();\n  const [filteredLocations, setFilteredLocations] = useState({});\n  const [activeFilter, setActiveFilter] = useState(\"\");\n  const [selectedLocation, setSelectedLocation] = useState();\n  const [showMap, setShowMap] = useState(false);\n\n  let history = useHistory();\n  let location = useLocation();\n\n  useEffect(() => {\n    !locations && getLocations();\n\n    const _activeFilter = getActiveFilter();\n\n    if (locations) {\n      const _filteredLocations = locations.filter((location) => {\n        const include = location.location_categories.filter((categorie) => {\n          if (categorie.id === _activeFilter) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n        //console.log(location.id, include);\n        if (include.length > 0) return true;\n      });\n      setFilteredLocations(_filteredLocations);\n    }\n    //console.log(_filteredLocations);\n  }, [location]);\n\n  const getLocations = async () => {\n    let _locations = store.initialData ? store.initialData : null;\n    console.log(store.initialData, _locations);\n    delete store.initialData;\n    if (!_locations) {\n      console.log(\"getting locations\");\n      _locations = await Results.fetchData(null, location.search);\n    }\n    setLocations(_locations.filter((location) => location.photos.length > 0));\n    console.log(_locations);\n  };\n\n  const getActiveFilter = () => {\n    const params = new URLSearchParams(location.search);\n\n    const _activeFilter = params.get(\"categorie\")\n      ? params.get(\"categorie\")\n      : \"\";\n\n    if (_activeFilter) {\n      return _activeFilter;\n    } else {\n      return false;\n    }\n  };\n\n  useConstructor(() => {\n    const _activeFilter = getActiveFilter();\n    if (_activeFilter) {\n      setActiveFilter(_activeFilter);\n    }\n    getLocations();\n    setShowMap(true);\n  });\n\n  const onFilterChange = (e, reset) => {\n    const params = new URLSearchParams(location.search);\n\n    const vars = {};\n    if (params.get(\"lat\")) vars.lat = params.get(\"lat\");\n    if (params.get(\"lng\")) vars.lng = params.get(\"lng\");\n\n    let url = \"\";\n    if (reset) {\n      url = `/fotolocaties/resultaten?lng=${vars.lng}&lat=${vars.lat}`;\n    } else {\n      url = `/fotolocaties/resultaten?lng=${vars.lng}&lat=${vars.lat}&categorie=${e.target.value}`;\n    }\n\n    history.push(url);\n  };\n\n  const selectLocation = (locationId) => {\n    setSelectedLocation(locationId);\n  };\n\n  return (\n    <div className=\"relative h-screen\">\n      <div className=\"flex h-full\">\n        <div className=\"w-full p-4 h-screen overflow-scroll\">\n          <h1>Resultaten</h1>\n          <div className=\"mb-2 flex\">\n            <span className=\"mr-2\">Filter op categorie:</span>\n            {locations &&\n              (filteredLocations.length > 0 ? (\n                <CategorieFilter\n                  active={activeFilter}\n                  onFilterChange={onFilterChange}\n                  categories={filteredLocations.map((location) => {\n                    return location.location_categories;\n                  })}\n                />\n              ) : (\n                <CategorieFilter\n                  active={activeFilter}\n                  onFilterChange={onFilterChange}\n                  categories={locations.map((location) => {\n                    return location.location_categories;\n                  })}\n                />\n              ))}\n          </div>\n          {locations &&\n            (filteredLocations.length > 0\n              ? filteredLocations.map((location) => (\n                  <div key={location.id} className=\"w-full\">\n                    <LocationList\n                      size=\"large\"\n                      location={location}\n                      key={location.id}\n                      active={selectedLocation === location.id ? true : false}\n                      selectLocation={selectLocation}\n                    />\n                  </div>\n                ))\n              : locations.map((location) => (\n                  <div key={location.id} className=\"w-full\">\n                    <LocationList\n                      size=\"large\"\n                      location={location}\n                      key={location.id}\n                      active={selectedLocation === location.id ? true : false}\n                      selectLocation={selectLocation}\n                    />\n                  </div>\n                )))}\n        </div>\n\n        <div className=\"mb-10 w-full h-full\">\n          {showMap &&\n            locations &&\n            (filteredLocations.length > 0 ? (\n              <ResultMap\n                locations={filteredLocations}\n                selectLocation={selectLocation}\n                active={selectedLocation}\n              />\n            ) : (\n              <ResultMap\n                locations={locations}\n                selectLocation={selectLocation}\n                active={selectedLocation}\n              />\n            ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Results;\n\nResults.fetchData = async (match, search, showError) => {\n  // test URL; http://localhost:8000/fotolocaties/resultaten?lng=52.379189&lat=4.899431\n  // use URLSearchParams for IE Compatibility\n  const params = new URLSearchParams(search);\n\n  console.log(\"fetching data\");\n\n  const vars = {};\n  if (params.get(\"lat\")) vars.lat = params.get(\"lat\");\n  if (params.get(\"lng\")) vars.lng = params.get(\"lng\");\n  //vars.cat = params.get(\"categorie\") ? params.get(\"categorie\") : \"\";\n\n  console.log(vars);\n\n  const _locations = await findNearbyLocations(vars.lat, vars.lng);\n\n  console.log(_locations);\n\n  return _locations;\n};\n","import React from \"react\";\nimport { FaUserSecret } from \"react-icons/fa\";\n\nconst UserProfilePicture = ({ profile, size = 16 }) => {\n  return profile.profilePicture !== null &&\n    profile.profilePicture !== undefined ? (\n    <div\n      id=\"imagePreview\"\n      className={`relative h-${size} w-${size} sm:h-${size + 4} sm:w-${\n        size + 4\n      } overflow-hidden rounded-full`}\n    >\n      <img\n        className={`w-auto h-${size} sm:h-${size + 4} sm:w-${\n          size + 4\n        } rounded-full mb-2`}\n        src={profile.profilePicture.url}\n      ></img>\n    </div>\n  ) : (\n    <div\n      id=\"imagePreview\"\n      className={`relative h-${size} w-${size} sm:h-${size + 4} sm:w-${\n        size + 4\n      } overflow-hidden rounded-full`}\n    >\n      <div\n        className={`fill-current h-${size} w-${size} sm:h-${size + 4} sm:w-${\n          size + 4\n        } mr-4 mb-auto text-white bg-gray-500  rounded-full flex items-center justify-center`}\n      >\n        <FaUserSecret className=\"text-2xl\" />\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfilePicture;\n","import React, { useState } from \"react\";\nimport { FaHeart, FaSpinner } from \"react-icons/fa\";\n\nconst favButton = ({\n  favourite,\n  updateFav,\n  user,\n  likedId,\n  addTitle,\n  removeTitle,\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [liked, setLiked] = useState(favourite);\n\n  const onBtnClick = () => {\n    liked\n      ? updateFav(user, likedId, \"remove\")\n      : updateFav(user, likedId, \"add\");\n    setLiked(!liked);\n  };\n\n  const heartClass = !liked\n    ? `inline-block bg-white rounded py-2 px-3 h-8 text-gray-500 hover:text-red-500`\n    : `inline-block bg-white rounded py-2 px-3 h-8 text-red-500`;\n\n  return (\n    <div\n      className=\"revealTooltip mb-2 flex pointer justify-end items-center\"\n      onClick={loading ? () => {} : onBtnClick}\n    >\n      <div className=\"hidden inline-block bg-white rounded py-1 px-3 h-8\">\n        {!liked ? addTitle : removeTitle}\n      </div>\n      <div className={heartClass}>{loading ? <FaSpinner /> : <FaHeart />}</div>\n    </div>\n  );\n};\n\nexport default favButton;\n","import React, { useState, useEffect } from \"react\";\nimport { FiPlus, FiMinus } from \"react-icons/fi\";\n\nconst followButton = ({ follow, updateFollow, followId }) => {\n  const [loading, setLoading] = useState(false);\n  const [followed, setFollowed] = useState(follow);\n\n  const onBtnClick = () => {\n    console.log(\"clicked\");\n    followed ? updateFollow(followId) : updateFollow(followId);\n    setFollowed(!followed);\n  };\n\n  useEffect(() => {\n    setFollowed(follow);\n  }, [follow]);\n\n  const followIcon = !followed ? <FiPlus /> : <FiMinus />;\n\n  const followClass = !followed\n    ? `cursor-pointer my-1 rounded w-full sm:w-auto bg-blue-500 hover:bg-blue-600 text-white px-2 py-2 text-xs flex justify-center items-center followProfile`\n    : `cursor-pointer my-1 rounded w-full sm:w-auto bg-gray-500 hover:bg-gray-600 text-white px-2 py-2 text-xs flex justify-center items-center followProfile`;\n\n  return (\n    <div onClick={loading ? () => {} : onBtnClick} className={followClass}>\n      {followIcon}\n      {!followed ? ` Volgen` : ` Ontvolgen`}\n    </div>\n  );\n};\n\nexport default followButton;\n","import React, { useState, useEffect } from \"react\";\nimport UserProfilePicture from \"../UserProfilePicture.jsx\";\n\nconst Notifications = ({ user, onClick }) => {\n  return (\n    <>\n      <div\n        className=\"absolute bg-white rounded py-6 border z-10 right-0 shadow-lg\"\n        id=\"notifications\"\n      >\n        <h1 className=\"text-black pl-6\">Meldingen</h1>\n        {user.receivedNotifications &&\n          user.receivedNotifications.map((notification) => {\n            return (\n              <Notification\n                onClick={onClick}\n                key={notification.id}\n                notification={notification}\n              />\n            );\n          })}\n      </div>\n    </>\n  );\n};\n\nexport default Notifications;\n\nconst Notification = ({ notification, onClick }) => {\n  const { giver, photo } = notification;\n\n  console.log(notification);\n\n  const generateText = () => {\n    if (notification.action === \"like\") {\n      return `${\n        !giver.firstame ? giver.username : giver.firstname\n      } vind je foto ${photo.title} leuk`;\n    }\n    if (notification.action === \"comment\") {\n      return `${\n        !giver.firstame ? giver.username : giver.firstname\n      } heeft gereageerd op je foto ${photo.title}`;\n    }\n    if (notification.action === \"follow\") {\n      return `${\n        !giver.firstame ? giver.username : giver.firstname\n      } volgt je nu!`;\n    }\n  };\n\n  const goToPage = () => {\n    if (notification.action === \"like\" || notification.action === \"comment\") {\n      onClick(`/foto/${photo.slug}`);\n    }\n    if (notification.action === \"follow\") {\n      onClick(`/fotograaf/${giver.slug}`);\n    }\n  };\n\n  return (\n    <>\n      <div\n        onClick={goToPage}\n        className=\"flex items-center relative my-2 px-6 py-4 hover:bg-gray-100\"\n      >\n        <div className=\"mr-4\">\n          <UserProfilePicture profile={notification.giver} size={8} />\n        </div>\n        <div>{generateText()}</div>\n      </div>\n    </>\n  );\n};\n","\nimport { toast, ToastType } from 'react-toastify';\nimport fetch from 'isomorphic-fetch';\n\nconst dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\n\nfunction jsonDateReviver(key, value) {\n    if (dateRegex.test(value)) return new Date(value);\n    return value;\n}\n\nexport default async function graphQLFetch(query, variables = {}, isBlog = false, returnError = false) {\n    //console.log('query from graphQlFetch ' + query)\n    let apiEndpoint = (__isBrowser__) // eslint-disable-line no-undef\n        ? window.ENV.UI_API_ENDPOINT\n        : process.env.UI_SERVER_API_ENDPOINT;\n\n    apiEndpoint = isBlog ? 'http://localhost:1337/graphql' : apiEndpoint;\n\n    try {\n        const response = await fetch(apiEndpoint, {\n            method: \"POST\",\n            headers: { \"Content-type\": \"application/json\" },\n            body: JSON.stringify({ query, variables })\n        });\n        const body = await response.text();\n        const result = JSON.parse(body, jsonDateReviver);\n\n        // alert the error message whenthe result is containing erros\n        if (result.errors) {\n            const error = result.errors[0];\n            if (error.extensions.code == \"BAD_USER_INPUT\") {\n                console.log(error);\n                const details = error.extensions.exception.errors.join(\"\\n \");\n                toast.error(`${error.message}\\n ${details}`);\n                if (returnError) return result;\n            } else {\n                toast.error(`${error.extensions.code}\\n ${error.message}`);\n                if (returnError) return result;\n            }\n        }\n        return result.data;\n    } catch (e) {\n        toast.error(`Error in sending data to server: ${e.message}`);\n    }\n}","export default __webpack_public_path__ + \"3dd5bee5e47514a333b518f1c68a0831.svg\";","export default __webpack_public_path__ + \"34bcdf28c1687c9e3e7bf72842119b4f.png\";","export default __webpack_public_path__ + \"0325b3fec9806c898205b7d408b0b963.svg\";","export default __webpack_public_path__ + \"bcaf5cb2422e718038f690e92846255a.svg\";","import PhotoDetailStrapi from \"./PhotoDetailStrapi.jsx\";\nimport LocationDetailStrapi from \"./LocationDetailStrapi.jsx\";\nimport PhotoAddStrapi from \"./PhotoAddStrapi.jsx\";\nimport PhotoAddToLocation from \"./PhotoAddToLocation.jsx\";\nimport Home from \"./Home.jsx\";\nimport NotFound from \"./NotFound.jsx\";\nimport BlogPost from \"./BlogPost.jsx\";\nimport RegisterForm from \"./RegisterHooks.jsx\";\nimport Login from \"./LoginHooks.jsx\";\nimport Logout from \"./Logout.jsx\";\nimport ForgotPassword from \"./ForgotPassword.jsx\";\nimport Profile from \"./Profile.jsx\";\nimport FBConnect from \"./FBConnect.jsx\";\nimport ProfileEdit from \"./ProfileEdit.jsx\";\nimport LocationsPerCategorie from \"./components/CategorySearch/LocationsPerCategorie.jsx\";\nimport Results from \"./components/Results/Results.jsx\";\nimport Dashboard from \"./components/Dashboard/Dashboard.jsx\";\nimport Notifications from \"./components/notificationCenter/notifications.jsx\";\n\nconst routes = [\n  { path: \"/aanmelden\", component: RegisterForm, exact: true },\n  { path: \"/berichten\", component: Notifications, exact: true },\n  { path: \"/inloggen\", component: Login, exact: true },\n  { path: \"/uitloggen\", component: Logout, exact: true },\n  { path: \"/wachtwoord-vergeten\", component: ForgotPassword, exact: true },\n  { path: \"/foto/toevoegen\", component: PhotoAddStrapi, exact: true },\n  { path: \"/foto/toevoegen/:id\", component: PhotoAddToLocation, exact: true },\n  { path: \"/fotograaf/:slug\", component: Profile, exact: true },\n  { path: \"/foto/:id\", component: PhotoDetailStrapi, exact: true },\n  { path: \"/fotolocatie/:id\", component: LocationDetailStrapi, exact: true },\n  {\n    path: \"/fotolocaties/categorie/:value\",\n    component: LocationsPerCategorie,\n    exact: true,\n  },\n  {\n    path: \"/fotolocaties/resultaten\",\n    component: Results,\n    exact: true,\n  },\n  //{ path: \"/fotos\", component: PhotoListStrapi },\n  { path: \"/connect/facebook\", component: FBConnect },\n  //{ path: \"/bewerken/:id\", component: PhotoEdit, exact: true },\n  { path: \"/profiel/bewerken/:slug\", component: ProfileEdit },\n  //{ path: \"/report\", component: PhotoReport },\n  //{ path: \"/about\", component: About },\n  { path: \"/\", component: Home, exact: true },\n  { path: \"/dashboard\", component: Dashboard, exact: true },\n  { path: \"/niet-gevonden\", component: NotFound, exact: true },\n  { path: \"/*\", component: BlogPost },\n];\n\nexport default routes;\n","import graphQLFetch from \"../graphQLFetch.js\";\nimport jwtDecode from \"jwt-decode\";\n\nconst tokenKey = \"token\";\n\nexport async function register(input) {\n  const query = `mutation register($input: UsersPermissionsRegisterInput!) {\n            register(input: $input) {\n                jwt\n                user {\n                  id\n                  email\n                  username\n                  slug\n                }\n            }\n          } `;\n\n  const result = await graphQLFetch(query, { input }, true, true);\n  console.log(result);\n  if (!result.errors) {\n    // user registered and getting JWT token!\n    const {\n      register: { jwt },\n    } = result;\n    localStorage.setItem(tokenKey, jwt);\n    return true;\n  } else {\n    return result.errors[0];\n  }\n}\n\nexport function setToken(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport async function login(input) {\n  const query = `mutation login($input: UsersPermissionsLoginInput!) {\n            login(input: $input) {\n              jwt\n              user {\n                id\n                email\n\t\t\t\tusername\n              }\n            }\n          } `;\n\n  const result = await graphQLFetch(query, { input }, true, true);\n  //console.log(result);\n\n  console.log(result);\n  if (!result.errors) {\n    // user registered and getting JWT token!\n    const {\n      login: { jwt },\n    } = result;\n    localStorage.setItem(tokenKey, jwt);\n    return true;\n  } else {\n    return result.errors[0];\n  }\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport async function checkAvailability(type, value) {\n  const query = `query checkAvailability($${type}:String!){\n    users( where: { ${type}: $${type} }) {\n      ${type}\n    }\n  } `;\n\n  console.log(query, type, value);\n\n  const result = await graphQLFetch(query, value, true, true);\n  console.log(result);\n  console.log(result.users.length);\n  if (result.users.length > 0) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nexport async function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    //console.log(\"jwt\", jwt);\n    const userId = jwtDecode(jwt).id;\n\n    const query = `query getUser($id:ID!) {\n            user(id: $id) {\n                id\n                email\n                username\n                slug\n                receivedNotifications {\n                  id\n                  photo {\n                    title\n                    id\n                    slug\n                  }\n                  action\n                  giver {\n                    id\n                    firstname\n                    lastname\n                    slug\n                    username\n                    profilePicture {\n                      url\n                    }\n                  }\n                }\n                followings {\n                  id\n                }\n                favouriteLocations {\n                  id\n                }\n                likedPhotos {\n                  id\n                }\n                photos {\n                id\n                }\n            }\n            } `;\n\n    const result = await graphQLFetch(query, { id: userId }, true, true);\n    //console.log(result);\n    if (result) {\n      return result.user;\n    }\n  } catch (ex) {\n    return null;\n  }\n}\n\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  register,\n  setToken,\n  checkAvailability,\n};\n","import axios from \"axios\";\n\naxios.interceptors.response.use(null, (error) => {\n  const expextedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expextedError) {\n    console.log(\"Logging the error\", error);\n  }\n});\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete\n};\n","import React from \"react\";\nexport const userContext = React.createContext({ user: {} }); // Create a context object\n","const store = {};\nexport default store;","const path = require(\"path\");\nconst nodeExternals = require(\"webpack-node-externals\");\nconst webpack = require(\"webpack\");\n\nconst browserConfig = {\n  mode: \"development\",\n  entry: { app: [\"./browser/App.jsx\"] },\n  output: {\n    filename: \"[name].bundle.js\",\n    path: path.resolve(__dirname, \"public\"),\n    publicPath: \"/\",\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.(sa|sc|c)ss$/,\n        use: [\n          // Creates `style` nodes from JS strings\n          \"style-loader\",\n          // Translates CSS into CommonJS\n          \"css-loader\",\n          {\n            loader: \"postcss-loader\",\n            options: {\n              postcssOptions: {\n                plugins: [require(\"tailwindcss\"), require(\"autoprefixer\")],\n              },\n            },\n          },\n          // Compiles Sass to CSS\n          \"sass-loader\",\n        ],\n      },\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        use: {\n          loader: \"babel-loader\",\n          options: {\n            presets: [\n              [\n                \"@babel/preset-env\",\n                {\n                  targets: {\n                    ie: \"11\",\n                    edge: \"15\",\n                    safari: \"10\",\n                    firefox: \"50\",\n                    chrome: \"49\",\n                  },\n                },\n              ],\n              \"@babel/preset-react\",\n            ],\n            plugins: [\"@babel/plugin-proposal-class-properties\"],\n          },\n        },\n      },\n      {\n        test: /\\.(png|jpe?g|gif|svg)$/i,\n        use: [\n          {\n            loader: \"file-loader\",\n          },\n        ],\n      },\n    ],\n  },\n  optimization: {\n    splitChunks: {\n      name: \"vendor\",\n      chunks: \"all\",\n    },\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: \"true\",\n    }),\n  ],\n  devtool: \"source-map\",\n};\n\nconst serverConfig = {\n  mode: \"development\",\n  entry: { server: [\"./server/uiserver.js\"] },\n  target: \"node\",\n  externals: [nodeExternals()],\n  output: {\n    filename: \"server.js\",\n    path: path.resolve(__dirname, \"dist\"),\n    publicPath: \"/\",\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        use: {\n          loader: \"babel-loader\",\n          options: {\n            presets: [\n              [\n                \"@babel/preset-env\",\n                {\n                  targets: { node: \"10\" },\n                },\n              ],\n              \"@babel/preset-react\",\n            ],\n            plugins: [\"@babel/plugin-proposal-class-properties\"],\n          },\n        },\n      },\n      {\n        test: /\\.(png|jpe?g|gif|svg)$/i,\n        use: [\n          {\n            loader: \"file-loader\",\n          },\n        ],\n      },\n    ],\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      __isBrowser__: \"false\",\n    }),\n  ],\n  devtool: \"source-map\",\n};\n\nmodule.exports = [browserConfig, serverConfig];\n","module.exports = require(\"@hapi/joi\");","module.exports = require(\"autoprefixer\");","module.exports = require(\"axios\");","module.exports = require(\"dotenv\");","module.exports = require(\"exif-js\");","module.exports = require(\"exifr\");","module.exports = require(\"express\");","module.exports = require(\"http-proxy-middleware\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"jwt-decode\");","module.exports = require(\"leaflet\");","module.exports = require(\"leaflet/dist/images/marker-shadow.png\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-cool-img\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-icons/ai\");","module.exports = require(\"react-icons/cg\");","module.exports = require(\"react-icons/fa\");","module.exports = require(\"react-icons/fi\");","module.exports = require(\"react-icons/go\");","module.exports = require(\"react-icons/io5\");","module.exports = require(\"react-icons/md\");","module.exports = require(\"react-icons/ti\");","module.exports = require(\"react-leaflet-universal\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-select\");","module.exports = require(\"react-select/animated\");","module.exports = require(\"react-select/creatable\");","module.exports = require(\"react-toastify\");","module.exports = require(\"serialize-javascript\");","module.exports = require(\"slugify\");","module.exports = require(\"source-map-support\");","module.exports = require(\"swiper/react\");","module.exports = require(\"tailwindcss\");","module.exports = require(\"url-search-params\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");","module.exports = require(\"webpack-node-externals\");"],"sourceRoot":""}